{
  "log": {
    "version": "1.1",
    "creator": {
      "name": "Firebug",
      "version": "1.9"
    },
    "browser": {
      "name": "Firefox",
      "version": "12.0"
    },
    "pages": [
      {
        "startedDateTime": "2012-05-30T13:49:00.567+04:00",
        "id": "page_3449",
        "title": "О студии | FREE",
        "pageTimings": {
          "onContentLoad": 189,
          "onLoad": 316
        }
      }
    ],
    "entries": [
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.567+04:00",
        "time": 27,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 613,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/html; charset=UTF-8"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Expires",
              "value": "Mon, 26 Jul 1997 05:00:00 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "no-cache, no-store, must-revalidate, post-check=0, pre-check=0"
            },
            {
              "name": "Pragma",
              "value": "no-cache"
            },
            {
              "name": "Status",
              "value": "200 OK"
            },
            {
              "name": "X-Wm-out",
              "value": "Cached"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Content-Length",
              "value": "5452"
            }
          ],
          "content": {
            "mimeType": "text/html",
            "size": 18298,
            "text": "<html>\r\n<head>\r\n<title>О студии | FREE</title>\r\n<meta name=\"GENERATOR\" content=\"\n -= Amiro.CMS (c) =- \n www.amiro.ru \n\">\r\n<meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\">\r\n<meta name=\"robots\" content=\"index,follow\">\r\n<meta name=\"revisit-after\" content=\"5 days\">\r\n<meta name=\"keywords\" content=\"студии, идеология, студии, студия, хаммер, существует, рынке, разработки, создания, сайтов, семь, 2001, году, волне, разочарования, бизнес-возможностями, интернета, вызванного, мыльным, пузыр, группа, разработчиков, бывших, дот-комов, собралась, вместе\">\r\n<meta name=\"description\" content=\"О студии. Идеология студии Студия «Хаммер» существует на рынке разработки и создания сайтов семь лет. В 2001 году, на волне разочарования бизнес-возможностями Интернета, вызванного «мыльным пузырём», группа разработчиков из бывших «дот-комов»\">\r\n<base href=\"http://atceli.bget.ru/\">\r\n<link rel=\"shortcut icon\" href=\"http://atceli.bget.ru/favicon.ico\" type=\"image/x-icon\">\r\n<link rel=\"icon\" href=\"http://atceli.bget.ru/favicon.ico\" type=\"image/x-icon\">\r\n<script type=\"text/javascript\" language=\"JavaScript\">\r\nvar frontBaseHref = 'http://atceli.bget.ru/';\r\nvar sessionCookieName='session_';\r\nvar DATE_CONVERTION = new Array ('Сегодня', 'Вчера', '30.05.12', '29.05.12');\r\nvar active_module = 'pages';\r\nvar active_module_link = 'http://atceli.bget.ru/';\r\n</script>\r\n<script type=\"text/javascript\" src=\"http://atceli.bget.ru/system_js.php?script=system|filter|api&_cv=5.12.4.0\"></script>\r\n<script type=\"text/javascript\" src=\"http://atceli.bget.ru/_js/common.js?_cv=5.12.4.0\"></script>\r\n<script type=\"text/javascript\" src=\"http://atceli.bget.ru/_js/preload.js?_cv=5.12.4.0\"></script>\r\n<script type=\"text/javascript\" src=\"http://atceli.bget.ru/_js/menu.js?_cv=5.12.4.0\"></script>\r\n<link rel=\"stylesheet\" href=\"http://atceli.bget.ru/_mod_files/_css/common.css?_cv=5.12.4.0\" type=\"text/css\">\r\n<link rel=\"stylesheet\" href=\"http://atceli.bget.ru/_mod_files/_css/home.css?_cv=5.12.4.0\" type=\"text/css\">\r\n</head>\r\n\r\n<body leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\"><script type=\"text/javascript\">function nkajrghetjktulxa(data){document.write(decodeURIComponent(data))}</script>\r\n  <div id=stat>\r\n    \r\n  </div>\r\n  <table id=layout height=\"100%\" cellspacing=0 cellpadding=0 width=\"100%\" border=0><tbody>\r\n      <tr>\r\n        <td id=lay_f1 width=100% valign=top>\r\n          <div class=\"header_icons\">\r\n<a href=\"sitemap.html\"><img src=\"_mod_files/ce_images/tree.gif\"></a>\r\n<a title=\"Контакты\" href=\"contacts\" target=\"_self\"><img src=\"_img/mail.gif\"></a>\r\n<a href=\"\"><img src=\"_img/home.gif\"></a>\r\n</div>\r\n\r\n\r\n<table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n<tbody>\r\n<tr>\r\n<td class=\"title_img\" valign=\"top\" nowrap=\"nowrap\">\r\n<a href=\"/\" target=\"_self\"><img title=\"\" style=\"width: 396px; height: 130px;\" alt=\"\" src=\"_mod_files/ce_images/logo.gif\" width=\"396\" align=\"\" border=\"0\" height=\"130\"></a>\r\n<h2><font color=\"#419015\">ювелирный рестайлинг сайтов</font></h2>\r\n</td>\r\n<td class=\"title_sticers\"><spec_mark name=spec_small_stickers_00200143></spec_mark>\r\n\r\n<table width=100% border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"stickers\">\r\n<tr>\r\n  \r\n<td class=\"small_row\" id=\"sticker_35575327_td\">\r\n\t\r\n\t<div id=\"sticker_35575327\" >\r\n\t\t\r\n\t\t<div class=\"small_announce\"><P><STRONG>Адрес: </STRONG>125047,&nbsp;Москва, Брестская 1-я ул., 22 (м. \"Белорусская\")</P>\r\n<P>Тел./факс: (495) 746-80-44<BR>e-mail: <script type=\"text/javascript\">nkajrghetjktulxa(\"%3Ca%20href%3D%22mailto%3Atest%40test.ru%22%3Etest%40test.ru%3C%2FA%3E\")</script></P></aiv>\r\n\t</div>\r\n</td>\r\n\r\n</tr>\r\n</table>\r\n<spec_mark_ name=spec_small_stickers_00200143></spec_mark_></td>\r\n<td class=\"title_sticers\"><spec_mark name=spec_top_menu></spec_mark>\r\n             <table cellpadding=0 cellspacing=0 border=0 class=\"top_menu\">\r\n             <tr><td valign=middle width=100%><nobr><li>&nbsp;&nbsp;<a   href=\"blog\">Блог сайтостроителя</a></li></nobr></td></tr><tr><td height=5></td></tr><tr><td valign=middle width=100%><nobr><li>&nbsp;&nbsp;<a   href=\"forum\">Форум</a></li></nobr></td></tr><tr><td height=5></td></tr><tr><td valign=middle width=100%><nobr><li>&nbsp;&nbsp;<a   href=\"comment\">Гостевая книга</a></li></nobr></td></tr><tr><td height=5></td></tr><tr><td valign=middle width=100%><nobr><li>&nbsp;&nbsp;<a   href=\"members\">Раздел пользователя</a></li></nobr></td></tr><tr><td height=5></td></tr><tr><td valign=middle width=100%><nobr><li>&nbsp;&nbsp;<a   href=\"contacts\">Контакты</a></li></nobr></td></tr><tr><td height=5></td></tr><tr><td valign=middle width=100%><nobr><li>&nbsp;&nbsp;<a   href=\"sitemap.html\">Карта сайта</a></li></nobr></td></tr>\r\n             </table>\r\n<spec_mark_ name=spec_top_menu></spec_mark_></td></tr></tbody></table>\r\n\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td width=100% height=100%>\r\n          <table cellpadding=0 cellspacing=0 border=0 width=100% height=100%>\r\n            <tr>\r\n              <td id=lay_f2 height=100% valign=top width=200px>\r\n                <spec_mark name=spec_main_menu_0010023520000></spec_mark><table cellspacing=0 cellpadding=0 border=0 class=\"main_menu\">\r\n<tr>\r\n             <td valign=middle> \r\n                <a  class=item_active href=\"\"><nobr>О студии</nobr></a>\r\n             \r\n           </td>\r\n</tr>\r\n<tr><td class=\"splitter\">&nbsp;&nbsp;</td></tr>\r\n<tr>\r\n             <td valign=middle> \r\n              <a  href=\"news\"><nobr>Новости</nobr></a>\r\n             \r\n           </td>\r\n</tr>\r\n<tr><td class=\"splitter\">&nbsp;&nbsp;</td></tr>\r\n<tr>\r\n             <td valign=middle> \r\n              <a  class=\"have_sub\" name=\"v20030\" id=\"j20030\" href=\"service\" onmouseover=\"showMenu(20030, 0, 'left', 'bottom', 210, -20);\" onmouseout=\"moff();\">Уcлуги студии</a>\r\n             \r\n           </td>\r\n</tr>\r\n<tr><td class=\"splitter\">&nbsp;&nbsp;</td></tr>\r\n<tr>\r\n             <td valign=middle> \r\n              <a  href=\"clients\"><nobr>Клиенты</nobr></a>\r\n             \r\n           </td>\r\n</tr>\r\n<tr><td class=\"splitter\">&nbsp;&nbsp;</td></tr>\r\n<tr>\r\n             <td valign=middle> \r\n              <a  href=\"contacts\"><nobr>Заказать сайт</nobr></a>\r\n             \r\n           </td>\r\n</tr>\r\n</table><spec_mark_ name=spec_main_menu_0010023520000></spec_mark_>\r\n\r\n<h5>Тэги</h5>\r\n<spec_mark name=spec_small_tags_0010023520000></spec_mark>\n\n\n\n<nobr><a class=\"tag_level_2\" href=\"tags/adobe\" title=\"Публикаций: 1\">Adobe</a></nobr> \n\n<nobr><a class=\"tag_level_4\" href=\"tags/amirocms\" title=\"Публикаций: 2\">Amiro.CMS</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/cms\" title=\"Публикаций: 1\">CMS</a></nobr> \n\n<nobr><a class=\"tag_level_4\" href=\"tags/css\" title=\"Публикаций: 2\">CSS</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/microsoft\" title=\"Публикаций: 1\">Microsoft</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/photoshop\" title=\"Публикаций: 1\">photoshop</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/wysiwyg\" title=\"Публикаций: 1\">WYSIWYG</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/amiro\" title=\"Публикаций: 1\">Амиро</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/biblioteka-izobrazhenij\" title=\"Публикаций: 1\">библиотека изображений</a></nobr> \n\n<nobr><a class=\"tag_level_5\" href=\"tags/dizajn\" title=\"Публикаций: 3\">дизайн</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/zakazchik\" title=\"Публикаций: 1\">заказчик</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/istorija\" title=\"Публикаций: 1\">история</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/klient\" title=\"Публикаций: 1\">клиент</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/kommercheskaja-cms\" title=\"Публикаций: 1\">коммерческая CMS</a></nobr> \n\n<nobr><a class=\"tag_level_4\" href=\"tags/konferencija\" title=\"Публикаций: 2\">конференция</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/korobochnaja-cms\" title=\"Публикаций: 1\">коробочная CMS</a></nobr> \n\n<nobr><a class=\"tag_level_4\" href=\"tags/redaktor-css\" title=\"Публикаций: 2\">редактор CSS</a></nobr> \n\n<nobr><a class=\"tag_level_5\" href=\"tags/redaktor-html\" title=\"Публикаций: 3\">редактор HTML</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/redaktor-javascript\" title=\"Публикаций: 1\">редактор JavaScript</a></nobr> \n\n<nobr><a class=\"tag_level_2\" href=\"tags/tehzadanie\" title=\"Публикаций: 1\">техзадание</a></nobr> \n\n\n<br><br><b><a href=\"tags\">Все теги</a></b>\n<spec_mark_ name=spec_small_tags_0010023520000></spec_mark_>\r\n              </td>\r\n              <td height=100% id=lay_body width=100% valign=top>\r\n                <spec_mark name=status_messages></spec_mark><spec_mark_ name=status_messages></spec_mark_>\r\n                \n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"pages_name\">\n\t<h1>О студии</h1>\n</div>\n\n\n\n\n<h1>Идеология&nbsp;<font color=\"#ffa052\">студии</font></h1>\r\n<p>Студия «Хаммер»&nbsp;существует на рынке разработки и создания сайтов семь лет. В 2001 году, на волне разочарования бизнес-возможностями Интернета, вызванного&nbsp;«мыльным пузырём», группа разработчиков из бывших&nbsp;«дот-комов»&nbsp;собралась вместе, проанализировала и трезво оценила потребности рынка и собственные возможности.&nbsp;Была&nbsp;выбрана стратегия&nbsp;развития вновь созданной собственной компании: «Технологичность и разумность».</p>\r\n<p>За это время студия зарекомендовала себя&nbsp;исполнительным и надежным партнёром, уважительно относящимся к потребностям и финансовым возможностям заказчика. Нами&nbsp;внедрено более 500 проектов, от корпоративных сайтов до проектов электронной коммерции.&nbsp;&nbsp;</p>\r\n<p>\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\r\n<tbody>\r\n<tr>\r\n<td style=\"padding: 10px;\" bgcolor=\"#dddddd\" width=\"200\"><spec_mark name=spec_small_stickers_0010004320030></spec_mark>\r\n\r\n<table width=100% border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"stickers\">\r\n<tr>\r\n  \r\n<td class=\"small_row\" id=\"sticker_70195240_td\">\r\n\t\r\n\t<div id=\"sticker_70195240\" >\r\n\t\t\r\n\t\t<div class=\"small_announce\"><FONT size=1>Надежда. Это&nbsp;самое существенное заблуждение человека, являющееся одновременно источником вашей величайшей силы и&nbsp;величайшей слабости. <BR></FONT><EM><FONT size=1>Нео. \"Матрица\"</FONT></EM></aiv>\r\n\t</div>\r\n</td>\r\n\r\n</tr>\r\n</table>\r\n<spec_mark_ name=spec_small_stickers_0010004320030></spec_mark_></td>\r\n<td>\r\n<blockquote dir=\"ltr\" style=\"margin-right: 0px;\">\r\n<h5>Специализация нашей студии:&nbsp;создание сайтов&nbsp;на основе готовых&nbsp;«коробочных» решений и перевод сайтов на профессиональные CMS</h5></blockquote></td></tr></tbody></table></p>\r\n<p>&nbsp;</p>\r\n<p><a title=\"Amiro.CMS\" href=\"http://www.amiro.ru/\" target=\"_self\"><img class=\"logo_img\" style=\"width: 240px; height: 72px;\" alt=\"Amiro.CMS\" src=\"_mod_files/ce_images/amiro_logo_uproschennyj.gif\" align=\"left\" border=\"0\" height=\"72\" width=\"240\"></a>В качестве базовой платформы для построения корпоративных сайтов, интернет-магазинов&nbsp;и&nbsp;контент-ресурсов нами была выбрана Amiro.CMS&nbsp;- <a href=\"http://www.amiro.ru/\" target=\"_self\">один из лидеров российского рынка коммерческих систем управления сайтами</a>.</p>\r\n<p>&nbsp;</p>\r\n<p><b>ХОЛИВАР: <a title=\"Почему коммерческие CMS\" href=\"service/perevod-na-cms/pochemu-kommercheskie-cms/\" target=\"_self\">ПОЧЕМУ МЫ ВЫБИРАЕМ КОММЕРЧЕСКИЕ CMS</a></b></p>\r\n<p><b>НЕХОЛИВАР: <a title=\"Почему Amiro.CMS\" href=\"service/perevod-na-cms/pochemu-amirocms/\" target=\"_self\">ПОЧЕМУ МЫ ВЫБИРАЕМ AMIRO.CMS</a></b></p>\r\n<p>&nbsp;</p>\r\n<blockquote style=\"margin: 0px;\"><h5>Новости</h5></blockquote>\r\n<div><spec_mark name=spec_small_news_0010003520000></spec_mark>\n\n<table cellspacing=0 cellpadding=0 border=0 width=100% class=\"small_news\">\n  <td valign=top  class=\"small_news_item_row\" >\n    <div class=\"small_news_item_date\">25.08.09&nbsp;</div>\n        <div class=\"small_news_item_header\"><a href=\"news/elektronnaja-torgovlja-2008-vstrechi-i\">«Электронная торговля 2008» - встречи и знакомства&nbsp;</a></div>\n        <div>  </div>\n    <div> </div>\n    \n    \n  </td>\n\n</tr><tr><td height=\"30px\" colspan=10><hr></td></tr><tr>\n\n  <td valign=top  class=\"small_news_item_row\" >\n    <div class=\"small_news_item_date\">18.08.09&nbsp;</div>\n        <div class=\"small_news_item_header\"><a href=\"news/1\">Открытие сайта нашей компании.&nbsp;</a></div>\n        <div>  </div>\n    <div> </div>\n    \n    \n  </td>\n\n</tr><tr><td height=\"30px\" colspan=10><hr></td></tr><tr>\n\n  <td valign=top  class=\"small_news_item_row\" >\n    <div class=\"small_news_item_date\">15.08.09&nbsp;</div>\n        <div class=\"small_news_item_header\"><a href=\"news/studija-prinjala-uchastie-v-konferencii\">Студия приняла участие в конференции «Интернет для бизнеса»&nbsp;</a></div>\n        <div>  </div>\n    <div> </div>\n    \n    \n  </td>\n</table>\n\n<br>\n<div class=\"small_news_rss\" align=\"right\">\n<a href=\"http://atceli.bget.ru/news?action=export_rss\" target=\"_blank\"><img src=\"http://atceli.bget.ru/_img/xml.gif\" border=\"0\"></a></div>\n<spec_mark_ name=spec_small_news_0010003520000></spec_mark_></div>\n\n\r\n              </td>\r\n              <td id=lay_f4 valign=top height=100% width=195px align=right>\r\n                <IMG style=\"WIDTH: 200px; HEIGHT: 400px\" height=400 alt=brushman hspace=0 src=\"_mod_files/ce_images/peoplec.png\" width=200 border=0>\r\n\r\n<div class=\"blog_title\"><h5><a title=\"Блог сайтостроителя\" href=\"blog\" target=_self>Блог</A></h5></div>\r\n<spec_mark name=spec_small_blog_0010043520000></spec_mark>\n\n<table cellspacing=0 cellpadding=0 border=0 width=100%>\n\n<td valign=top>\n  <nobr><span id=\"dtBlogSmall17\"><b>26.08.09</b></span><script>replaceDateTitle('dtBlogSmall17')</script>&nbsp;|&nbsp;<b>15:12:22</b></nobr><br>\n  <div><a href=\"blog/preimuschestva-korobochnoj-cms-pered-studijnoj\">Преимущества коробочной CMS перед студийной</a></div>\n\n  <div align=right id=small><br>\n<noindex><a ref=\"nofollow\" href=\"blog/preimuschestva-korobochnoj-cms-pered-studijnoj?forum_ext=1#forum\">Комментировать</a></noindex>  </div>\n<div align=right> </div>\n</td>\n\n</tr><tr><td height=\"10\" valign=\"middle\" align=\"center\"><hr></td></tr><tr>\n\n\n<td valign=top>\n  <nobr><span id=\"dtBlogSmall15\"><b>24.08.09</b></span><script>replaceDateTitle('dtBlogSmall15')</script>&nbsp;|&nbsp;<b>17:32:13</b></nobr><br>\n  <div><a href=\"blog/web-instrumenty-dlja-optimizacii-css\">Web-инструменÑ Ð´Ð»Ñ Ð¾Ð¿ÑÐ¸Ð¼Ð¸Ð·Ð°ÑÐ¸Ð¸ CSS</a></div>\n\n  <div align=right id=small><br>\n<noindex><a ref=\"nofollow\" href=\"blog/web-instrumenty-dlja-optimizacii-css?forum_ext=1#forum\">ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¸ (2)</a></noindex>  </div>\n<div align=right> </div>\n</td>\n\n</tr><tr><td height=\"10\" valign=\"middle\" align=\"center\"><hr></td></tr><tr>\n\n\n<td valign=top>\n  <nobr><span id=\"dtBlogSmall14\"><b>24.08.09</b></span><script>replaceDateTitle('dtBlogSmall14')</script>&nbsp;|&nbsp;<b>17:29:09</b></nobr><br>\n  <div><a href=\"blog/-35-samyh-populjarnyh-redaktorov-koda\">12 ÑÐ°Ð¼ÑÑ Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½ÑÑ ÑÐµÐ´Ð°ÐºÑÐ¾ÑÐ¾Ð² ÐºÐ¾Ð´Ð° Ð¾Ñ Smashing Magazine</a></div>\n\n  <div align=right id=small><br>\n<noindex><a ref=\"nofollow\" href=\"blog/-35-samyh-populjarnyh-redaktorov-koda?forum_ext=1#forum\">ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ¸ÑÐ¾Ð²Ð°ÑÑ</a></noindex>  </div>\n<div align=right> </div>\n</td>\n</table>\n\n<div align=right><br><br>\n<a href=\"http://atceli.bget.ru/blog?action=export_rss\" target=\"_blank\"><img src=\"http://atceli.bget.ru/_img/xml.gif\" border=\"0\"></a></div>\n<spec_mark_ name=spec_small_blog_0010043520000></spec_mark_>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td id=lay_f3 valign=top colspan=2>\r\n          <spec_mark name=spec_bottom_menu></spec_mark>\r\n             <span class=\"bottom_menu\">\r\n             <a   href=\"\" style=\"font-weight:bold\"><nobr>Ð ÑÑÑÐ´Ð¸Ð¸</nobr></a><img src=\"_img/spacer.gif\" width=20px><a   href=\"news\"><nobr>ÐÐ¾Ð²Ð¾ÑÑÐ¸</nobr></a><img src=\"_img/spacer.gif\" width=20px><a   href=\"service\"><nobr>Ð£cÐ»ÑÐ³Ð¸ ÑÑÑÐ´Ð¸Ð¸</nobr></a><img src=\"_img/spacer.gif\" width=20px><a   href=\"clients\"><nobr>ÐÐ»Ð¸ÐµÐ½ÑÑ</nobr></a><img src=\"_img/spacer.gif\" width=20px><a   href=\"contacts\"><nobr>ÐÐ¾Ð½ÑÐ°ÐºÑÑ</nobr></a><img src=\"_img/spacer.gif\" width=20px><a   href=\"sitemap.html\"><nobr>ÐÐ°ÑÑÐ° ÑÐ°Ð¹ÑÐ°</nobr></a>\r\n             </span>\r\n<spec_mark_ name=spec_bottom_menu></spec_mark_>\r\n\r\n<div class=\"footer\">Â©&nbsp;XXI Ð¡ÑÑÐ´Ð¸Ñ Ð¥ÐÐÐÐÐ </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n<spec_mark name=spec_main_menu_sub></spec_mark>\r\n            <div id=sub_menu_20030 class=submenu>\r\n            <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" id=sub_menu_block_20030 class=pd_menu onmouseover=\"mon(20030, 0)\" onmouseout=\"moff(20030)\">\r\n            <tr><td>\r\n\r\n<a href=\"service/audit-sajtov/\"    onmouseover=\"mon()\" onclick=\"smclick()\">ÐÑÐ´Ð¸Ñ ÑÐ°Ð¹ÑÐ¾Ð²</a>\r\n\r\n</td></tr>\r\n<tr><td class=\"splitter\">&nbsp;&nbsp;</td></tr><tr><td>\r\n\r\n<a href=\"service/redizajn/\"    onmouseover=\"mon()\" onclick=\"smclick()\">Ð ÐµÐ´Ð¸Ð·Ð°Ð¹Ð½</a>\r\n\r\n</td></tr>\r\n<tr><td class=\"splitter\">&nbsp;&nbsp;</td></tr><tr><td>\r\n\r\n<a href=\"service/perevod-na-cms/\" class=\"have_sub\"  name=\"v20064\" id=\"j20064\" onmouseover=\"showMenu(20064, 20030, 'right', 'top', -5, 3);\" onmouseout=\"submoff(20064)\" onclick=\"smclick()\">ÐÐµÑÐµÐ²Ð¾Ð´ Ð½Ð° CMS</a>\r\n\r\n</td></tr>\r\n<tr><td class=\"splitter\">&nbsp;&nbsp;</td></tr><tr><td>\r\n\r\n<a href=\"service/seo-optimizacija/\"    onmouseover=\"mon()\" onclick=\"smclick()\">SEO-Ð¾Ð¿ÑÐ¸Ð¼Ð¸Ð·Ð°ÑÐ¸Ñ</a>\r\n\r\n</td></tr>\r\n</table></div>\r\n            <div id=sub_menu_20064 class=submenu>\r\n            <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" id=sub_menu_block_20064 class=pd_menu onmouseover=\"mon(20064, 20030)\" onmouseout=\"moff(20064)\">\r\n            <tr><td>\r\n\r\n<a href=\"service/perevod-na-cms/pochemu-kommercheskie-cms/\"    onmouseover=\"mon()\" onclick=\"smclick()\">ÐÐ¾ÑÐµÐ¼Ñ ÐºÐ¾Ð¼Ð¼ÐµÑÑÐµÑÐºÐ¸Ðµ CMS</a>\r\n\r\n</td></tr>\r\n<tr><td class=\"splitter\">&nbsp;&nbsp;</td></tr><tr><td>\r\n\r\n<a href=\"service/perevod-na-cms/pochemu-amirocms/\"    onmouseover=\"mon()\" onclick=\"smclick()\">ÐÐ¾ÑÐµÐ¼Ñ Amiro.CMS</a>\r\n\r\n</td></tr>\r\n</table></div>\r\n\r\n<spec_mark_ name=spec_main_menu_sub></spec_mark_>\n<span id=\"signc0f9b627\"><table align=center id=sign cellspacing=0 cellpadding=0 border=0><tr><td><b><a href='http://www.amiro.ru' target=_blank>Ð Ð°Ð±Ð¾ÑÐ°ÐµÑ Ð½Ð° Amiro.CMS - Free</a></b></td></tr></table></span>\n<script type=\"text/javascript\" src=\"http://atceli.bget.ru/system_js.php?script=imgclear&hash=opr3726o9n011582n004rq9s0p5p3s36&_cv=5.12.4.0\"></script>\n</body>\r\n</html>"
          },
          "redirectURL": "",
          "headersSize": 431,
          "bodySize": 5452
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 27,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.631+04:00",
        "time": 42,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/system_js.php?script=system|filter|api&_cv=5.12.4.0",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.12.4.0"
            },
            {
              "name": "script",
              "value": "system|filter|api"
            }
          ],
          "headersSize": 637,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "35641"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 183529,
            "text": "if(typeof(DEBUG_BY_IP) == 'undefined'){\r\n    DEBUG_BY_IP = false;\r\n}\r\n\r\nfunction show_picture(script, src, alt, width, height) {\r\n    if(src.indexOf('__gen=1|') > 0){\r\n        if((src.substring(0,7).toLowerCase()) == \"http://\"  &&  (src.substring(0,8).toLowerCase() == \"https://\")){\r\n            script = src;\r\n        }else if((script.substring(0,7).toLowerCase()) != \"http://\"  &&  (script.substring(0,8).toLowerCase() != \"https://\")){\r\n            script = frontBaseHref + script;\r\n            script = script + '?' + src;\r\n        }else{\r\n            script = script + '?' + src;\r\n        }\r\n    }else{\r\n        script = src;\r\n    }\r\n\r\n    if(aMatches = script.match(/\\.swf$/i)){\r\n        AMI.UI.MediaBox.open(decodeURIComponent(script), width, height);\r\n    }else{\r\n        AMI.UI.MediaBox.open(decodeURIComponent(script));\r\n    }\r\n    return;\r\n}\r\n\r\nfunction show_details(script) {\r\n  if (  (script.substring(0,7).toLowerCase()) != \"http://\"  &&  (script.substring(0,8).toLowerCase() != \"https://\" ) ){\r\n    script = frontBaseHref + script;\r\n  }\r\n\r\n  var w_width = 200;\r\n  var w_height = 250;\r\n\r\n  if (w_height > window.screen.availHeight)\r\n    w_height = window.screen.availHeight;\r\n  if (w_width > window.screen.availWidth)\r\n    w_width = window.screen.availWidth;\r\n\r\n  window.open(script, \"pic\", \"resizable=yes, status=yes, scrollbars=yes, width=\" + w_width + \", height=\" + w_height);\r\n  //return false;\r\n}\r\n\r\n\r\nfunction none(){\r\n  return false;\r\n}\r\n\r\nfunction isEmail(string) {\r\n//    if (string.search(/^(\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+(;|,|$))+$/) != -1)\r\n    if (string.search(/^(\\w+[\\w.-]*\\@[A-Za-z0-9а-яёА-ЯЁ]+((\\.|-+)[A-Za-z0-9а-яёА-ЯЁ]+)*\\.[\\-A-Za-z0-9а-яёА-ЯЁ]+(;|,|$))+$/) != -1)\r\n        return true;\r\n    else\r\n        return false;\r\n}\r\n\r\n//\r\n// following functions will be deleted later\r\n//\r\n\r\nfunction collect_link(cform){\r\n  var vlink = '';\r\n  var first = 1;\r\n\r\n  for(var i=0; i<cform.length; i++){\r\n    el = cform.elements[i];\r\n    if(el.type == 'hidden'){\r\n      delim = (first)?'':'&';\r\n      vlink = vlink + delim + el.name + '=' + encodeURIComponent(el.value);\r\n      first = 0;\r\n    }\r\n  }\r\n return vlink;\r\n}\r\n\r\nfunction view_item(id){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  sform.elements['sort'].value = '';\r\n  sform.elements['sdim'].value = '';\r\n\r\n  return user_click('view', id);\r\n}\r\n\r\nfunction user_click(action, id){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n  var anchor = '#anchor';\r\n\r\n  if(action!='edit') anchor='';\r\n  sform.elements['action'].value = action;\r\n  sform.elements['id'].value = id;\r\n  document.location = link + collect_link(sform) + anchor;\r\n\r\n  return false;\r\n}\r\n\r\nfunction _go_page(sform, start, varname) {\r\n  if(typeof(sform.elements[varname]) == 'object') {\r\n    sform.elements[varname].value = start;\r\n  } else {\r\n    sform.elements['offset'].value = start;\r\n  }\r\n}\r\n\r\nfunction go_page(start, varname){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n  _go_page(sform, start, varname);\r\n  sform.elements['action'].value = 'rsrtme';\r\n  document.location = link + collect_link(sform);\r\n  return false;\r\n}\r\n\r\nfunction go_pageSubmit(start, varname, action){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  _go_page(sform, start, varname);\r\n  sform.elements['action'].value = action;\r\n  return CheckFilterForms(sform, true, 0, true);\r\n/*sform.submit();\r\n  return false;*/\r\n}\r\n\r\nfunction go_pagesize(size){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  sform.elements['action'].value = 'rsrtme';\r\n  sform.elements['limit'].value = size;\r\n  if(typeof(sform.elements['enc_limit']) == 'object') {\r\n    sform.elements['enc_limit'].value = size;\r\n  }\r\n  document.location = link + collect_link(sform);\r\n\r\n  return false;\r\n}\r\n\r\nfunction resort(ccol,cdim){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  sform.elements['action'].value = 'rsrtme';\r\n  sform.elements['sort'].value = ccol;\r\n  sform.elements['sdim'].value = cdim;\r\n\r\n  if(typeof(CheckFilterForm) == \"function\")\r\n    CheckFilterForm(sform, 0, 0);\r\n  else\r\n    document.location = link + collect_link(sform);\r\n\r\n  return false;\r\n}\r\n\r\nfunction resortSubmit(ccol,cdim){\r\n  return advResortSubmit(ccol,cdim,\"sort\",\"sdim\");\r\n}\r\n\r\nfunction advResortSubmit(ccol,cdim,ccolname,cdimname){\r\n  var sform = document.forms[_cms_document_form];\r\n  //var link = _cms_script_link;\r\n  //sform.elements['action'].value = 'rsrtme';\r\n  sform.elements[ccolname].value = ccol;\r\n  sform.elements[cdimname].value = cdim;\r\n  sform.submit();\r\n  return false;\r\n}\r\n\r\nfunction publish(id, act){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  sform.action.value = 'publish';\r\n  sform.publish.value = act;\r\n  sform.id.value = id;\r\n  document.location = link + collect_link(sform);\r\n\r\n  return false;\r\n}\r\n\r\nfunction _setCookie(sName, sValue, path, oDate, useEncodeURIComponent){\r\n  var pathStr = \"\";\r\n\r\n  if( typeof(path) !=\"undefined\" && path != \"\") {\r\n      pathStr = \"; path=\"+path;\r\n  }\r\n  delCookie(sName);\r\n  document.cookie = sName + \"=\" + (useEncodeURIComponent ? encodeURIComponent(sValue) : encodeURIComponent(sValue)) + pathStr + \"; expires=\"+oDate.toGMTString();\r\n}\r\n\r\nfunction setCookie(sName, sValue, path, days, hours, useEncodeURIComponent){\r\n\r\n  var oDate = new Date();\r\n  if (typeof(days) == \"undefined\" && typeof(hours) == \"undefined\"){\r\n    days = 30;\r\n  }\r\n\r\n  if (typeof(days) != \"undefined\") oDate.setDate(oDate.getDate() + days);\r\n  if (typeof(hours) != \"undefined\") oDate.setHours(oDate.getHours() + hours);\r\n\r\n  _setCookie(sName, sValue, path, oDate, useEncodeURIComponent);\r\n}\r\n\r\nfunction delCookie(name, path, domain) {\r\n    if(getCookie(name) != null){\r\n        document.cookie = name + \"=\" + (path ? \";path=\" + path : \"\") + (domain ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\r\n    }\r\n}\r\n\r\namiCart = {\r\n    prefix: '',\r\n    useAJAX: typeof(use_background_cart) != 'undefined' && use_background_cart == '1',\r\n    resultURL: '',\r\n    isCheckout: false,\r\n\r\n    add: function(url, itemId, numPrice, wrongPriceMsg){\r\n        var qty = '1', price = '';\r\n\r\n        if(itemId != 0 && document.forms[this.prefix + 'qty_' + itemId + '_' + numPrice]){\r\n            var form = document.forms[this.prefix + 'qty_' + itemId + '_' + numPrice];\r\n\r\n            if(form.qty){\r\n                qty = form.qty.value;\r\n            }\r\n            if(form.price){\r\n                price = form.price.value;\r\n                if(isNaN(price) || price <= 0){\r\n                    if(wrongPriceMsg != 'none' && wrongPriceMsg != undefined){\r\n                        alert(wrongPriceMsg);\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        this.prefix = '';\r\n        var resultUrl = frontBaseHref + url + '&qty=' + encodeURIComponent(qty) + (price != '' ? '&price=' + encodeURIComponent(price) : '');\r\n        this.sendRequest(resultUrl);\r\n    },\r\n\r\n    addProp: function(url, itemId, propId, numPrice){\r\n        var resultUrl = resultUrl = frontBaseHref + url + '&qty=';\r\n\r\n        if(itemId != 0 && document.forms[this.prefix + 'qty_' + itemId + '_' + propId + '_' + numPrice] && document.forms[this.prefix + 'qty_' + itemId + '_' + propId + '_' + numPrice].qty){\r\n             resultUrl += document.forms[this.prefix + 'qty_' + itemId + '_' + propId + '_' + numPrice].qty.value;\r\n        }else{\r\n            resultUrl += '1';\r\n        }\r\n        this.prefix = '';\r\n        this.sendRequest(resultUrl);\r\n    },\r\n\r\n    /**\r\n     * @access private\r\n     */\r\n    sendRequest: function(url){\r\n        this.resultURL = url + '&eshop_cart_simple=1';\r\n        this.isCheckout = !(this.resultURL.indexOf('&eshop_special=') == -1 || this.resultURL.indexOf('&url=') >= 0);\r\n        var\r\n            pattern = \"^(([^:/\\\\?#]+):)?(//(([^:/\\\\?#]*)(?::([^/\\\\?#]*))?))?([^\\\\?#]*)(\\\\?([^#]*))?(#(.*))?$\";\r\n            rx = new RegExp(pattern),\r\n            parts = rx.exec(this.resultURL),\r\n            protocol = parts[1] || '',\r\n            hostname = parts[5] || '',\r\n\t\t\tport = parts[6] ? ':' + parts[6] : '',\r\n            path = parts[7] || '/';\r\n            args = parts[9] || '';\r\n\r\n        AMI.HTTPRequest.getContent(\r\n            'POST',\r\n            protocol + '//' + hostname + port,\r\n            'modlink=' + path.substr(1) + (args != '' ? '&' + args : ''),\r\n            this.ajaxCallback\r\n        );\r\n    },\r\n\r\n    /**\r\n     * @static\r\n     */\r\n    ajaxCallback: function(status, content){\r\n        if(status == 1 && (cartStatusPos = content.indexOf('cart updated')) >= 0){\r\n            content = content.substr(cartStatusPos);\r\n            amiSession.loadVariables();\r\n            var aVarNames = content.split('|');\r\n            amiCart.updateBlock(aVarNames[1], aVarNames[2]);\r\n\r\n            var actionStatus = '';\r\n            for(i = 3; i < aVarNames.length; i++){\r\n                actionStatus += (i > 3 ? '|' : '') + aVarNames[i];\r\n            }\r\n            if(typeof(onAddedToCartMessage) == 'function'){\r\n                onAddedToCartMessage(actionStatus);\r\n            }else{\r\n                alert(actionStatus);\r\n            }\r\n            if(amiCart.isCheckout){\r\n                document.location = amiCart.resultURL.replace(/\\?.*/, '');\r\n            }else if(!amiCart.useAJAX){\r\n                document.location.reload();\r\n            }\r\n        }\r\n    },\r\n\r\n    updateBlock: function(itemCountCookieName, totalCookieName){\r\n        var cartItemCount = amiSession.get(itemCountCookieName);\r\n\r\n        if(document.getElementById('idEshopCartIsNotEmpty')){\r\n            document.getElementById('idEshopCartIsNotEmpty').style.display = (cartItemCount == '' || cartItemCount == 0 ? 'none' : 'block');\r\n        }\r\n        if(document.getElementById('idEshopCartIsEmpty')){\r\n            document.getElementById('idEshopCartIsEmpty').style.display = (cartItemCount == '' || cartItemCount == 0 ? 'block' : 'none');\r\n        }\r\n        if(cartItemCount != ''){\r\n            if(document.getElementById(itemCountCookieName)){\r\n                document.getElementById(itemCountCookieName).innerHTML = cartItemCount;\r\n            }\r\n            if(document.getElementById(totalCookieName)){\r\n                document.getElementById(totalCookieName).innerHTML = amiSession.get(totalCookieName);\r\n            }\r\n            if(document.getElementById('eshopCartEmpty')){\r\n                document.getElementById('eshopCartEmpty').style.display = (cartItemCount > 0 ? 'inline' : 'none');\r\n            }\r\n        }\r\n        if(typeof(onUpdateCartBlock) == 'function'){\r\n            // backward compatibility\r\n            onUpdateCartBlock(cartItemCount, amiSession.get(totalCookieName));\r\n        }else if(typeof(this.onUpdateBlock) == 'function'){\r\n            this.onUpdateBlock(cartItemCount, amiSession.get(totalCookieName));\r\n        }\r\n    }\r\n}\r\n\r\n/* backward compatibility { */\r\n// @todo replace AddToCart by amiCart.add and delete this function\r\nfunction AddToCart(url, itemId, numPrice, wrongPriceMsg){\r\n    return amiCart.add(url, itemId, numPrice, wrongPriceMsg);\r\n}\r\n\r\n// @todo replace AddToCartProp by amiCart.addProp and delete this function\r\nfunction AddToCartProp(url, itemId, propId, numPrice){\r\n    return amiCart.addProp(url, itemId, propId, numPrice);\r\n}\r\n/* } backward compatibility */\r\n\r\n/* ADVERTISING BLOCK */\r\n\r\nvar advCurTmStamp = new Date();\r\ndocument.usedAdvData = \"\";\r\nvar isInnerHtmlSupported = -1;\r\nvar shownAdvPlaces = '';\r\nvar shownAdvPlacesCnt = 0;\r\nvar advReferrer = ''\r\nvar advPlaceCnts = new Array();\r\nif(document.referrer)\r\n    advReferrer = document.referrer;\r\nfunction processShownAdvPlaces(shownAdvPlaces){\r\n    counter = 0;\r\n    pos = -1;\r\n    res = \"\";\r\n    while((pos = shownAdvPlaces.indexOf(';', pos+1)) >= 0){\r\n        if((pos1 = shownAdvPlaces.indexOf(';', pos+1)) < 0)\r\n            pos1 = shownAdvPlaces.length;\r\n        if(pos1-pos-1 > 0){\r\n            curAdvPlace = shownAdvPlaces.substr(pos+1, pos1-pos-1);\r\n\r\n            if((cpos = curAdvPlace.indexOf('_')) >= 0){\r\n                counter = curAdvPlace.substr(cpos+1)-1;\r\n                curAdvPlace = curAdvPlace.substr(0, cpos);\r\n            }\r\n\r\n            advPlaceCnts[curAdvPlace] = ++counter;\r\n            res += ';'+curAdvPlace+\"_\"+counter;\r\n        }\r\n    }\r\n    if(res.length > 0)\r\n        res += ';';\r\n    return res;\r\n}\r\nfunction showAdvPlace(idPlace, viewURL){\r\n    if(isInnerHtmlSupported == -1){\r\n        if(document.body.innerHTML)\r\n            isInnerHtmlSupported = 1;\r\n        else\r\n            isInnerHtmlSupported = 0;\r\n    }\r\n    // After the document is loaded (new scheme)\r\n    if(isInnerHtmlSupported == 1){\r\n        shownAdvPlacesCnt ++;\r\n        document.write('<span id=\"advp_'+idPlace+'_'+(advPlaceCnts[idPlace] ? advPlaceCnts[idPlace] : shownAdvPlacesCnt)+'\"></span>');\r\n        shownAdvPlaces += (shownAdvPlaces == '' ? ';' : '')+idPlace+';';\r\n    // Old scheme - inline method\r\n    }else{\r\n        if (!document.usedAdvData)\r\n            document.usedAdvData = '';\r\n        rndseed = new String(Math.random()); rndseed = rndseed.substring(2,11);\r\n        document.write (\"<\" + \"script language='JavaScript' type='text/javascript' src='\"+viewURL+\"aproc.php?action=view&rs=\"+advCurTmStamp.getTime()+rndseed+\"&place=\"+idPlace+\"&used=\"+document.usedAdvData+\"&curl=\"+encodeURIComponent(viewURL)+\"&referer=\"+encodeURIComponent(advReferrer)+\"'><\"+\"/script>\");\r\n    }\r\n}\r\n\r\nfunction showAdvBanner(id, content){\r\n    if(document.usedAdvData)\r\n        document.usedAdvData += ','+id+',';\r\n    else\r\n        document.usedAdvData  = ','+id+',';\r\n    document.writeln(content);\r\n}\r\n\r\nfunction aLnkClick(lnkID){\r\n    var aLink = frontBaseHref+\"aproc.php?action=lclick&id=\"+lnkID+\"&page_url=\"+encodeURIComponent(document.location.href);\r\n    advClick(aLink);\r\n}\r\n\r\nfunction advClick(clickURL){\r\n    rndseed = new String(Math.random()); rndseed = rndseed.substring(2,11);\r\n    clickURL+=\"&rs=\"+advCurTmStamp.getTime()+rndseed;\r\n    img = new Image();\r\n    img.src = clickURL;\r\n}\r\n\r\nvar advPlacesContent = new Array();\r\nvar fillAdvPlaceWatcher = new Array();\r\nfunction fillAdvPlace(idPlace, idCnt, placeContent){\r\n    if(advPlacesContent[idPlace+'_'+idCnt] == undefined)\r\n        advPlacesContent[idPlace+'_'+idCnt] = placeContent;\r\n    if(fillAdvPlaceWatcher[idPlace+'_'+idCnt] == undefined)\r\n        fillAdvPlaceWatcher[idPlace+'_'+idCnt] = 0;\r\n    if(document.getElementById && document.getElementById('advp_'+idPlace+'_'+idCnt) && document.getElementById('advp_'+idPlace+'_'+idCnt).innerHTML != undefined){\r\n        document.getElementById('advp_'+idPlace+'_'+idCnt).innerHTML = advPlacesContent[idPlace+'_'+idCnt];\r\n    }else{\r\n        fillAdvPlaceWatcher ++;\r\n        if(fillAdvPlaceWatcher < 1000)\r\n            setTimeout(\"fillAdvPlace('\"+idPlace+\"', '\"+idCnt+\"');\", 100);\r\n    }\r\n}\r\n\r\n/* MODULE ADVERTISEMENT PART [not in use] */\r\n/*\r\n// String that contains module show data\r\nvar modAdvIdsArr = new Array();\r\n\r\n// Set item view\r\nfunction setView(modName, bodyType, id, idPlace){\r\n    if(isNaN(idPlace))\r\n        idPlace = 0;\r\n    var isFound = 0;\r\n    for(var i = 0; i < modAdvIdsArr.length; i++){\r\n        if(modAdvIdsArr[i][0] == modName){\r\n            modAdvIdsArr[i][1] += '|'+bodyType+id+','+idPlace;\r\n            isFound = 1;\r\n            break;\r\n        }\r\n    }\r\n    if(!isFound)\r\n        modAdvIdsArr[modAdvIdsArr.length] = new Array(modName, bodyType+id+','+idPlace);\r\n}\r\n// Process gathered adv IDs\r\nfunction processViewAdvIds(){\r\n    var retStr = '';\r\n    for(var i = 0; i < modAdvIdsArr.length; i++)\r\n        retStr += (retStr != '' ? ';' : '')+modAdvIdsArr[i][0]+'='+modAdvIdsArr[i][1];\r\n    alert(retStr);\r\n    return retStr;\r\n}\r\n*/\r\n\r\n// Returns cookie value\r\nfunction getPlainCookie(name){\r\n    // cookies are separated by semicolons\r\n    var aCookie = document.cookie.split(\"; \");\r\n    var value = \"\";\r\n    for (var i=0; i < aCookie.length; i++){\r\n        // a name/value pair (a crumb) is separated by an equal sign\r\n        var aCrumb = aCookie[i].split(\"=\");\r\n        if (name == aCrumb[0]){\r\n            if(aCrumb[1] === undefined) {\r\n                value = null;\r\n            }else{\r\n                value = aCrumb[1];\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n\r\n    // a cookie with the requested name does not exist\r\n    return null;\r\n}\r\n\r\nfunction getCookie(name, useDecodeURIComponent){\r\n    var val = getPlainCookie(name);\r\n\r\n    if(val != null){\r\n        if(useDecodeURIComponent){\r\n            val = decodeURIComponent(val);\r\n            val = val.replace(/\\+/g, ' ');\r\n        }else{\r\n            val = decodeURIComponent(val);\r\n        }\r\n    }\r\n\r\n    return val;\r\n}\r\n\r\n/*\r\nfunction updateCookieExpireTime(name, minutes){\r\n  var oDate = new Date();\r\n  if (typeof(minutes) != \"undefined\") oDate.setMinutes(oDate.getMinutes() + minutes);\r\n\r\n  var val = getCookie(name);\r\n  if(val != null){\r\n      _setCookie(name, val, \"/\", oDate);\r\n  }\r\n}\r\n*/\r\n// {{{ window.onLoad events queue implementation\r\n\r\nvar onLoadEvents = new Array ();\r\nvar previousOnLoadEvent;\r\n\r\nfunction addOnLoadEvent(event) {\r\n    onLoadEvents[onLoadEvents.length] = event;\r\n}\r\n\r\nfunction runOnLoadEventsQueue() {\r\n    if (previousOnLoadEvent) {\r\n        previousOnLoadEvent();\r\n    }\r\n    for (var i = 0 ; i < onLoadEvents.length; i++) {\r\n        onLoadEvents[i]();\r\n    }\r\n}\r\n\r\nfunction savePreviousOnLoadEvent() {\r\n    previousOnLoadEvent = window.onload;\r\n    window.onload = runOnLoadEventsQueue;\r\n}\r\n\r\n// }}}\r\n\r\nfunction setCaptchaMD5Hash(sid)\r\n{\r\n    var cookie = getCookie('captcha_' + sid);\r\n    if (cookie != null && cookie.length) {\r\n        clearInterval(eval(\"intervalId_\" + sid));\r\n        eval(\"captcha_\" + sid + \" = cookie;\");\r\n        var path    = null;\r\n        var domain  = null;\r\n        if (location) {\r\n            domain = location.host;\r\n            path = frontBaseHref.replace(/^\\w+\\:\\/\\/[^\\/]+/, '');\r\n        }\r\n        delCookie('captcha_' + sid, path, domain);\r\n    }\r\n}\r\n\r\nif (!Array.prototype.indexOf) {\r\n    Array.prototype.indexOf = function(val, fromIndex) {\r\n        if (typeof(fromIndex) != 'number') {\r\n            fromIndex = 0;\r\n        }\r\n        for (var index = fromIndex,len = this.length; index < len; index++) {\r\n            if (this[index] == val) {\r\n                return index;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\nif (!Array.prototype.splice) {\r\n    Array.prototype._splice = function(start) {\r\n        if (start >= this.length) {\r\n            return;\r\n        }\r\n        return this.slice(start);\r\n    }\r\n    Array.prototype._splice = function(start, deleteCount) {\r\n        if (start >= this.length) {\r\n            return;\r\n        }\r\n        return this.slice(0, start-1).concat(this.slice(start + deleteCount));\r\n    }\r\n}\r\n\r\nfunction cloneArray(source)\r\n{\r\n    var destination = new Array();\r\n    for (var i = 0 ; i < source.length ; i++) {\r\n        if (!(typeof(source[i]) == 'undefined')) {\r\n            destination[i] = source[i];\r\n        }\r\n    }\r\n    return destination;\r\n}\r\n\r\n/* products comparison */\r\n\r\nvar\r\n    mComparisonList = new Array (),\r\n    mComparisonURL = '';\r\n\r\nfunction compare(key)\r\n{\r\n    if (compareProducts.indexOf(key) >= 0) {\r\n        alert(compareInComparisonAlready);\r\n        return false;\r\n    }\r\n    if (mComparisonList.length && !confirm(compareAddSelected)) {\r\n        return false;\r\n    }\r\n    if (compareProducts.length == compareMaxQuantity) {\r\n        alert(compareMaxMessage);\r\n        return false;\r\n    }\r\n    if (mComparisonList.indexOf(key) < 0) {\r\n        mComparisonList.push(key);\r\n    }\r\n\r\n    // check for different datasets\r\n    if (compareDisallowDifferentDatasets && compareProducts.length > 0) {\r\n        var datasetId = compareDatasetId;\r\n        var _mComparisonList = cloneArray(mComparisonList);\r\n        for (var i = 0, qty = _mComparisonList.length ; i < qty ; i++) {\r\n            var p = _mComparisonList[i].split('-'); // p[2] is containing datasetId now\r\n            if (!compareDatasetId) {\r\n                compareDatasetId = p[2];\r\n            }\r\n            if (compareDatasetId != p[2]) {\r\n                if (!confirm(compareConfirmOtherDataset)) {\r\n                    return false;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return mSubmitAddToCompare();\r\n}\r\n\r\nfunction compareClear()\r\n{\r\n    if (confirm(compareConfirmListClearing)) {\r\n        document.location = location.pathname + '?action=compareClear';\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction mCompare(oCheckbox)\r\n{\r\n    var key = oCheckbox.value;\r\n    if (oCheckbox.checked) {\r\n        // exclude duplicates\r\n        if (compareProducts.indexOf(key) >= 0) {\r\n            alert(compareInComparisonAlready);\r\n            oCheckbox.checked = false;\r\n            return false;\r\n        }\r\n        // check for max quantity of products to compare\r\n        if (compareProducts.length == compareMaxQuantity) {\r\n            alert(compareMaxMessage);\r\n            oCheckbox.checked = false;\r\n            return false;\r\n        }\r\n        // check for different datasets\r\n        if (compareDisallowDifferentDatasets) {\r\n            var p = key.split('-');\r\n            if ((compareProducts.length + mComparisonList.length) > 0 && p[2] != copmpareLastDatasetId && !confirm(compareConfirmOtherDataset)) {\r\n                oCheckbox.checked = false;\r\n                return false;\r\n            }\r\n            copmpareLastDatasetId = p[2];\r\n            // uncheck checked products having other dataset\r\n            var _mComparisonList = cloneArray(mComparisonList);\r\n            for (var i = 0, qty = _mComparisonList.length ; i < qty ; i++) {\r\n                var p = _mComparisonList[i].split('-');\r\n                if (p[2] != copmpareLastDatasetId) {\r\n                    var o = document.getElementById('cmp_' + _mComparisonList[i]);\r\n                    o.checked = false;\r\n                    mCompare(o);\r\n                }\r\n            }\r\n            // count real number of products to comapere after adding\r\n            var _compareProducts = cloneArray(compareProducts);\r\n            for (var i = 0, qty = compareProducts.length ; i < qty ; i++) {\r\n                var p = compareProducts[i].split('-');\r\n                if (p[2] != copmpareLastDatasetId) {\r\n                    var index = _compareProducts.indexOf(compareProducts[i]);\r\n                    if (Array.prototype.splice) {\r\n                        _compareProducts.splice(index, 1);\r\n                    } else {\r\n                        _compareProducts = mComparisonList._splice(index, 1);\r\n                    }\r\n                }\r\n            }\r\n            // check for max quantity of products to compare after manipulations\r\n            if (_compareProducts.length + mComparisonList.length >= compareMaxQuantity) {\r\n                alert(compareMaxMessage);\r\n                oCheckbox.checked = false;\r\n                return false;\r\n            }\r\n        }\r\n        mComparisonList.push(key);\r\n    } else {\r\n        var index = mComparisonList.indexOf(key);\r\n        if (index > -1) {\r\n            if (Array.prototype.splice) {\r\n                mComparisonList.splice(index, 1);\r\n            } else {\r\n                mComparisonList = mComparisonList._splice(index, 1);\r\n            }\r\n            copmpareLastDatasetId = compareDatasetId;\r\n        }\r\n    }\r\n}\r\n\r\nfunction mSubmitAddToCompare()\r\n{\r\n    var qty = mComparisonList.length;\r\n\r\n    if (!qty) {\r\n        alert(compareListIsEmpty);\r\n        return false;\r\n    }\r\n\r\n    var _mComparisonList = cloneArray(mComparisonList);\r\n\r\n    // check for added already products and exclude its from mComparisonList\r\n    for (var i = 0 ; i < qty ; i++) {\r\n        var index = compareProducts.indexOf(_mComparisonList[i]);\r\n        if (index >= 0) {\r\n            // exclude duplicate product\r\n            if (Array.prototype.splice) {\r\n                mComparisonList.splice(_mComparisonList.indexOf(mComparisonList[i]), 1);\r\n            } else {\r\n                mComparisonList = mComparisonList._splice(_mComparisonList.indexOf(mComparisonList[i]), 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    document.location = location.pathname + '?action=compare&products=' + _mComparisonList.join(';');\r\n    return false;\r\n}\r\n\r\nfunction mCompareSelected(url)\r\n{\r\n    if (mComparisonList.length < 2) {\r\n        if (mComparisonList.length < 1 && compareProducts.length > 1) {\r\n            window.open(frontBaseHref + url + '?p=' + compareProducts.join(';') + '&h=&v=all&lay_id=100');\r\n            return false;\r\n        }\r\n        alert(compareListInsufficient);\r\n        return false;\r\n    }\r\n    if (compareProducts.length && !confirm(compareConfirmPreviousClearing)) {\r\n        return false;\r\n    }\r\n    window.open(frontBaseHref + url + '?p=' + mComparisonList.join(';') + '&h=&v=all&lay_id=100');\r\n    return false;\r\n}\r\n\r\n/* /products comparison */\r\n\r\nfunction getXPos(elem){\r\n x = 0;\r\n do { x += elem.offsetLeft; }\r\n while((elem = elem.offsetParent) != null);\r\n return x;\r\n}\r\n\r\nfunction getYPos(elem){\r\n y = 0;\r\n do { y += elem.offsetTop; }\r\n while((elem = elem.offsetParent) != null);\r\n return y;\r\n}\r\n\r\nvar calendarBlock;\r\nvar calendarDateFieldName;\r\nfunction getCalendar(in_dateField, lang, dateFormat, divIdPrefix){\r\n\r\n    var elevPrefix = typeof(divIdPrefix) == 'undefined' ? '' : divIdPrefix;\r\n\r\n    calendarTarget = in_dateField;\r\n    calendarBlock = document.getElementById(elevPrefix + \"calendar_block\");\r\n    if(calendarBlock && (calendarBlock.style.display!=\"block\" || (in_dateField.form.name + in_dateField.name!=calendarDateFieldName))){\r\n      calendarDateFieldName = in_dateField.form.name + in_dateField.name;\r\n      cLeft = getXPos(calendarTarget)+calendarTarget.offsetWidth;\r\n      cTop = getYPos(calendarTarget)+calendarTarget.offsetHeight;\r\n\r\n      var dconfAddon = '';\r\n      if(typeof(dateFormat) != 'undefined' && dateFormat != ''){\r\n        dconfAddon = '&date_format='+dateFormat;\r\n      }\r\n\r\n      document.getElementById(elevPrefix + \"calendar_block_frm\").src = \"calendar.php?v=2&lang=\"+lang+dconfAddon;\r\n      calendarBlock.style.display=\"block\";\r\n      var correctLeft = cLeft + calendarBlock.offsetWidth - document.body.scrollLeft - document.body.clientWidth;\r\n      var correctTop = cTop + calendarBlock.offsetHeight - document.body.scrollTop - document.body.clientHeight;\r\n      calendarBlock.style.left = cLeft - ((correctLeft > 0)?correctLeft:0) + 'px';\r\n      calendarBlock.style.top = cTop - ((correctTop > 0)?correctTop:0) + 'px';\r\n      document.getElementById(elevPrefix + \"calendar_block_frm\").contentWindow.document.body.focus();\r\n    }else if(calendarBlock){\r\n      calendarBlock.style.display=\"none\";\r\n    }\r\n}\r\n\r\nfunction replaceDateTitle(objId){\r\n    var objObj = document.getElementById(objId);\r\n    if(objObj){\r\n        var curDate = objObj.innerHTML;\r\n        var rxToday = new RegExp(DATE_CONVERTION[2].replace(/\\./g, \"\\\\.\"));\r\n        var rxYesterday = new RegExp(DATE_CONVERTION[3].replace(/\\./g, \"\\\\.\"));\r\n        curDate = curDate.replace(rxToday, DATE_CONVERTION[0]);\r\n        curDate = curDate.replace(rxYesterday, DATE_CONVERTION[1]);\r\n        objObj.innerHTML = curDate;\r\n    }\r\n}\r\n\r\n/*\r\nПример использования календаря\r\n<div  id=\"calendar_block\"  style=\"display:none;position:absolute;background-color:#f8f8f8;width:220px;height:345px;\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=100% height=100%><tr><td style=\"padding:0px;\"><iframe id=\"calendar_block_frm\" width=100% height=100% src=\"calendar.php\" frameborder=0 scrolling=no></iframe></td></tr></table></div>\r\n\r\n<form name=fltform>\r\nдата:\r\n<input type=\"text\" name=\"testday\" value=\"01.04.2007\">\r\n<a href=\"javascript:getCalendar(document.fltform.testday, 'ru');\">\r\n<img src=\"_img/calendar.gif\" border=0></a>\r\n</form>\r\n*/\r\n\r\nfunction saveURLHistory(){\r\n\tvar uh_prev_mod = getCookie('uh_prev_mod');\r\n\tvar uh_prev_url = getCookie('uh_prev_url');\r\n\tvar uh_curr_mod = getCookie('uh_curr_mod');\r\n\tvar uh_curr_url = getCookie('uh_curr_url');\r\n\r\n\tdelCookie('uh_prev_mod', \"/\");\r\n\tdelCookie('uh_prev_url', \"/\");\r\n\tdelCookie('uh_curr_mod', \"/\");\r\n\tdelCookie('uh_curr_url', \"/\");\r\n\r\n\tif(uh_curr_mod == null){\r\n\t\tsetCookie('uh_prev_mod', active_module, \"/\");\r\n\t\tsetCookie('uh_prev_url', active_module_link, \"/\");\r\n\t\tsetCookie('uh_curr_mod', active_module, \"/\");\r\n\t\tsetCookie('uh_curr_url', active_module_link, \"/\");\r\n\t}else if(uh_curr_mod != active_module){\r\n\t\tsetCookie('uh_prev_mod', uh_curr_mod, \"/\");\r\n\t\tsetCookie('uh_prev_url', uh_curr_url, \"/\");\r\n\t\tsetCookie('uh_curr_mod', active_module, \"/\");\r\n\t\tsetCookie('uh_curr_url', active_module_link, \"/\");\r\n\t}else{\r\n\t\tsetCookie('uh_prev_mod', uh_prev_mod, \"/\");\r\n\t\tsetCookie('uh_prev_url', uh_prev_url, \"/\");\r\n\t\tsetCookie('uh_curr_mod', active_module, \"/\");\r\n\t\tsetCookie('uh_curr_url', active_module_link, \"/\");\r\n\t}\r\n}\r\n\r\nsaveURLHistory();\r\n\r\nfunction amiFrontCommonClass(){\r\n    this.serialize = function(oData){\r\n        var result = '';\r\n        if(typeof(oData) == \"object\"){\r\n            if(oData instanceof Array){\r\n                result += 'a';\r\n                for(var i = 0; i < oData.length; i++){\r\n                    var item = oData[i].toString();\r\n                    result += item.length.toString() + '.' + item;\r\n                }\r\n            }else{\r\n                result += 'o';\r\n                for(var oKey in oData){\r\n                    result += oKey.length.toString() + '.' + oKey + oData[oKey].length.toString() + '.' + oData[oKey];\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    this.unserialize = function(oString){\r\n        var oData = null;\r\n        if(oString.charAt(0) == 'a' || oString.charAt(0) == 'o'){\r\n            var isArray = oString.charAt(0) == 'a';\r\n            if(isArray){\r\n                oData = new Array();\r\n            }else{\r\n                oData = new Object();\r\n            }\r\n            var dataLength = '';\r\n            var isShouldBeKey = isArray ? false : true;\r\n            var keyValue = '';\r\n            for(var i = 1; i < oString.length; i++){\r\n                if(oString.charAt(i).match(/\\d/)){\r\n                    dataLength += oString.charAt(i);\r\n                }else if(oString.charAt(i) == '.'){\r\n                    dataLength = parseInt(dataLength);\r\n                    if(isShouldBeKey){\r\n                        keyValue = oString.substr(i + 1, dataLength);\r\n                        isShouldBeKey = false;\r\n                    }else{\r\n                        if(isArray){\r\n                            oData[oData.length] = decodeURIComponent(oString.substr(i + 1, dataLength));\r\n                        }else{\r\n                            oData[keyValue] = decodeURIComponent(oString.substr(i + 1, dataLength));\r\n                            isShouldBeKey = true;\r\n                        }\r\n                        keyValue = '';\r\n                    }\r\n                    i = i + dataLength;\r\n                    dataLength = '';\r\n                }\r\n            }\r\n        }\r\n        return oData;\r\n    }\r\n}\r\nvar amiFrontCommon = new amiFrontCommonClass();\r\n\r\nfunction amiSessionClass(cookieName, sessionCookieName, cookieDays, cookieHours){\r\n\tthis.sessionCookieName = sessionCookieName;\r\n    this.cookieName = cookieName;\r\n    this.cookieDays = cookieDays;\r\n    this.cookieHours = cookieHours;\r\n    this.variables = new Object();\r\n\r\n    this.init = function(){\r\n        this.loadVariables();\r\n    }\r\n\r\n    this.setCookieName = function(value){\r\n        this.cookieName = value;\r\n    }\r\n\r\n    this.setCookieLifetime = function(iDays, iHours){\r\n        this.cookieDays = iDays;\r\n        this.cookieHours = iHours;\r\n    }\r\n\r\n    this.set = function(name, value){\r\n        this.variables[name] = value;\r\n        this.storeVariables();\r\n    }\r\n\r\n    this.del = function(name){\r\n        delete this.variables[name];\r\n        this.storeVariables();\r\n    }\r\n\r\n    this.get = function(name){\r\n        if(typeof(this.variables[name]) != 'undefined'){\r\n            return this.variables[name];\r\n        }\r\n        return '';\r\n    }\r\n\r\n    this.storeVariables = function(){\r\n        var sVariables = amiFrontCommon.serialize(this.variables);\r\n        setCookie(this.cookieName, sVariables, '/', this.cookieDays, this.cookieHours, true);\r\n    }\r\n\r\n    this.loadVariables = function(){\r\n        var sessionCookie = getCookie(this.sessionCookieName);\r\n        if(sessionCookie != null){\r\n            var sVariables = getCookie(this.cookieName, true);\r\n            this.variables = new Object();\r\n            if(sVariables != null){\r\n                this.variables = amiFrontCommon.unserialize(sVariables);\r\n                if(typeof(this.variables) != 'object'){\r\n                    this.variables = new Object();\r\n                }\r\n            }\r\n        }else{\r\n            delCookie(this.cookieName);\r\n        }\r\n    }\r\n\r\n    this.init();\r\n}\r\n\r\nvar amiSession = new amiSessionClass('user_session', sessionCookieName, 30, 0);\r\n//updateCookieExpireTime('user_session', sessionTimeout);\r\n\r\nfunction amiGetUsername(source){\r\n    var res;\r\n    if(source == 'username'){\r\n        res = amiSession.get('username_cookie');\r\n    }else{\r\n        res = amiSession.get('firstname_cookie') + ' ' + amiSession.get('lastname_cookie');\r\n        res = res.replace(/^\\s*/, '').replace(/\\s*$/, '');\r\n    }\r\n    return res;\r\n}\r\n\r\nvar ratingForms = {};\r\n\r\nfunction addRatingForm(formName, itemId){\r\n    ratingForms[formName] = itemId;\r\n}\r\n\r\nfunction checkRatingForms(moduleName){\r\n    var ratings = AMI.Browser.Cookie.get('moduleRatings');\r\n    if(ratings){\r\n        var modules = ratings.split(';');\r\n        for(var i=0; i<modules.length; i++){\r\n            var module = modules[i].split(':');\r\n            if((module[0] == moduleName) && (module.length > 1)){\r\n                for(var j=1; j<module.length; j++){\r\n                    for(var formName in ratingForms){\r\n                        if((module[j] == ratingForms[formName]) && document.getElementsByName(formName)){\r\n                            document.getElementsByName(formName)[0].style.display = 'none';\r\n                            if(AMI.find('#rating_value')){\r\n                                AMI.find('#rating_value').style.display = 'none';\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar flagNames = new Array();\r\nvar flagMaps = new Array();\r\n\r\nfunction _dec_to_rgb(value) {\r\n  var hex_string = \"\";\r\n  for (var hexpair = 0; hexpair < 3; hexpair++) {\r\n    var onebyte = value & 0xFF;            // get low onebyte\r\n    value >>= 8;                        // drop low onebyte\r\n    var nybble2 = onebyte & 0x0F;          // get low nybble (4 bits)\r\n    var nybble1 = (onebyte >> 4) & 0x0F;   // get high nybble\r\n    hex_string += nybble1.toString(16); // convert nybble to hex\r\n    hex_string += nybble2.toString(16); // convert nybble to hex\r\n  }\r\n  return hex_string.toUpperCase();\r\n}\r\n\r\n\r\nfunction flagMapAdd(name, num, isCr){\r\n    if(!isNaN(num)){\r\n        mapID = -1;\r\n        for(i = 0; i < flagNames.length; i++){\r\n            if(flagNames[i] == name){\r\n                mapID = i;\r\n                break;\r\n            }\r\n        }\r\n        if(mapID == -1){\r\n            mapID = flagNames.length;\r\n            flagNames[mapID] = name;\r\n            flagMaps[mapID] = new Array();\r\n        }\r\n        if(flagMaps[mapID].length < num){\r\n            for(i = 0; i < num; i++)\r\n                if(!flagMaps[mapID][i])\r\n                    flagMaps[mapID][i] = 0;\r\n        }\r\n        if(!isCr)\r\n            flagMaps[mapID][num-1] = 1;\r\n    }\r\n}\r\n\r\nfunction arrToHex(arrIn){\r\n    realValTmp = \"\";\r\n    realVal = \"\";\r\n    var tmp = \"\";\r\n    var isLastProcessed = true;\r\n    for(k = 1; k <= arrIn.length; k++){\r\n        isLastProcessed = false;\r\n        tmp = arrIn[k-1]+tmp;\r\n        if(k % 4 == 0){\r\n            realValTmp += parseInt(tmp, 2).toString(16);\r\n            tmp = \"\";\r\n            isLastProcessed = true;\r\n        }\r\n    }\r\n    if(!isLastProcessed)\r\n        realValTmp += parseInt(tmp, 2).toString(16);\r\n    hexZeroStart = true;\r\n    for(k = realValTmp.length-1; k >= 0; k--){\r\n        if(realValTmp.substr(k, 1) != \"0\" || !hexZeroStart){\r\n            realVal += realValTmp.substr(k, 1);\r\n            hexZeroStart = false;\r\n        }\r\n    }\r\n    return realVal;\r\n}\r\n\r\nfunction CheckFilterForms(fform, isSearchForm, isOrder, skipOffestSetting) {\r\n    var forceSubmitUrl;\r\n    var _tmpVarName;\r\n    _tmpVarName = fform.name + \"_forceSubmitUrl\";\r\n\r\n    forceSubmitUrl = eval(\"if(typeof(\"+_tmpVarName+\") != 'undefined') {\"+_tmpVarName+\"} else {''}\");\r\n\r\n    if(isOrder != 1)\r\n        isOrder = 0;\r\n\r\n  // special run over checkbox filter fields\r\n               //if()\r\n  for(var i=0; i<fform.length; i++){\r\n   el = fform.elements[i];\r\n   if(el.type == 'checkbox' && el.name.indexOf(\"[]\") <= 0){\r\n     val = (el.checked)?1:0;\r\n     el.value = val;\r\n     cname=el.name;\r\n\r\n     if(fform.elements[cname] && (fform.elements[cname].type=='hidden')){\r\n         if(typeof(fform.elements[\"enc_\"+cname])=='object') {\r\n            fform.elements[\"enc_\"+cname].value = val;\r\n         }\r\n         fform.elements[cname].value = val;\r\n     }\r\n   }\r\n  }\r\n\r\n  if(typeof(skipOffestSetting) == 'undefined'){\r\n      if(typeof(fform.elements['offset'])=='object') {\r\n       fform.elements['offset'].value = 0;\r\n      }\r\n      if(typeof(fform.elements['enc_offset'])=='object') {\r\n       fform.elements['enc_offset'].value = 0;\r\n      }\r\n  }\r\n\r\n  // Create the submit URL\r\n  flagNames = new Array();\r\n  flagMaps = new Array();\r\n  var submitURL = '';\r\n  if(forceSubmitUrl != '') {\r\n      submitURL = forceSubmitUrl;\r\n  }else{\r\n      submitURL = _cms_script_link;\r\n  }\r\n  for(var i=0; i < fform.length; i++){\r\n   el = fform.elements[i];\r\n   elName = el.name;\r\n   if(el.name.indexOf(\"prop_\") >= 0 && isOrder){\r\n       if((fpos = el.name.lastIndexOf(\"_x\")) >= 0){\r\n            elName = el.name.substr(0, fpos);\r\n       }\r\n       elName += \"[]\";\r\n   }\r\n   if(el.type == 'checkbox'){\r\n     if(el.checked){\r\n         if((fpos = el.name.indexOf(\"_flag_\")) >= 0){\r\n            flagMapAdd(el.name.substr(0, fpos), parseInt(el.name.substr(fpos+6)), 0);\r\n         }else if(el.value != ''){\r\n            submitURL += '&'+elName+'='+encodeURIComponent(el.value);\r\n         }\r\n     }else{\r\n         if((fpos = el.name.indexOf(\"_flag_\")) >= 0){\r\n            flagMapAdd(el.name.substr(0, fpos), parseInt(el.name.substr(fpos+6)), 1);\r\n         }else{\r\n             //if(el.name.indexOf(\"[]\") <= 0) /* do not process array items */\r\n             //   submitURL += '&'+elName+'=';\r\n         }\r\n     }\r\n   }else if(el.type == 'select-one'){\r\n     if((fpos = el.name.indexOf(\"_flag\")) >= 0){\r\n        flagMapAdd(el.name.substr(0, fpos), parseInt(el.value), 0);\r\n     }else if(el.value != ''){\r\n         submitURL += '&'+elName+'='+encodeURIComponent(el.value);\r\n     }\r\n   }else if(el.type == 'select-multiple'){\r\n     fpos = el.name.indexOf(\"_flag\");\r\n     for(k = 0; k < el.length; k++){\r\n       if(el.options[k].selected){\r\n          if(fpos >= 0){\r\n            flagMapAdd(el.name.substr(0, fpos), parseInt(el.options[k].value), 0);\r\n          }else{\r\n            submitURL += '&'+encodeURIComponent(elName)+'='+encodeURIComponent(el.options[k].value);\r\n          }\r\n       }\r\n     }\r\n   }else if(el.type == 'radio'){\r\n     if(el.checked){\r\n         if((fpos = el.name.indexOf(\"_flag\")) >= 0){\r\n            flagMapAdd(el.name.substr(0, fpos), parseInt(el.value), 0);\r\n         }else{\r\n             submitURL += '&'+elName+'='+encodeURIComponent(el.value);\r\n         }\r\n     }\r\n   }else{\r\n     if(el.name == \"action\" && ((!isOrder && fform.search_subcats && fform.search_subcats.checked) || isSearchForm)) {\r\n        submitURL += '&action=search';\r\n     } else if(el.value != '' && elName != 'btnFlt_apply' && (!isOrder || el.name != \"action\" && el.name != \"order\")) {\r\n        submitURL += '&'+elName+'='+encodeURIComponent(el.value);\r\n     }\r\n   }\r\n  }\r\n  for(i = 0; i < flagMaps.length; i++){\r\n    if(flagNames[i]){\r\n     submitURL += '&'+flagNames[i]+'=0x'+arrToHex(flagMaps[i]);\r\n    }\r\n  }\r\n  if(isOrder)\r\n    submitURL += 'eshop_special=1&action=add';\r\n\r\n  document.location.href=submitURL;\r\n  return false;\r\n}\r\n\r\nfunction checkSearchForms(fform, fltFormName) {\r\n  if(typeof(fltFormName) != 'undefined') {\r\n      _cms_document_form = fltFormName;\r\n  } else if(typeof(_cms_document_form) == 'undefined') {\r\n    _cms_document_form = _cms_filter_form;\r\n  }\r\n\r\n  var sform = document.forms[_cms_document_form];\r\n  // special run over checkbox filter fields\r\n  for(var i=0; i<fform.length; i++){\r\n   el = fform.elements[i];\r\n   if(el.type == 'text'){\r\n     cname=el.name;\r\n\r\n     if(sform.elements[cname] && (sform.elements[cname].type=='hidden')){\r\n         if(typeof(sform.elements[\"enc_\"+cname])=='object') {\r\n            sform.elements[\"enc_\"+cname].value = el.value;\r\n         }\r\n         sform.elements[cname].value = el.value;\r\n     }\r\n   }\r\n  }\r\n  CheckFilterForms(sform, 1);\r\n  return false;\r\n}\r\n\r\n/**\r\n* @fileOverview File contains AMI container with AMI global functions description.\r\n*/\r\n\r\n/**\r\n* Base container of Amiro JS API classes.\r\n* \r\n* @class Base container of Amiro JS API classes.\r\n*/\r\nvar AMI = {\r\n    /**\r\n    * Inherit one class from other and creating superclass definition in child.\r\n    * \r\n    * @example <strong>Example of inheriting classes:</strong>\r\n    * parentClass = function(param1, param2){}\r\n    * childClass = function(param1, param2){\r\n    *     AMI.ModuleComponentCustom.superclass.constructor.call(this, param1, param2);\r\n    *     // Child class methods further\r\n    * }\r\n    * AMI.inherit(childClass, parentClass);\r\n    * \r\n    * @param {function} oChildClass Class that should be inherited.\r\n    * @param {function} oParentClass Parent class object.\r\n    * @returns {void}\r\n    */\r\n    inherit: function(oChildClass, oParentClass){\r\n        var oTmp = function(){};\r\n        oTmp.prototype = oParentClass.prototype;\r\n        oChildClass.prototype = new oTmp();\r\n        oChildClass.prototype.constructor = oChildClass;\r\n        oChildClass.superclass = oParentClass.prototype;\r\n    },\r\n\r\n    /**\r\n    * Find element in DOM by id, class or tag.\r\n    * \r\n    * @param {string} search Search string in format \"#idOfElement\" or \".classNameOfElement\" or \"tagName\".\r\n    * @param {DOM object} oParent DOM element where target element will be searched.\r\n    * @returns {mixed} Found element or null in case of search by ID, array of elements in other search cases.\r\n    */\r\n    find: function(search, oParent){\r\n        oParent = oParent || document;\r\n        if(search.lastIndexOf('[') >= 0){\r\n            var parts = search.match(/\\[(.*)\\]/ig);\r\n            if(typeof(parts[0]) != 'undefined'){\r\n                parts = parts[0].split('=');\r\n                if(parts.length == 2){\r\n                    var attribute = parts[0].substr(1);\r\n                    var value = parts[1].substr(0, parts[1].length-1);\r\n                }\r\n                search = search.substr(0, search.lastIndexOf('['));\r\n            }\r\n        }\r\n\r\n        var result = null;\r\n        var singleObject = false;\r\n        if(search.length > 0){\r\n            if(search.substr(0, 1) == '#'){\r\n                result = document.getElementById(search.substr(1));\r\n                singleObject = true;\r\n            }else if(search.substr(0, 1) == '.'){\r\n                search = search.substr(1);\r\n                if(oParent.getElementsByClassName){\r\n                    result = oParent.getElementsByClassName(search);\r\n                }else{\r\n                    var aElements = oParent.getElementsByTagName('*');\r\n                    var aResult = [];\r\n                    for(var i = 0; i < aElements.length; i++){\r\n                        var rx = new RegExp('(^| )' + search + '( |$)', 'i');\r\n                        if(rx.test(aElements[i].className)){\r\n                            aResult.push(aElements[i]);\r\n                        }\r\n                    }\r\n                    result = aResult;\r\n                }\r\n            }else{\r\n                result = oParent.getElementsByTagName(search);\r\n            }\r\n        }else{\r\n            result = oParent.getElementsByTagName('*');\r\n        }\r\n        \r\n        // Check attributes if needed\r\n        if((result != null) && (typeof(attribute) != 'undefined') && (typeof(value) != 'undefined')){\r\n            var res = null;\r\n            if(!singleObject){\r\n                for(var i=0; i < result.length; i++){\r\n                    var element = result[i];\r\n                    var val = (element.getAttribute && element.getAttribute(attribute)) || null;\r\n                    if( !val ) {\r\n                        var attrs = element.attributes;\r\n                        var length = attrs.length;\r\n                        for(var j = 0; j < length; j++){\r\n                            if(attrs[j].nodeName === attribute){\r\n                                val = attrs[j].nodeValue;\r\n                            }\r\n                        }\r\n                    }\r\n                    if(val == value){\r\n                        if (res == null){\r\n                            res = [];\r\n                        }\r\n                        res.push(element);\r\n                    }\r\n                }\r\n                result = res;\r\n            }else{\r\n                if((typeof(result.attributes[attribute]) == 'undefined') || (result.attributes[attribute] != value)){\r\n                    result = null;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n\r\n    /**\r\n    * Animated scroll to any object on page.\r\n    * \r\n    * @param {DOM object} oElement DOM element to scroll to.\r\n    * @param {number} paddingLeftTop Padding from left and top (equal) that shold be left after scrolling if possible.\r\n    * @returns {void}\r\n    */\r\n    scrollTo: function(oElement, paddingLeftTop){\r\n        /**\r\n        * @private\r\n        */\r\n        this.move = function(){\r\n            this.step ++;\r\n\r\n            if(this.step == this.numberOfSteps){\r\n                this.currentPosition[0] = this.aMoveTo[0];\r\n                this.currentPosition[1] = this.aMoveTo[1];\r\n            }else{\r\n                this.currentPosition[0] += (this.aMoveTo[0] - this.currentPosition[0]) / (this.numberOfSteps - this.step);\r\n                this.currentPosition[1] += (this.aMoveTo[1] - this.currentPosition[1]) / (this.numberOfSteps - this.step);\r\n            }\r\n            AMI.Browser.setDocumentLeft(this.currentPosition[0]);\r\n            AMI.Browser.setDocumentTop(this.currentPosition[1]);\r\n            if(this.currentPosition[0] != this.aMoveTo[0] || this.currentPosition[1] != this.aMoveTo[1]){\r\n                setTimeout(function(_this){return function(){_this.move()}}(this), 10);\r\n            }\r\n        }\r\n\r\n        this.oElement = oElement;\r\n        this.numberOfSteps = 15;\r\n        this.step = 0;\r\n        if(typeof(this.oElement) == 'object'){\r\n            this.aMoveTo = AMI.Browser.getObjectPosition(this.oElement);\r\n            if(typeof(paddingLeftTop) != 'undefined'){\r\n                this.aMoveTo[0] = Math.max(0, this.aMoveTo[0] - paddingLeftTop);\r\n                this.aMoveTo[1] = Math.max(0, this.aMoveTo[1] - paddingLeftTop);\r\n            }\r\n            this.currentPosition = [AMI.Browser.getDocumentLeft(), AMI.Browser.getDocumentTop()];\r\n            this.move();\r\n        }\r\n    }\r\n};\r\n\r\nAMI.Browser = {\n    isIE: document.swapNode,\n    isIOS: navigator.appVersion.indexOf('iPad;') >= 0 || navigator.appVersion.indexOf('iPhone;') >= 0 || navigator.appVersion.indexOf('iPod;') >= 0,\n    isSensor: this.isIOS || navigator.appVersion.indexOf('Android') >= 0 || navigator.appVersion.indexOf('Symbian') >= 0 || navigator.appVersion.indexOf('Windows CE') >= 0,\n    isLowResolution: screen.width <= 800 || screen.height <= 480,\n\n    getWindowWidth : function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n        }\n        return oWindow.document.compatMode == 'CSS1Compat' ? oWindow.document.documentElement.clientWidth : oWindow.document.body.clientWidth;\n    },\n\n    getWindowHeight : function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n        }\n        return oWindow.document.compatMode == 'CSS1Compat' ? oWindow.document.documentElement.clientHeight : oWindow.document.body.clientHeight;\n    },\n\n    getDocumentWidth : function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n        }\n        return Math.max(oWindow.document.compatMode != 'CSS1Compat' ? oWindow.document.body.scrollWidth : oWindow.document.documentElement.scrollWidth, this.getWindowWidth(oWindow));\n    },\n\n    getDocumentHeight : function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n        }\n        return Math.max(oWindow.document.compatMode != 'CSS1Compat' ? oWindow.document.body.scrollHeight : oWindow.document.documentElement.scrollHeight, this.getWindowHeight(oWindow));\n    },\n\n    getDocumentLeft: function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n            var oDocument = document;\n        }else{\n            oDocument = oWindow.document;\n        }\n        return oWindow.pageXOffset || (oDocument.documentElement && oDocument.documentElement.scrollLeft) || (oDocument.body && oDocument.body.scrollLeft);\n    },\n\n    getDocumentTop: function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n            var oDocument = document;\n        }else{\n            oDocument = oWindow.document;\n        }\n        return oWindow.pageYOffset || (oDocument.documentElement && oDocument.documentElement.scrollTop) || (oDocument.body && oDocument.body.scrollTop);\n    },\n\n    setDocumentLeft: function(value){\n        if(document.documentElement){\n            document.documentElement.scrollLeft = value;\n        }else if(document.body){\n            document.body.scrollLeft = value;\n        }\n    },\n\n    setDocumentTop: function(value){\n        if(document.documentElement){\n            document.documentElement.scrollTop = value;\n        }else if(document.body){\n            document.body.scrollTop = value;\n        }\n    },\n\n    getPointerPosition : function(oEvent){\n        var aData = new Array(0, 0);\n        oEvent = AMI.Browser.Event.validate(oEvent);\n        if(oEvent.pageX || oEvent.pageY){\n            aData[0] = oEvent.pageX;\n            aData[1] = oEvent.pageY;\n        }else if(oEvent.clientX || oEvent.clientY){\n            aData[0] = oEvent.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft) - document.documentElement.clientLeft;\n            aData[1] = oEvent.clientY + (document.documentElement.scrollTop || document.body.scrollTop) - document.documentElement.clientTop;\n        }\n        return aData;\n    },\n\n    getObjectPosition : function(oObject, bStopOnRelative){\n        if(typeof(bStopOnRelative) == 'undefined'){\n            bStopOnRelative = false;\n        }\n        var aData = new Array(0, 0);\n        do{\n            if(bStopOnRelative){\n                var positionStyle = AMI.Browser.DOM.getStyle(oObject, 'position');\n                if(positionStyle == 'relative' || positionStyle == 'absolute' || positionStyle == 'fixed'){\n                    break;\n                }\n            }\n            aData[0] += oObject.offsetLeft;\n            aData[1] += oObject.offsetTop;\n        }while((oObject = oObject.offsetParent) != null);\n        return aData;\n    },\n\n    getCaretPosition : function(textObject){\n        var result = 0;\n        textObject.focus();\n        if(textObject.selectionStart){\n            result = textObject.selectionStart;\n        }else if(document.selection){\n            var rangeSelect = document.selection.createRange();\n            rangeSelect.collapse(true);\n            var rangeObject = textObject.createTextRange();\n            if(rangeObject.inRange(rangeSelect)){\n                rangeObject.setEndPoint('EndToEnd', rangeSelect);\n                result = rangeObject.text.length\n            }\n        }\n        return result;\n    },\n\n    setCaretPosition : function(textObject, position){\n        textObject.focus();\n        if(textObject.selectionStart){\n            textObject.selectionStart = position;\n            textObject.selectionEnd = position;\n        }else if(document.selection){\n            var rangeObject = textObject.createTextRange();\n            rangeObject.move('character', position);\n            rangeObject.select();\n        }\n    },\n\n    setOpacity: function(oElement, iOpacity){\n        if(typeof(oElement.style.MozOpacity) != \"undefined\"){\n            oElement.style.MozOpacity = iOpacity;\n        }else if(typeof(oElement.style.opacity) != \"undefined\"){\n            oElement.style.opacity = iOpacity;\n        }else if(typeof(oElement.style.KhtmlOpacity) != \"undefined\"){\n            oElement.style.KhtmlOpacity = iOpacity;\n        }else{\n            oElement.style.filter = \"progid:DXImageTransform.Microsoft.Alpha(opacity=\" + (iOpacity * 100) + \");\";\n        }\n    }\n}\r\nAMI.Browser.Cookie = {\r\n    set : function(sName, sValue, iHours){\r\n      var oDate = new Date();\r\n      if(typeof(iHours) == \"undefined\"){\r\n        iHours = 1;\r\n      }\r\n      oDate.setHours(oDate.getHours() + iHours);\r\n      this.del(sName);\r\n      document.cookie = sName + \"=\" + escape(sValue) + \"; path=/; expires=\"+oDate.toGMTString();\r\n    },\r\n\r\n    del : function(sName) {\r\n        if(this.get(sName)){\r\n            document.cookie = sName + \"=\" + \"; path=/ ;expires=Thu, 01-Jan-1970 00:00:01 GMT\";\r\n        }\r\n    },\r\n\r\n    get : function(sName){\r\n        var aCookie = document.cookie.split(\"; \");\r\n        var value = \"\";\r\n        for(var i = 0; i < aCookie.length; i++){\r\n          var aCrumb = aCookie[i].split(\"=\");\r\n          if(sName == aCrumb[0]){\r\n              if(typeof(aCrumb[1]) == 'undefined'){\r\n                value = null;\r\n              }else{\r\n                  value = unescape(aCrumb[1]);\r\n              }\r\n              return value;\r\n          }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nAMI.Browser.Event = {\r\n    validate: function(oEvent){\r\n        return oEvent ? oEvent : window.event;\r\n    },\r\n\r\n    getTarget: function(oEvent){\r\n        oEvent = this.validate(oEvent);\r\n        return oEvent.srcElement || oEvent.target;\r\n    },\r\n    \r\n    fire: function(oTarget, sEvent){\r\n        if(document.createEventObject){\r\n            var oEvent = document.createEventObject();\r\n            oTarget.fireEvent('on' + sEvent, oEvent);\r\n        }else if(document.createEvent){\r\n            var oEvent = document.createEvent(\"HTMLEvents\");\r\n            oEvent.initEvent(sEvent, true, true);\r\n            oTarget.dispatchEvent(oEvent);\r\n        }else{\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    \r\n    addHandler: function(oTarget, sEvent, oHandler){\r\n        if(typeof(oTarget.addEventListener) != 'undefined'){\r\n            if(sEvent == 'mousewheel'){\r\n                // Mozilla hack\r\n                oTarget.addEventListener('DOMMouseScroll', oHandler, false);\r\n            }\r\n            oTarget.addEventListener(sEvent, oHandler, false);\r\n        }else{\r\n            oTarget.attachEvent('on' + sEvent, oHandler);\r\n        }\r\n    },\r\n    \r\n    removeHandler: function(oTarget, sEvent, oHandler){\r\n        if(typeof(oTarget.removeEventListener) != 'undefined'){\r\n            if(sEvent == 'mousewheel'){\r\n                sEvent = 'DOMMouseScroll';\r\n            }\r\n            oTarget.removeEventListener(sEvent, oHandler, false);\r\n        }else if(oTarget.detachEvent){\r\n            oTarget.detachEvent('on' + sEvent, oHandler);\r\n        }\r\n    },\r\n    \r\n    stopProcessing: function(oEvent){\r\n        oEvent = this.validate(oEvent);\r\n        if(typeof(oEvent.stopPropagation) != 'undefined'){\r\n            oEvent.stopPropagation();\r\n        }else if(typeof(oEvent.cancelBubble) != 'undefined'){\r\n            oEvent.cancelBubble = true;\r\n        }\r\n        if(typeof(oEvent.preventDefault) != 'undefined'){\r\n            oEvent.preventDefault();\r\n        }else{\r\n            oEvent.returnValue = false;\r\n        }\r\n    }\r\n}\r\n\r\nAMI.Browser.DOM = {\r\n    create: function(sTagName, sId, sClassName, sStyles, oParentNode){\r\n        var oObject = document.createElement(sTagName);\r\n        if(typeof(sId) != 'undefined' && sId != ''){\r\n            oObject.id = sId;\r\n        }\r\n        if(typeof(sClassName) != 'undefined' && sClassName != ''){\r\n            oObject.className = sClassName;\r\n        }\r\n        if(typeof(sStyles) != 'undefined' && sStyles != ''){\r\n            oObject.style.cssText = sStyles;\r\n        }\r\n        return oParentNode == null ? oObject : this.append(oParentNode, oObject);\r\n    },\r\n\r\n    append: function(oParentNode, oNode){\r\n\r\n        return oParentNode.appendChild(oNode);\r\n    },\r\n\r\n    remove: function(oNode){\r\n        oNode.parentNode.removeChild(oNode);\r\n        return this;\r\n    },\r\n\r\n    setInnerHTML: function(oNode, HTML){\r\n        var aJavaScripts = [];\r\n        // TODO: get back comments replacement. Commented because amiro-template structure <s cript><!-- --></s cript>\r\n        //HTML = HTML.replace(/<!--[\\s\\S]*?-->/ig, '').replace(/(<script[\\s\\S]*?>)([\\s\\S]*?)(<\\/script>)/ig, function(_aJavaScripts){return function(match, tagStart, code, tagEnd){\r\n        HTML = HTML.replace(/(<script[\\s\\S]*?>)([\\s\\S]*?)(<\\/script>)/ig, function(_aJavaScripts){return function(match, tagStart, code, tagEnd){\r\n            if(tagStart.indexOf('text/javascript') != -1 && tagStart.indexOf('src=') == -1){\r\n                _aJavaScripts.push(code);\r\n                replacement = '';\r\n            }else{\r\n                replacement = match;\r\n            }\r\n            return replacement;\r\n        }}(aJavaScripts));\r\n\r\n        //alert(HTML.replace(/<style[\\s\\S]*?<\\/style>/i, ''));\r\n        oNode.innerHTML = HTML;\r\n        //alert(oNode.innerHTML);\r\n        for(var i = 0; i < aJavaScripts.length; i++){\r\n            if(window.execScript){\r\n                window.execScript(aJavaScripts[i]);\r\n            }else{\r\n                eval.call(window, aJavaScripts[i]);\r\n            }\r\n        }\r\n    },\r\n\r\n    getCSSSelectors: function(){\r\n        var aResult = [];\r\n\r\n        if(typeof(document.styleSheets) != 'undefined'){\r\n            var aCSSSheets = document.styleSheets;\r\n\r\n            for(var i = 0; i < aCSSSheets.length; i++){\r\n                if(aCSSSheets[i].disabled){\r\n                    continue;\r\n                }\r\n                var aRules = typeof(aCSSSheets[i].cssRules) != 'undefined' ? aCSSSheets[i].cssRules : aCSSSheets[i].rules;\r\n                for(var ii = 0; ii < aRules.length; ii++){\r\n                    aResult.push(aRules[ii].selectorText);\r\n                }\r\n            }\r\n        }\r\n\r\n        return aResult;\r\n    },\r\n\r\n    findCSSClass: function(classMask){\r\n        var aResult = [];\r\n        var rx = new RegExp('\\\\.' + classMask + '($|[^a-z\\-_])', 'i');\r\n\r\n        var aSelectors = this.getCSSSelectors();\r\n        for(var i = 0; i < aSelectors.length; i++){\r\n            if(rx.test(aSelectors[i])){\r\n                aResult.push(aSelectors[i]);\r\n            }\r\n        }\r\n\r\n        return aResult;\r\n    },\r\n\r\n    getStyle: function(oObject, sStyleName){\r\n        var sResult = '';\r\n\r\n        if(window.getComputedStyle){\r\n            var oDeclaration = window.getComputedStyle(oObject, sStyleName);\r\n            sResult = oDeclaration.getPropertyValue(sStyleName);\r\n        }else if(oObject.currentStyle){\r\n            var i;\r\n            while((i = sStyleName.indexOf(\"-\")) != -1){\r\n                sStyleName = sStyleName.substr(0, i) + sStyleName.substr(i+1,1).toUpperCase() + sStyleName.substr(i+2);\r\n            }\r\n\r\n            if(oObject.currentStyle[sStyleName]){\r\n                sResult = oObject.currentStyle[sStyleName];\r\n            }\r\n        }\r\n\r\n        return sResult;\r\n    }\r\n}\r\nAMI.Message = {\r\n    oListeners: {},\r\n\r\n    addListener: function(sMessage, oCallback){\r\n        if(typeof(this.oListeners[sMessage]) == 'undefined'){\r\n            this.oListeners[sMessage] = [];\r\n        }\r\n        this.oListeners[sMessage].push(oCallback);\r\n    },\r\n\r\n    removeListener: function(sMessage, oCallback){\r\n        if(typeof(sMessage) == 'undefined'){\r\n            this.oListeners = {};\r\n        }else if(typeof(oCallback) == 'undefined'){\r\n            if(typeof(this.oListeners[sMessage]) != 'undefined'){\r\n                this.oListeners[sMessage] = [];\r\n            }\r\n        }else{\r\n            if(typeof(this.oListeners[sMessage]) != 'undefined'){\r\n                var iListenersNumber = this.oListeners[sMessage].length;\r\n                for(var i = 0; i < iListenersNumber; i++){\r\n                    if(this.oListeners[sMessage][i] == oCallback){\r\n                        this.oListeners[sMessage][i] = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    send: function(sMessage, param1, param2){\r\n        var bResult = true;\r\n        if(typeof(this.oListeners[sMessage]) != 'undefined'){\r\n            /*\r\n            param1 = typeof(param1) == 'undefined' ? null : param1;\r\n            param2 = typeof(param2) == 'undefined' ? null : param2;\r\n            */\r\n            if(typeof(param1) == 'undefined'){\r\n                param1 = null;\r\n            }\r\n            if(typeof(param2) == 'undefined'){\r\n                param2 = null;\r\n            }\r\n            var iListenersNumber = this.oListeners[sMessage].length;\r\n            for(var i = 0; i < iListenersNumber; i++){\r\n                if(this.oListeners[sMessage][i] != null){\r\n                    bResult = this.oListeners[sMessage][i](param1, param2);\r\n                    if(!bResult){\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return bResult;\r\n    }\r\n}\r\n\r\nAMI.Template = {\r\n    currentValues : null,\r\n    conditionStrings : new Array(),\r\n\r\n    storeConditionStrings : function(match, quote, str, offset, originalString){\r\n        var result = this.conditionStrings.length;\r\n        this.conditionStrings[result] = quote + str + quote;\r\n        return '\"' + result + '\"';\r\n    },\r\n\r\n    restoreConditionStrings : function(match, position, offset, originalString){\r\n        if(typeof(this.conditionStrings[position]) != 'undefined'){\r\n            return this.conditionStrings[position];\r\n        }else{\r\n            return '';\r\n        }\r\n    },\r\n\r\n    getCondition : function(construction){\r\n        construction = construction.replace(/\\\\'/g, \"'\").replace(/\\\\\\\\/g, '\\\\').replace(/&amp;/g, '&');\r\n        this.conditionStrings = new Array();\r\n        construction = construction.replace(\r\n            /('|\")((?:.|[\\r\\n])*?)\\1/g,\r\n            function(_this){\r\n                return function(match, quote, str, offset, originalString){\r\n                    return _this.storeConditionStrings(match, quote, str, offset, originalString);\r\n                }\r\n            }(this)\r\n        );\r\n        construction = construction.replace(/(^|[^\"\\'A-Za-z\\_0-9\\[])([0-9A-Za-z\\_]*[A-Za-z_]+[0-9A-Za-z\\_]*)([^\\]\"\\'A-Za-z\\_0-9\\(\\[]|$)/g, '$1AMI.Template.getValue(\"$2\")$3');\r\n        construction = construction.replace(\r\n            /\"(\\d+)\"/g,\r\n            function(_this){\r\n                return function(match, position, offset, originalString){\r\n                    return _this.restoreConditionStrings(match, position, offset, originalString);\r\n                }\r\n            }(this)\r\n        );\r\n        return construction;\r\n    },\r\n\r\n    replaceSpecial : function(match, construction, offset, originalString){\r\n        var result = '';\r\n        if(matches = construction.match(/^if\\((.*?)\\)$/)){\r\n            result = \"'; if(\" + this.getCondition(matches[1]) + \"){evalResult += '\";\r\n        }else if(matches = construction.match(/^else if\\((.*?)\\)$/)){\r\n            result = \"';} else if(\" + this.getCondition(matches[1]) + \"){evalResult += '\";\r\n        }else if(construction == 'else'){\r\n            result = \"';} else { evalResult += '\";\r\n        }else if(construction == 'endif'){\r\n            result = \"';} evalResult += '\";\r\n        }else if(/^[a-zA-Z0-9_\\.\\-]+$/.test(construction)){\r\n            result = \"' + AMI.Template.getValue('\" + construction + \"') + '\";\r\n        }else{\r\n            result = match;\r\n        }\r\n        return result;\r\n    },\r\n\r\n    getValue : function(varKey){\r\n        if(typeof(this.currentValues[varKey]) != 'undefined'){\r\n            return this.currentValues[varKey];\r\n        }else{\r\n            return '';\r\n        }\r\n    },\r\n\r\n    parse : function(content, aData){\r\n        content = \"'\" + content.replace(/\\\\/g, '\\\\' + '\\\\').replace(/'/g, \"\\\\'\").replace(/\\r/g, '').replace(/\\n/g, \"\\\\\" + \"\\n\") + \"';\";\r\n        content = content.replace(\r\n            /@@(.*?)@@/g,\r\n            function(_this){\r\n                return function(match, construction, offset, originalString){\r\n                    return _this.replaceSpecial(match, construction, offset, originalString);\r\n                }\r\n            }(this)\r\n        );\r\n\r\n        this.currentValues = aData;\r\n        var evalResult = '';\r\n        eval('evalResult = ' + content);\r\n\r\n        return evalResult;\r\n    },\r\n\r\n    getTemplate: function(elementId){\r\n        var content = '';\r\n        var oElement = AMI.find('#' + elementId);\r\n        if(oElement != null){\r\n            content = oElement.innerHTML;\r\n            content = content.replace(/^\\s*<\\!--([\\s\\S]*)-->\\s*$/i, '$1');\r\n        }\r\n        return content;\r\n    }\r\n}\r\n\r\nAMI.Template.Locale = {\r\n    oDictionary: {},\r\n\r\n    init: function(oDictionary){\r\n        this.oDictionary = oDictionary;\r\n    },\r\n\r\n    /**\r\n     * Set single caption\r\n     *\r\n     * @param  {string} key\r\n     * @param  {string} caption\r\n     * @return void\r\n     */\r\n    set : function(key, caption){\r\n        this.oDictionary[key] = caption;\r\n    },\r\n\r\n    /**\r\n     * Append only new captions to dictionary\r\n     *\r\n     * @param  {object} oDictionary  Object containing properties as keys and its values as captions\r\n     * @return void\r\n     */\r\n    append : function(oDictionary){\r\n        for(var key in oDictionary){\r\n            if(typeof(this.oDictionary[key]) == 'undefined'){\r\n                this.oDictionary[key] = oDictionary[key];\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Append new captions, override obsolete\r\n     *\r\n     * @param  {object} oDictionary  Object containing properties as keys and its values as captions\r\n     * @return void\r\n     */\r\n    merge : function(oDictionary){\r\n        for(var key in oDictionary){\r\n            this.oDictionary[key] = oDictionary[key];\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Get caption by key\r\n     *\r\n     * @param  {string} key\r\n     * @return {string} | null\r\n     */\r\n    get : function(key){\r\n        if(typeof(this.oDictionary[key]) == 'undefined'){\r\n            if(typeof(console) == 'object' && typeof(console.warn) == 'function'){\r\n                // firebug debugging\r\n                console.warn(\"Undefined dictionary key '\" + key + \"'\");\r\n                console.trace();\r\n            }\r\n            return null;\r\n        }else{\r\n            return this.oDictionary[key];\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Parse caption specified by key using variables\r\n     *\r\n     * @param  {string} key\r\n     * @param  {object} oVariables  Object containing properties as keys and its values as captions\r\n     * @return {string} | null\r\n     */\r\n    parse : function(key, oVariables){\r\n        var caption = this.get(key);\r\n        if(caption){\r\n            for(var variable in oVariables){\r\n                caption = caption.replace('_' + variable + '_', oVariables[variable]);\r\n            }\r\n        }\r\n        return caption;\r\n    }\r\n}\r\n\r\nfunction print_r( array, return_val ) {    // Prints human-readable information about a variable\r\n\r\n    var output = \"\", pad_char = \" \", pad_val = 4;\r\n\r\n    var formatArray = function (obj, cur_depth, pad_val, pad_char) {\r\n        if(cur_depth > 0)\r\n            cur_depth++;\r\n\r\n        var base_pad = repeat_char(pad_val*cur_depth, pad_char);\r\n        var thick_pad = repeat_char(pad_val*(cur_depth+1), pad_char);\r\n        var str = \"\";\r\n\r\n        if(obj instanceof Array || obj instanceof Object) {\r\n            str += \"Array\\n\" + base_pad + \"(\\n\";\r\n            for(var key in obj) {\r\n                if(obj[key] instanceof Array || obj[key] instanceof Object) {\r\n                    str += thick_pad + \"[\"+key+\"] => \"+formatArray(obj[key], cur_depth+1, pad_val, pad_char);\r\n                } else {\r\n                    str += thick_pad + \"[\"+key+\"] => \" + obj[key] + \"\\n\";\r\n                }\r\n            }\r\n            str += base_pad + \")\\n\";\r\n        } else {\r\n            str = obj.toString();\r\n        };\r\n\r\n        return str;\r\n    };\r\n\r\n    var repeat_char = function (len, char) {\r\n        var str = \"\";\r\n        for(var i=0; i < len; i++) { str += char; };\r\n        return str;\r\n    };\r\n\r\n    output = formatArray(array, 0, pad_val, pad_char);\r\n\r\n    if(return_val !== true) {\r\n        document.write(\"<pre>\" + output + \"</pre>\");\r\n        return true;\r\n    } else {\r\n        return output;\r\n    }\r\n}\r\n\r\nAMI.String = {\r\n    decodeHTMLSpecialChars : function(content){\r\n        return content.replace(/&(.{2,4});/gi, function(wholeString, match){\r\n            // Remember to change php unhtmlentities when expanding replacements\r\n            var associations = {\r\n                '#039' : \"'\",\r\n                '#037' : \"%\",\r\n                '#035' : '#',\r\n                'quot' : '\"',\r\n                'lt' : '<',\r\n                'gt' : '>',\r\n                'amp' : '&'\r\n            };\r\n            if(associations[match]){\r\n                return associations[match];\r\n            }else{\r\n                return match;\r\n            }\r\n        });\r\n    },\r\n    \r\n    decodeJSON: function(data){\r\n        var oResult;\r\n        eval('oResult = ' + data);\r\n        return oResult;\r\n    }\r\n}\r\n\r\nAMI.HTTPRequest = {\r\n\r\n    requests: new Array(),\r\n    variables: {},\r\n    urlHash: '',\r\n\r\n    // Init XML HTTP object\r\n    _initObjectRequest: function(requestId){\r\n        try{\r\n            this.requests[requestId]['transport'] = new XMLHttpRequest();\r\n        }catch(exception){\r\n            this.requests[requestId]['transport'] = null;\r\n        }\r\n        if(this.requests[requestId]['transport'] == null){\r\n            for(var i = 0; i < 2; i++){\r\n                activeXName = i == 0 ? 'Msxml2.XMLHTTP' : 'Microsoft.XMLHTTP'; \r\n                try{\r\n                    this.requests[requestId]['transport'] = new ActiveXObject(activeXName);\r\n                }catch(exception){\r\n                    this.requests[requestId]['transport'] = null;\r\n                }\r\n                if(this.requests[requestId]['transport'] != null){\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return (this.requests[requestId]['transport'] != null);\r\n    },\r\n    \r\n    // Create query string from variables object\r\n    _getRequestVariables: function(requestId){\r\n        var variables = '';\r\n        for(var key in this.requests[requestId]['variables']){\r\n            variables += variables.length > 0 ? '&' : '';\r\n            variables += encodeURIComponent(key) + '=' + encodeURIComponent(this.requests[requestId]['variables'][key]);\r\n        }\r\n        return variables;\r\n    },\r\n    \r\n    // Create valid url for request\r\n    _prepeareUrl: function(requestId){\r\n        var url = this.requests[requestId]['url'];\r\n        if(this.requests[requestId]['method'] == 'GET'){\r\n            var variables = this._getRequestVariables(requestId);\r\n            if(variables.length > 0){\r\n                url = url + '?' + variables;\r\n            }\r\n            if(this.requests[requestId]['hash'].length > 0){\r\n                url = url + '#' + encodeURIComponent(this.requests[requestId]['hash']);\r\n            }\r\n        /*}else if(this.requests[requestId]['method'] == 'POST'){\r\n            var variables = this._getRequestVariables(requestId);\r\n            this.requests[requestId]['transport'].send(variables);*/\r\n        }\r\n        return url;\r\n    },\r\n    \r\n    // Process request for session parameters\r\n    _request: function(requestId){\r\n        if(this._initObjectRequest(requestId)){\r\n            this.requests[requestId]['transport'].open(this.requests[requestId]['method'], this._prepeareUrl(requestId), true);\r\n            if(this.requests[requestId]['method'] == 'GET'){\r\n                this.requests[requestId]['transport'].setRequestHeader('If-Modified-Since', 'Sat, 1 Jan 2000 00:00:00 GMT');\r\n                this.requests[requestId]['transport'].send(null);\r\n            }else{\r\n                this.requests[requestId]['transport'].setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n                this.requests[requestId]['transport'].send(this._getRequestVariables(requestId));\r\n            }\r\n            setTimeout('AMI.HTTPRequest._checkResponse('+requestId+')', 10);\r\n        }else{\r\n            alert('Problem with XML HTTP initialization');\r\n        }\r\n    },\r\n    \r\n    // Check the response from server and process action\r\n    _checkResponse: function(requestId){\r\n        if(this.requests[requestId]['transport'].readyState == 4){\r\n            if(this.requests[requestId]['transport'].status == 200){\r\n                this.requests[requestId]['status'] = 1;\r\n                this.requests[requestId]['content'] = this.requests[requestId]['transport'].responseText;\r\n            }else{\r\n                this.requests[requestId]['status'] = 2;\r\n            }\r\n            if(this.requests[requestId]['callback'] != null){\r\n                this.requests[requestId]['callback'](this.requests[requestId]['status'], this.requests[requestId]['content']);\r\n            }\r\n            this.requests[requestId]['transport'] = null;     \r\n            this.requests[requestId] = null;\r\n        }else{\r\n            setTimeout('AMI.HTTPRequest._checkResponse('+requestId+')', 10);\r\n        }\r\n    },\r\n    \r\n    // Remove all query variables\r\n    resetRequestVariables: function(){\r\n        this.variables = {};\r\n    },\r\n    \r\n    // Add query variable\r\n    addVariable: function(key, value, bDecode){\r\n        bDecode = bDecode || false;\r\n        if(bDecode){\r\n            value = decodeURIComponent(value);\r\n        }\r\n        this.variables[decodeURIComponent(key)] = value;\r\n    },\r\n    \r\n    // Set url hash code\r\n    setUrlHash: function(value){\r\n        this.urlHash = decodeURIComponent(value);\r\n    },\r\n    \r\n    // Parse query string and create variables object\r\n    setVariables: function(mVariables){\r\n        if(typeof(mVariables) == 'object'){\r\n            this.resetRequestVariables();\r\n            this.setUrlHash('');\r\n            \r\n            for(key in mVariables){\r\n                this.addVariable(key, mVariables[key]);\r\n            }\r\n        }else if(mVariables != ''){\r\n            this.resetRequestVariables();\r\n            \r\n            mVariables = mVariables.replace(/^[\\s?]*(.*?)[\\s]*$/g, '$1');\r\n            \r\n            var aHash = mVariables.split('#');\r\n            if(typeof(aHash[1]) != 'undefined'){\r\n                mVariables = aHash[0];\r\n                this.setUrlHash(aHash[1]);\r\n            }else{\r\n                this.setUrlHash('');\r\n            }\r\n            \r\n            var aPairs = mVariables.split('&');\r\n            for(var i = 0; i < aPairs.length; i++){\r\n                aPair = aPairs[i].split('=');\r\n                if(aPair[0] != ''){\r\n                    this.addVariable(aPair[0], aPair[1], true);\r\n                }                \r\n            }\r\n        }\r\n    },\r\n\r\n    addVariablesFromForm: function(oForm){\r\n        for(var i = 0; i < oForm.elements.length; i++){\r\n            var oField = oForm.elements[i];\r\n            if(!oField.disabled && oField.name != ''){\r\n                if(oField.type == 'checkbox' || oField.type == 'radio'){\r\n                    if(oField.checked){\r\n                        this.addVariable(oField.name, oField.value);\r\n                    }\r\n                }else{\r\n                    this.addVariable(oField.name, oField.value);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \r\n    getContent: function(method, url, mVariables, callbackFunction){\r\n        var requestId = this.requests.length;\r\n        this.requests[requestId] = {};\r\n        this.requests[requestId]['status'] = 0;\r\n        this.requests[requestId]['callback'] = typeof(callbackFunction) == 'function' ? callbackFunction : null;\r\n        this.requests[requestId]['transport'] = null;\r\n        this.requests[requestId]['method'] = method.toUpperCase();\r\n        this.requests[requestId]['url'] = url;\r\n        this.setVariables(typeof(mVariables) == 'undefined' ? '' : mVariables);\r\n        this.requests[requestId]['variables'] = this.variables;\r\n        this.requests[requestId]['hash'] = this.urlHash;\r\n        this.requests[requestId]['content'] = '';\r\n        this._request(requestId);\r\n    },\r\n    \r\n    submitForm: function(method, oForm, mAdditionalVariables, callbackFunction){\r\n        var sURL = oForm.attributes.action.value;\r\n\r\n        this.setVariables(typeof(mAdditionalVariables) == 'undefined' ? '' : mAdditionalVariables);\r\n        this.addVariablesFromForm(oForm);\r\n\r\n        this.getContent(\r\n            method != '' ? method.toUpperCase() : (oForm.attributes.method && oForm.attributes.method.value.toLowerCase() == 'post' ? 'POST' : 'GET'),\r\n            sURL,\r\n            '',\r\n            callbackFunction\r\n        );\r\n    }\r\n}\r\n\r\nAMI.UI = {\r\n\r\n     /**\r\n     * Property to save old alert\r\n     */\r\n    _savedAlert: null,\r\n\r\n     /**\r\n     * Alert window container\r\n     */\r\n    oAlertWindow: null,\r\n\r\n     /**\r\n     * Alert window timer\r\n     */\r\n    alertWindowTimer: null,\r\n\r\n    /**\r\n     * Is alert visible?\r\n     */\r\n    alertVisible: false,\r\n\r\n    /**\r\n     * Is body onclick handler attached?\r\n     */\r\n    bodyClickHandler: false,\r\n\r\n     /**\r\n     * Overload default alert() function with a custom div\r\n     *\r\n     * @param {bool} bState true if overload\r\n     * @returns {void}\r\n     */\r\n    overloadAlert: function(bState){\r\n        if(bState){\r\n            this._savedAlert = alert;\r\n            alert = function(message, type){\r\n                if(!message || (message == '')){\r\n                    return false;\r\n                }\r\n                var alertType = 'status_notice';\r\n                if((typeof(type) != 'undefined') && (type != null)){\r\n                    switch(type){\r\n                        case 'error':\r\n                            alertType = 'status_error';\r\n                            break;\r\n                        case 'normal':\r\n                            alertType = 'status_normal';\r\n                            break;\r\n                    }\r\n                }\r\n                this.oAlertWindow = AMI.find('#status_message');\r\n                if (!this.oAlertWindow){\r\n                    this.oAlertWindow = AMI.Browser.DOM.create('DIV', 'status_message', alertType, '', document.body);\r\n                }\r\n                this.oAlertWindow.className = alertType;\r\n\r\n                var hideAlert = function(oObj){\r\n                    return function(){\r\n                        AMI.UI.Effects.fadeOut(oObj, 1000, function(){AMI.UI.alertVisible = false;});\r\n                        if(AMI.UI.bodyClickHandler){\r\n                            AMI.Browser.Event.removeHandler(window.document.body, 'click', hideAlert);\r\n                            AMI.UI.bodyClickHandler = false;\r\n                        }\r\n                    }\r\n                }(this.oAlertWindow);\r\n\r\n                if((this.oAlertWindow.innerHTML != '') && (this.oAlertWindow.style.visibility == 'visible')){\r\n                    if(this.oAlertWindow.innerHTML != message){\r\n                      this.oAlertWindow.innerHTML += '<br>' + message;\r\n                    }\r\n                }else{\r\n                    this.oAlertWindow.innerHTML = message;\r\n\r\n                    if(!this.oAlertWindow.onmouseover) this.oAlertWindow.onmouseover = function(){\r\n                        window.clearTimeout(this.alertWindowTimer);\r\n                    }\r\n                    if(!this.oAlertWindow.onmouseout) this.oAlertWindow.onmouseout = function(){\r\n                        window.setTimeout(hideAlert, 1000);\r\n                    }\r\n                    this.oAlertWindow.style.left = parseInt((AMI.Browser.getWindowWidth() - this.oAlertWindow.offsetWidth) / 2) +'px';\r\n                    this.oAlertWindow.style.top = parseInt((AMI.Browser.getWindowHeight() - this.oAlertWindow.offsetHeight) * 0.4) +'px';\r\n                    AMI.UI.Effects.fadeIn(this.oAlertWindow, 300, function(){AMI.UI.alertVisible = true;});\r\n                }\r\n                window.clearTimeout(this.alertWindowTimer);\r\n                this.alertWindowTimer = window.setTimeout(hideAlert, 4000);\r\n\r\n                var bodyClick = function(){                    \r\n                    AMI.Browser.Event.addHandler(window.document.body, 'click', hideAlert);\r\n                }\r\n                if(!AMI.UI.bodyClickHandler){\r\n                    AMI.UI.bodyClickHandler = true;\r\n                    window.setTimeout(bodyClick, 100);\r\n                }\r\n            }\r\n        }else{\r\n            if(typeof(this._savedAlert) == 'function'){\r\n                alert = this._savedAlert;\r\n            }\r\n        }\r\n    },\r\n\r\n    center: function(div){\r\n        var divWidth = div.offsetWidth;\r\n        var divHeight = div.offsetHeight;\r\n        var scrWidth = AMI.Browser.getWindowWidth();\r\n        var scrHeight = AMI.Browser.getWindowHeight();\r\n        div.style.top = parseInt((scrHeight - divHeight) / 2) + 'px';\r\n        div.style.left = parseInt((scrWidth - divWidth) / 2) + 'px';\r\n    }\r\n}\r\nAMI.UI.List = function(containerId, requestData){\r\n    this.idContainer = containerId;\r\n    this.oProgress = null;\r\n    this.oContainer = null;\r\n    this.oPrevious = null;\r\n    this.oNext = null;\r\n    this.oPlayPause = null;\r\n\r\n    this.oDebug = null;\r\n\r\n    this.sRowTemplateId = 'itemRowTemplate_' + containerId;\r\n    this.aRequestData = requestData;\r\n\r\n    // Refresh data\r\n    this.refreshInterval = typeof(requestData.refreshInterval) == 'undefined' ? 0 : Math.max(1, parseFloat(requestData.refreshInterval));\r\n    this.refreshIntervalInitial = this.refreshInterval;\r\n    this.refreshMultiplier = typeof(requestData.refreshIntervalMultiplier) == 'undefined' ? 0 : Math.max(1, parseFloat(requestData.refreshIntervalMultiplier));\r\n    this.refreshMaximum = typeof(requestData.refreshNumber) == 'undefined' ? 50 : Math.min(50, parseInt(requestData.refreshNumber));\r\n    this.refreshMaximumInitial = this.refreshMaximum;\r\n    this.refreshType = typeof(requestData.refreshType) == 'undefined' ? 'reload' : requestData.refreshType;\r\n    this.refreshTimeout = null;\r\n    this.refreshPaused = false;\r\n\r\n    this.lastAction = '';\r\n    this.lastRecordsCount = 0;\r\n\r\n    this.scriptName = 'ami_resp';\r\n    this.scriptExt = 'php';\r\n\r\n    this.init = function(){\r\n        this.oContainer = document.getElementById('amiContent' + containerId);\r\n        this.oProgress = document.getElementById('amiProgress' + containerId);\r\n        this.oPrevious = document.getElementById('amiNavPreviuos' + containerId);\r\n        this.oNext = document.getElementById('amiNavNext' + containerId);\r\n        this.oPlayPause = document.getElementById('amiNavPlayPause' + containerId);\r\n\r\n        if(this.oProgress == null && this.oContainer != null){\r\n            this.oProgress = AMI.Browser.DOM.create('DIV', '', 'amiListProgress', '', this.oContainer.parentNode);\r\n            var oProgressImage = AMI.Browser.DOM.create('IMG', '', '', '', this.oProgress);\r\n            oProgressImage.src = '/_img/ami_jsapi/loader.gif';\r\n        }\r\n        if(isNaN(this.refreshMaximum)){\r\n            this.refreshMaximum = 0;\r\n            this.refreshMaximumInitial = 0;\r\n        }\r\n        if(this.oPlayPause && this.refreshInterval > 0 && this.refreshMaximum > 0){\r\n            this.oPlayPause.className = this.oPlayPause.className.replace(/\\s*ami_resp_play_pause_disabled/, '');\r\n        }\r\n\r\n        AMI.Message.send('ON_AMI_LIST_READY', this.idContainer, this);\r\n    }\r\n\r\n    this.showProgress = function(){\r\n        if(this.oProgress != null){\r\n            var oPos = AMI.Browser.getObjectPosition(this.oContainer, true);\r\n            this.oProgress.style.left = oPos[0] + 'px';\r\n            this.oProgress.style.top = oPos[1] + 'px';\r\n            this.oProgress.style.width = this.oContainer.offsetWidth + 'px';\r\n            this.oProgress.style.height = this.oContainer.offsetHeight + 'px';\r\n            this.oProgress.style.display = 'block';\r\n        }\r\n    }\r\n\r\n    this.hideProgress = function(){\r\n        if(this.oProgress != null){\r\n            this.oProgress.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    this.updatePrevNext = function(iDisableNext){\r\n        if(this.oPrevious != null){\r\n            if(parseInt(this.aRequestData.offset) <= 0 && this.oPrevious.className.indexOf('ami_resp_prev_disabled') == -1){\r\n                AMI.Message.send('ON_AMI_LIST_PREVIOUS_DISABLE', this.idContainer, this.oPrevious);\r\n                this.oPrevious.className = this.oPrevious.className + (this.oPrevious.className.length > 0 ? ' ' : '') + 'ami_resp_prev_disabled';\r\n            }else if(parseInt(this.aRequestData.offset) > 0 && this.oPrevious.className.indexOf('ami_resp_prev_disabled') >= 0){\r\n                AMI.Message.send('ON_AMI_LIST_PREVIOUS_ENABLE', this.idContainer, this.oPrevious);\r\n                this.oPrevious.className = this.oPrevious.className.replace(/\\s*ami_resp_prev_disabled/, '');\r\n            }\r\n        }\r\n        if(this.oNext != null && typeof(iDisableNext) != 'undefined'){\r\n            if(iDisableNext && this.oNext.className.indexOf('ami_resp_next_disabled') == -1){\r\n                AMI.Message.send('ON_AMI_LIST_NEXT_DISABLE', this.idContainer, this.oNext);\r\n                this.oNext.className = this.oNext.className + (this.oNext.className.length > 0 ? ' ' : '') + 'ami_resp_next_disabled';\r\n            }else if(!iDisableNext && this.oNext.className.indexOf('ami_resp_next_disabled') >= 0){\r\n                AMI.Message.send('ON_AMI_LIST_NEXT_ENABLE', this.idContainer, this.oNext);\r\n                this.oNext.className = this.oNext.className.replace(/\\s*ami_resp_next_disabled/, '');\r\n            }\r\n        }\r\n    }\r\n\r\n    this.setDebug = function(aReceivedData){\r\n        if(DEBUG_BY_IP && typeof(aReceivedData.debug) != 'undefined'){\r\n            if(this.oDebug == null){\r\n                this.oDebug = AMI.Browser.DOM.create('div', '', '', '', document.getElementById('ami_resp_outer_' + this.idContainer));\r\n            }\r\n            this.oDebug.innerHTML = '<div style=\"background: red; height: 1px; margin-bottom: 5px; overflow: hidden;\"></div>' + aReceivedData.debug + this.oDebug.innerHTML;\r\n        }\r\n    }\r\n\r\n    this.load = function(lastAction){\r\n        if(typeof(lastAction) == 'undefined'){\r\n            this.lastAction = 'load';\r\n        }else{\r\n            this.lastAction = lastAction;\r\n        }\r\n\r\n        clearTimeout(this.refreshTimeout);\r\n        if(this.oContainer != null){\r\n            this.showProgress();\r\n\r\n            var url = document.location.protocol + '//' + document.location.host + '/' + this.scriptName + '.' + this.scriptExt + '?';\r\n            var cnt = 0;\r\n            for(var name in this.aRequestData){\r\n                if(name != 'refresh' && name != 'refreshMultiplier' && name != 'refreshType'){\r\n                    url = url + (cnt++ > 0 ? '&' : '') + encodeURIComponent(name) + '=' + encodeURIComponent(this.aRequestData[name]);\r\n                }\r\n            }\r\n            AMI.HTTPRequest.getContent(\r\n                'GET',\r\n                url,\r\n                '',\r\n                function(_this){\r\n                    return function(state, content){\r\n                        _this.onContentReceived(state, content);\r\n                    }\r\n                }(this)\r\n            );\r\n        }\r\n    }\r\n\r\n    this.onContentReceived = function(state, content){\r\n        if(state == 1){\r\n            this.hideProgress();\r\n\r\n            var aReceived = {};\r\n\r\n            if(content.indexOf('{') != 0){\r\n                aReceived.debug = 'Unknown data received for block ' + this.idContainer + ': ' + content;\r\n                this.setDebug(aReceived);\r\n                return;\r\n            }\r\n\r\n            aReceived = AMI.String.decodeJSON(content);\r\n            var bDisableNext = true;\r\n            if(typeof(aReceived) == 'object'){\r\n                if(typeof(aReceived.code) != 'undefined' && aReceived.code == -1){\r\n                    document.getElementById('ami_resp_outer_' + this.idContainer).style.display = 'none';\r\n                    document.getElementById('ami_resp_forbidden_' + this.idContainer).innerHTML += \" '\" + aReceived.message + \"'\";\r\n                    document.getElementById('ami_resp_forbidden_' + this.idContainer).style.display = 'block';\r\n                    return;\r\n                }\r\n\r\n                this.setDebug(aReceived);\r\n\r\n                if(typeof(aReceived.data) == 'object' && typeof(aReceived.data.list) == 'object'){\r\n                    this.lastRecordsCount = aReceived.data.list.length;\r\n                    if(aReceived.data.list.length == this.aRequestData.limit){\r\n                        bDisableNext = false;\r\n                    }\r\n\r\n                    this.setListData(aReceived.data.list);\r\n                    this.playNext();\r\n                }\r\n            }\r\n            if(this.lastAction == 'next' && this.lastRecordsCount == 0){\r\n                this.aRequestData.offset = Math.max(0, parseInt(this.aRequestData.offset) - parseInt(this.aRequestData.limit));\r\n            }\r\n            if(this.refreshType == 'next' && bDisableNext || this.refreshType == 'previous' && parseInt(this.aRequestData.offset) == 0){\r\n                this.playPause('pause');\r\n            }\r\n            this.updatePrevNext(bDisableNext);\r\n        }\r\n    }\r\n\r\n    this.setListData = function(aRowsData){\r\n        var sRowTemplate = AMI.Template.getTemplate(this.sRowTemplateId);\r\n\r\n        if(aRowsData.length && aRowsData.length > 0){\r\n            var content = '';\r\n            for(var i in aRowsData){\r\n                AMI.Message.send('ON_AMI_LIST_DRAW_ROW', this.idContainer, aRowsData[i]);\r\n                aRowsData[i]['mod_link'] = this.aRequestData.mod_link;\r\n                aRowsData[i]['ROW_NUMBER'] = i;\r\n                content += AMI.Template.parse(sRowTemplate, aRowsData[i]);\r\n            }\r\n            this.fillBlockContent(content);\r\n        }\r\n    }\r\n\r\n    this.fillBlockContent = function(content){\r\n        this.oContainer.innerHTML = content;\r\n    }\r\n\r\n    this.previousPage = function(bAutoAction){\r\n        if(typeof(bAutoAction) == 'undefined' || !bAutoAction){\r\n            this.playPause('pause');\r\n        }\r\n        if(parseInt(this.aRequestData.offset) > 0){\r\n            this.aRequestData.offset = parseInt(this.aRequestData.offset) - parseInt(this.aRequestData.limit);\r\n            this.load('previous');\r\n        }\r\n        return false;\r\n    }\r\n\r\n    this.nextPage = function(bAutoAction){\r\n        if(typeof(bAutoAction) == 'undefined' || !bAutoAction){\r\n            this.playPause('pause');\r\n        }\r\n        if(this.lastRecordsCount && this.lastRecordsCount == this.aRequestData.limit){\r\n            this.aRequestData.offset = parseInt(this.aRequestData.offset) + parseInt(this.aRequestData.limit);\r\n            this.load('next');\r\n        }\r\n        return false;\r\n    }\r\n\r\n    this.playPause = function(forceAction){\r\n        if(typeof(forceAction) == 'indefined'){\r\n            forceAction = 'none';\r\n        }\r\n        if(this.refreshPaused && forceAction != 'pause'){\r\n            if(this.refreshType == 'next' && this.lastRecordsCount != this.aRequestData.limit){\r\n                return;\r\n            }\r\n            this.refreshPaused = false;\r\n            if(this.oPlayPause){\r\n                this.oPlayPause.className = this.oPlayPause.className.replace(/\\s*ami_resp_pause/, '');\r\n            }\r\n            this.refreshInterval = this.refreshIntervalInitial;\r\n            this.refreshMaximum = this.refreshMaximumInitial;\r\n            this.playNext(true);\r\n        }else if(!this.refreshPaused && forceAction != 'play'){\r\n            this.refreshPaused = true;\r\n            this.playStop();\r\n            if(this.oPlayPause){\r\n                this.oPlayPause.className = this.oPlayPause.className + ' ami_resp_pause';\r\n            }\r\n        }\r\n    }\r\n\r\n    this.playNext = function(bImmediately){\r\n        if(!this.refreshPaused && this.refreshInterval > 0 && this.refreshMaximum > 0){\r\n            var callback = null;\r\n            if(this.refreshType == 'next'){\r\n                var callback = function(_this){return function(){_this.nextPage(true)}}(this);\r\n            }else if(this.refreshType == 'previous'){\r\n                var callback = function(_this){return function(){_this.previousPage(true)}}(this);\r\n            }else{\r\n                var callback = function(_this){return function(){_this.load()}}(this);\r\n            }\r\n            if(bImmediately){\r\n                this.refreshTimeout = setTimeout(callback, 200);\r\n            }else{\r\n                this.refreshTimeout = setTimeout(callback, this.refreshInterval * 1000);\r\n            }\r\n            if(this.refreshMultiplier > 0){\r\n                this.refreshInterval *= this.refreshMultiplier;\r\n                this.refreshMaximum--;\r\n            }\r\n        }else if(!this.refreshPaused){\r\n            this.playPause('pause');\r\n        }\r\n    }\r\n\r\n    this.playStop = function(){\r\n        clearTimeout(this.refreshTimeout);\r\n    }\r\n\r\n    this.init();\r\n}\r\n\r\nAMI.UI.Slider = function(oParent, oBackward, oForward, iStep, bHorizontal){\r\n    this.oParent = oParent;\r\n    this.oSlider = null;\r\n    this.oBackward = oBackward;\r\n    this.oForward = oForward;\r\n    this.iStep = iStep;\r\n    this.bHorizontal = bHorizontal == undefined ? true : bHorizontal;\r\n\r\n    this.currentPosition = 0;\r\n    this.minPosition = 0;\r\n    this.controlClassDisabled = 'disabled';\r\n\r\n    this.hTimeout = null;\r\n    this.bForward = true;\r\n    this.iPeriod = 10; // ms\r\n    this.toPosition = 0;\r\n\r\n    this.bWheelAction = false;\r\n\r\n    this.init = function(){\r\n        this.oSlider = this.oParent.getElementsByTagName('div')[0];\r\n        this.oBackward.onclick = function(_this){return function(){_this.setMoveParameters(true);_this.move()}}(this);\r\n        this.oForward.onclick = function(_this){return function(){_this.setMoveParameters(false);_this.move()}}(this);\r\n        AMI.Browser.Event.addHandler(this.oSlider, 'mousewheel', function(_this){return function(event){\r\n            if( !_this.bWheelAction ){\r\n                _this.bWheelAction = true;\r\n                var delta = 0;\r\n                if (event.wheelDelta) { /* IE/Opera. */\r\n                    delta = event.wheelDelta/120;\r\n                } else if (event.detail) { /* Mozilla. */\r\n                    delta = -event.detail/3;\r\n                }\r\n\r\n                // todo: mousewheel only 1 step\r\n                _this.setMoveParameters(delta > 0);\r\n                _this.move();\r\n            }\r\n            if (event.preventDefault)\r\n                event.preventDefault();\r\n\r\n            event.returnValue = false;\r\n        }}(this))\r\n        this.reInit();\r\n    }\r\n\r\n    this.reInit = function(step){\r\n        this.oBackward.className = this.oBackward.className + ' ' + this.controlClassDisabled;\r\n        this.minPosition = Math.min(0, (this.bHorizontal ? this.oParent.offsetWidth - this.oSlider.offsetWidth : this.oParent.offsetHeight - this.oSlider.offsetHeight));\r\n        if(typeof(step) != 'undefined'){\r\n            this.iStep =  step;\r\n        }\r\n    }\r\n\r\n    this.setMoveParameters = function(bForward){\r\n        if(this.minPosition == 0){\r\n            this.minPosition = Math.min(0, (this.bHorizontal ? this.oParent.offsetWidth - this.oSlider.offsetWidth : this.oParent.offsetHeight - this.oSlider.offsetHeight));\r\n        }\r\n        this.toPosition = Math.max(this.minPosition, Math.min(0, this.toPosition + this.iStep * (bForward ? 1 : -1)));\r\n        this.bForward = bForward;\r\n    }\r\n\r\n    this.move = function(iIterationNumber){\r\n        clearTimeout(this.hTimeout);\r\n        if(typeof(iIterationNumber) == 'undefined'){\r\n            iIterationNumber = 1;\r\n        }\r\n        var bContinue = true;\r\n        var iMultiplier = AMI.Browser.isIE ? 5 : 1;\r\n        var iDelta = 10 * iMultiplier;\r\n        var iDiff = Math.abs(this.toPosition - this.currentPosition);\r\n        if(iDiff < 15 || iIterationNumber <= 5 / iMultiplier){\r\n            iDelta = 1 * iMultiplier;\r\n        }else if(iDiff < 25 || iIterationNumber <= 10 / iMultiplier){\r\n            iDelta = 3 * iMultiplier;\r\n        }else if(iDiff < 50 || iIterationNumber <= 20 / iMultiplier){\r\n            iDelta = 5 * iMultiplier;\r\n        }\r\n        iDelta *= this.bForward ? 1 : -1;\r\n        var iPosition = this.currentPosition + iDelta;\r\n        if(iPosition >= 0){\r\n            bContinue = false;\r\n            iPosition = 0;\r\n            this.oBackward.className = this.oBackward.className + ' ' + this.controlClassDisabled;\r\n        }else if(iPosition <= this.minPosition){\r\n            bContinue = false;\r\n            iPosition = this.minPosition;\r\n            this.oForward.className = this.oForward.className + ' ' + this.controlClassDisabled;\r\n        }else if(this.bForward && iPosition >= this.toPosition){\r\n            bContinue = false;\r\n            iPosition = this.toPosition;\r\n        }else if(!this.bForward && iPosition <= this.toPosition){\r\n            bContinue = false;\r\n            iPosition = this.toPosition;\r\n        }else{\r\n            this.oBackward.className = this.oBackward.className.replace(this.controlClassDisabled, '');\r\n            this.oForward.className = this.oForward.className.replace(this.controlClassDisabled, '');\r\n        }\r\n\r\n        this.currentPosition = iPosition;\r\n        if(this.bHorizontal){\r\n            this.oSlider.style.left = this.currentPosition + 'px';\r\n        }else{\r\n            this.oSlider.style.top = this.currentPosition + 'px';\r\n        }\r\n\r\n        if(bContinue){\r\n            this.hTimeout = setTimeout(function(_this, _iIterationNumber){return function(){_this.move(_iIterationNumber)}}(this, ++iIterationNumber), this.iPeriod);\r\n        }else{\r\n            this.bWheelAction = false;\r\n        }\r\n    }\r\n\r\n    this.init();\r\n}\r\n\r\nAMI.UI.MediaBox = {\r\n    iImageAnimateTime: 100, //ms\r\n    iImageFadeInTime: 100, //ms\r\n\r\n    bOpenEnlarged: false,\r\n    bShowGroupName: true,\r\n    bShowGroupNameIfSingle: false,\r\n    bShowSlider: false,\r\n\r\n    bInitialized: false,\r\n    oMediaShadow: null, oMediaBox: null, oLoader: null, oClose: null,\r\n    oGroup: null, oHeader: null, oURL: null, oDescription: null,\r\n    oImageArea: null, oPrevious: null, oNext: null, oImageContainer: null, oImage: null, oImageZoom: null, oImageZoomA: null,\r\n    oSliderPrevious: null, oSliderNext: null, oSlider: null, oSliderCtrl: null, oImageCounter: null,\r\n    sImageType: 'image',\r\n    iImageWidthAddon: 20,\r\n    iImageHeightAddon: 20,\r\n    iImageHeightAddonOriginal: 20,\r\n\r\n    hAnimateTimeout: null,\r\n    iAnimateStepTime: null,\r\n    iAnimateStepX: 0,\r\n    iAnimateStepY: 0,\r\n    iAnimateCurrentWidth: 0,\r\n    iAnimateCurrentHeight: 0,\r\n    iAnimateWidthTo: 0,\r\n    iAnimateHeightTo: 0,\r\n    iFadeInStep: 0,\r\n    iFadeAnimationStep: 0,\r\n    isOpening: false,\r\n    isClosing: false,\r\n\r\n    _iDocLeft: 0,\r\n    _iDocTop: 0,\r\n    _iWndWidth: 0,\r\n    _iWndHeight: 0,\r\n    _iTimeAnimateStop: 0,\r\n\r\n    aGroupImages: [],\r\n    groupCurrentIndex: 0,\r\n\r\n    imageSizeCache: {},\r\n\r\n    oSkins: {\r\n        __default: {'skin': 'MediaBoxWhite', 'iWidthAddon': 20, 'iHeightAddon': 20}\r\n    },\r\n\r\n    addSkin: function(sSkin, aExtensions, iWidthAddon, iHeightAddon){\r\n        if(typeof(aExtensions) == 'object'){\r\n            for(var i = 0; i < aExtensions.length; i++){\r\n                this.oSkins[aExtensions[i]] = {'skin': sSkin, 'iWidthAddon': iWidthAddon || 0, 'iHeightAddon':iHeightAddon || 0};\r\n            }\r\n        }\r\n    },\r\n\r\n    setOpenEnlarged: function(bState){\r\n        this.bOpenEnlarged = bState;\r\n    },\r\n\r\n    setShowGroupName: function(bState){\r\n        this.bShowGroupName = bState;\r\n    },\r\n\r\n    setShowGroupNameIfSingle: function(bState){\r\n        this.bShowGroupNameIfSingle = bState;\r\n    },\r\n\r\n    open: function(imageUrl, imageWidth, imageHeight, groupName, header, url, urlCaption, description){\r\n        if(this.isOpening){\r\n            return;\r\n        }\r\n        this.isOpening = true;\r\n\r\n        AMI.Browser.Event.addHandler(document, 'keydown', AMI.UI.MediaBox.closeOnEscape);\r\n\r\n        imageWidth = imageWidth || 170;\r\n        imageHeight = imageHeight || 150;\r\n        groupName = groupName || '';\r\n        header = header || '';\r\n        url = url || '';\r\n        urlCaption = urlCaption || '';\r\n        description = description || '';\r\n\r\n        var self = this;\r\n\r\n        if(!this.bInitialized){\r\n            this.oMediaShadow = AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadow', '', document.body);\r\n            this.oMediaBox = AMI.Browser.DOM.create('DIV', 'MediaBox', 'MediaBox', '', document.body);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowL', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowR', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowT', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowB', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowLT', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowRT', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowLB', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowRB', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_speckLT', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_speckRB', '', this.oMediaBox);\r\n            this.oClose = AMI.Browser.DOM.create('DIV', '', 'MediaBox_close', '', this.oMediaBox);\r\n            this.oLoader = AMI.Browser.DOM.create('DIV', '', 'MediaBox_loader', '', this.oMediaBox);\r\n\r\n            this.oGroup = AMI.Browser.DOM.create('DIV', '', 'MediaBox_group', '', this.oMediaBox);\r\n            this.oHeader = AMI.Browser.DOM.create('DIV', '', 'MediaBox_header', '', this.oMediaBox);\r\n\r\n            this.oImageArea = AMI.Browser.DOM.create('DIV', 'MediaBox_imageArea', 'MediaBox_imageArea', '', this.oMediaBox);\r\n            this.oPrevious = AMI.Browser.DOM.create('DIV', 'MediaBox_previous', 'MediaBox_previous', '', this.oImageArea);\r\n            this.oNext = AMI.Browser.DOM.create('DIV', 'MediaBox_next', 'MediaBox_next', '', this.oImageArea);\r\n            this.oImageContainer = AMI.Browser.DOM.create('DIV', '', 'MediaBox_container', '', this.oImageArea);\r\n            this.oImageZoom = AMI.Browser.DOM.create('DIV', '', 'MediaBox_zoom', '', this.oMediaBox);\r\n            this.oImageZoomA = AMI.Browser.DOM.create('A', '', 'MediaBox_zoomA', '', this.oImageZoom);\r\n            this.oImageZoomA.href = '';\r\n\r\n            this.oDescription = AMI.Browser.DOM.create('DIV', '', 'MediaBox_description', '', this.oMediaBox);\r\n            this.oURL = AMI.Browser.DOM.create('DIV', '', 'MediaBox_url', '', this.oMediaBox);\r\n\r\n            this.oSliderPrevious = AMI.Browser.DOM.create('DIV', 'MediaBox_sliderPrevious', '', '', this.oMediaBox);\r\n            this.oSliderNext = AMI.Browser.DOM.create('DIV', 'MediaBox_sliderNext', '', '', this.oMediaBox);\r\n            this.oSlider = AMI.Browser.DOM.create('DIV', '', 'MediaBox_slider', '', this.oMediaBox);\r\n            this.oImageCounter = AMI.Browser.DOM.create('DIV', '', 'MediaBox_counter', '', this.oMediaBox);\r\n\r\n            if(AMI.Browser.isIE){\r\n                if (navigator.appVersion.indexOf('MSIE 7.0') >= 0){\r\n                    AMI.find('#MediaBox_previous').style.left = '-38px';\r\n                    header = '<span style=\"font-size:1px;\">&nbsp;</span>';\r\n                    setInterval(\r\n                        function() {\r\n                            var height = AMI.find('#MediaBox').offsetHeight;\r\n                            AMI.find('#MediaBox_previous').style.top = height ? parseInt(height/2-32) + 'px' : '50%';\r\n                            AMI.find('#MediaBox_next').style.top = height ? parseInt(height/2-32) + 'px' : '50%';\r\n                        }, \r\n                        100\r\n                    );\r\n                }\r\n            }\r\n\r\n            AMI.Browser.Event.addHandler(this.oClose, 'click', function(){self.close()});\r\n            AMI.Browser.Event.addHandler(this.oMediaShadow, 'click', function(){self.close()});\r\n            AMI.Browser.Event.addHandler(this.oPrevious, 'click', function(){self.previous()});\r\n            AMI.Browser.Event.addHandler(this.oNext, 'click', function(){self.next()});\r\n\r\n            this.bInitialized = true;\r\n        }\r\n        if(this.bInitialized){\r\n            this.oMediaShadow.style.display = 'block';\r\n            if(AMI.Browser.isIE || AMI.Browser.isIOS){\r\n                this.oMediaShadow.style.width = AMI.Browser.getDocumentWidth() + 'px';\r\n                this.oMediaShadow.style.height = AMI.Browser.getDocumentHeight() + 'px';\r\n                this.oMediaBox.style.position = 'absolute';\r\n            }\r\n            this.startShadowAnimation(0);\r\n            this.fadeInShadow();\r\n\r\n            itemExtension = '';\r\n            if(aMatches = imageUrl.match(/\\.([a-zA-Z]{3,4})$/)){\r\n                var itemExtension = aMatches[1].toLowerCase();\r\n            }else if(aMatches = imageUrl.match(/\\?sname=[^&]*\\.([a-zA-Z]{3,4})&/)){\r\n                var itemExtension = aMatches[1].toLowerCase();\r\n            }\r\n            var extension = typeof(this.oSkins[itemExtension]) != 'undefined' ? itemExtension : '__default';\r\n\r\n            this.oMediaBox.className = 'MediaBox ' + this.oSkins[extension]['skin'];\r\n            this.iImageWidthAddon = parseInt(this.oSkins[extension]['iWidthAddon']);\r\n            this.iImageHeightAddon = this.iImageHeightAddonOriginal = parseInt(this.oSkins[extension]['iHeightAddon']);\r\n\r\n            if(AMI.Browser.isIE || AMI.Browser.isIOS){\r\n                this._iDocLeft = AMI.Browser.getDocumentLeft();\r\n                this._iDocTop = AMI.Browser.getDocumentTop();\r\n            }\r\n            this._iWndWidth = AMI.Browser.getWindowWidth();\r\n            this._iWndHeight = AMI.Browser.getWindowHeight();\r\n\r\n            this.getGroupData(groupName, imageUrl);\r\n            this.initSlider();\r\n            this.updatePrevNext(false);\r\n            this.loadImage(imageUrl, imageWidth, imageHeight, groupName, header, url, urlCaption, description);\r\n        }\r\n    },\r\n\r\n    loadImage: function(imageUrl, imageWidth, imageHeight, groupName, header, url, urlCaption, description){\r\n        var self = this;\r\n\r\n        var bSWF = imageUrl.match(/\\.swf$/i);\r\n\r\n        this.setGroup(groupName);\r\n        this.setHeader(header);\r\n        this.setDescription(description);\r\n        this.setURL(url, urlCaption);\r\n        this.setZoom(false, [], false);\r\n        this.setCounter(this.groupCurrentIndex + 1);\r\n\r\n        if(imageWidth > 0 && imageHeight > 0){\r\n            var ratio = this.getRatio(imageWidth, imageHeight, bSWF);\r\n            imageWidth = Math.floor(imageWidth * ratio);\r\n            imageHeight = Math.floor(imageHeight * ratio);\r\n\r\n            this.positionBox(imageWidth + this.iImageWidthAddon, imageHeight + this.iImageHeightAddon);\r\n        }\r\n\r\n        if(!bSWF){\r\n            this.sImageType = 'image';\r\n            this.oLoader.style.display = 'block';\r\n            this.oImage = new Image();\r\n            this.oImage.className = 'MediaBox_image';\r\n            this.oImage.onload = function(){self.displayImage();}\r\n            if(this.aGroupImages.length > 1){\r\n                this.oImage.onclick = function(evt){self.onImageClick(evt);}\r\n            }\r\n            this.oImage.src = imageUrl;\r\n        }else{\r\n            this.updatePrevNext();\r\n            this.sImageType = 'FLASH';\r\n            this.oLoader.style.display = 'none';\r\n            this.oImageContainer.style.width = imageWidth + 'px';\r\n            this.oImageContainer.style.height = imageHeight + 'px';\r\n\r\n            this.showGroup();\r\n            this.showHeader();\r\n            this.showZoom();\r\n            this.showDescription();\r\n            this.showURL();\r\n            this.showSlider();\r\n            this.showCounter();\r\n\r\n            this.oImageContainer.innerHTML = '<object type=\"application/x-shockwave-flash\" data=\"' + imageUrl + '\" width=\"' + imageWidth + '\" height=\"' + imageHeight + '\"><param name=\"movie\" value=\"' + imageUrl + '\"><param name=\"wmode\" value=\"opaque\"></object>';\r\n        }\r\n    },\r\n\r\n    openFromObject: function(oElement){\r\n        var image = oElement.getAttribute('data-ami-mbpopup') || '';\r\n        var imageWidth = oElement.getAttribute('data-ami-mbpopup-width') || 0;\r\n        var imageHeight = oElement.getAttribute('data-ami-mbpopup-height') || 0;\r\n        var groupName = oElement.getAttribute('data-ami-mbgrp') || '';\r\n        var header = oElement.getAttribute('data-ami-mbhdr') || '';\r\n        var url = oElement.getAttribute('data-ami-mburl') || '';\r\n        var urlCaption = oElement.getAttribute('data-ami-mburlcapt') || '';\r\n        var description = oElement.getAttribute('data-ami-mbdescr') || '';\r\n\r\n        if(AMI.Browser.isIE){\r\n            if (navigator.appVersion.indexOf('MSIE 7.0') >= 0 ){\r\n                if(!header){\r\n                    header = '<span style=\"font-size:1px;\">&nbsp;</span>';\r\n                }\r\n            }\r\n        }\r\n        \r\n        if(image != ''){\r\n            if(!image.match(/\\.swf$/i)){\r\n                imageWidth = 0;\r\n                imageHeight = 0;\r\n            }\r\n            if(this.isOpening){\r\n                this.loadImage(image, imageWidth, imageHeight, groupName, header, url, urlCaption, description);\r\n            }else{\r\n                this.open(image, imageWidth, imageHeight, groupName, header, url, urlCaption, description);\r\n            }\r\n        }\r\n    },\r\n\r\n    openByUrl: function(url){\r\n        url = AMI.UI.MediaBox.PageImages.getImageLink(url);\r\n        var aImages = AMI.find('img');\r\n        for(var i = 0; i < aImages.length; i++){\r\n            var popupImage = aImages[i].getAttribute('data-ami-mbpopup');\r\n            if(popupImage != null && popupImage == url){\r\n                this.openFromObject(aImages[i]);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    openByIndex: function(index){\r\n        if(index >= 0 && index < this.aGroupImages.length){\r\n            this.groupCurrentIndex = index;\r\n            this.openFromObject(this.aGroupImages[this.groupCurrentIndex]);\r\n        }\r\n    },\r\n\r\n    closeOnEscape: function(e){\r\n        if (!e) e = window.event; // fix IE\r\n        if (e.keyCode) // IE\r\n        {\r\n            if (e.keyCode == \"27\") AMI.UI.MediaBox.close();\r\n        }\r\n        else if (e.charCode) // Netscape/Firefox/Opera\r\n        {\r\n            if (e.charCode == \"27\") AMI.UI.MediaBox.close();\r\n        }\r\n    },\r\n\r\n    close: function(){\r\n        if(!this.isClosing){\r\n            this.isClosing = true;\r\n            clearTimeout(this.hAnimateTimeout);\r\n\r\n            if(this.oImage){\r\n                this.oImage.onload = null;\r\n                this.oImage = null;\r\n            }\r\n            this.oImageContainer.innerHTML = '';\r\n            this.oMediaBox.style.display = 'none';\r\n\r\n            this.startShadowAnimation(3)\r\n            this.fadeOutShadow();\r\n        }\r\n    },\r\n\r\n    previous: function(){\r\n        this.openByIndex(this.groupCurrentIndex - 1);\r\n    },\r\n\r\n    next: function(){\r\n        this.openByIndex(this.groupCurrentIndex + 1);\r\n    },\r\n\r\n    onImageClick: function(evt){\r\n        var aPosition = AMI.Browser.getPointerPosition(evt);\r\n        var aImagePosition = AMI.Browser.getObjectPosition(this.oImage);\r\n        var clickX = aPosition[0] - aImagePosition[0] - AMI.Browser.getDocumentLeft();\r\n        var median = this.oImage.offsetWidth / 2;\r\n        if(clickX <= median){\r\n            this.previous();\r\n        }else{\r\n            this.next();\r\n        }\r\n    },\r\n\r\n    getGroupData: function(groupName, currentImageUrl){\r\n        this.aGroupImages = [];\r\n        this.groupCurrentIndex = 0;\r\n\r\n        if(groupName != ''){\r\n            var oRequest = {'groupName': groupName};\r\n            var oResponse = {'aGroupImages': []};\r\n            AMI.Message.send('ON_AMI_MEDIABOX_GET_GROUP', oRequest, oResponse);\r\n            this.aGroupImages = oResponse.aGroupImages;\r\n            for(var i = 0; i < this.aGroupImages.length; i++){\r\n                if(this.aGroupImages[i].getAttribute('data-ami-mbpopup') == currentImageUrl){\r\n                    this.groupCurrentIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    initSlider: function(){\r\n        this.oSlider.innerHTML = '';\r\n        this.oSlider.style.visibility = 'hidden';\r\n        this.oSliderPrevious.style.visibility = 'hidden';\r\n        this.oSliderNext.style.visibility = 'hidden';\r\n\r\n        if(!this.bShowSlider || this.aGroupImages.length <= 1){\r\n            this.oSlider.style.display = 'none';\r\n            this.oSliderPrevious.style.display = 'none';\r\n            this.oSliderNext.style.display = 'none';\r\n            return;\r\n        }else{\r\n            this.oSlider.style.display = 'block';\r\n            this.oSliderPrevious.style.display = 'block';\r\n            this.oSliderNext.style.display = 'block';\r\n        }\r\n\r\n        var self = this;\r\n\r\n        var oSliderContent = AMI.Browser.DOM.create('DIV', '', '', 'position: absolute', this.oSlider);\r\n        for(var i = 0; i < this.aGroupImages.length; i++){\r\n            if(i > 0){\r\n                AMI.Browser.DOM.create('DIV', '', 'MediaBox_sliderDelimeter', '', oSliderContent).innerHTML = '&nbsp;';\r\n            }\r\n            var oSliderImage = AMI.Browser.DOM.create('IMG', '', 'MediaBox_sliderImage', '', oSliderContent);\r\n            oSliderImage.src = this.aGroupImages[i].getAttribute('data-ami-mbpopup');\r\n            AMI.Browser.Event.addHandler(oSliderImage, 'click', function(_this, _i){return function(){_this.openByIndex(_i)}}(this, i));\r\n        }\r\n        this.oSliderCtrl = new AMI.UI.Slider(this.oSlider, this.oSliderPrevious, this.oSliderNext, 50, true);\r\n    },\r\n\r\n    updatePrevNext: function(bForceValue){\r\n        if(typeof(bForceValue) != 'undefined'){\r\n            this.oPrevious.style.display = bForceValue ? 'block' : 'none';\r\n            this.oNext.style.display = bForceValue ? 'block' : 'none';\r\n        }else{\r\n            this.oPrevious.style.display = this.aGroupImages.length > 1 && this.groupCurrentIndex > 0 ? 'block' : 'none';\r\n            this.oNext.style.display = this.aGroupImages.length > 1 && this.groupCurrentIndex < this.aGroupImages.length - 1 ? 'block' : 'none';\r\n        }\r\n    },\r\n\r\n    setGroup: function(groupName){\r\n        if(!this.bShowGroupName){\r\n            groupName = '';\r\n        }else if(groupName != '' && !this.bShowGroupNameIfSingle){\r\n            var oResponse = {result: 0};\r\n            AMI.Message.send('ON_AMI_MEDIABOX_GROUPS_NUMBER', oResponse);\r\n            if(oResponse.result <= 1){\r\n                groupName = '';\r\n            }\r\n        }\r\n\r\n        this.oGroup.style.display = groupName == '' ? 'none' : 'block';\r\n        this.oGroup.style.visibility = 'hidden';\r\n        this.oGroup.innerHTML = groupName;\r\n    },\r\n\r\n    showGroup: function(){\r\n        if(this.oGroup.style.display == 'block'){\r\n            this.oGroup.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    setHeader: function(header){\r\n        this.oHeader.style.display = header == '' ? 'none' : 'block';\r\n        this.oHeader.style.visibility = 'hidden';\r\n        this.oHeader.innerHTML = header;\r\n    },\r\n\r\n    showHeader: function(){\r\n        if(this.oHeader.style.display == 'block'){\r\n            this.oHeader.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    setURL: function(url, urlCaption){\r\n        this.oURL.style.display = url == '' ? 'none' : 'block';\r\n        this.oURL.style.visibility = 'hidden';\r\n        this.oURL.innerHTML = '<a href=\"' + url + '\" target=\"_blank\">' + (urlCaption != '' ? urlCaption : url) + '</a>';\r\n    },\r\n\r\n    showURL: function(){\r\n        if(this.oURL.style.display == 'block'){\r\n            this.oURL.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    setDescription: function(description){\r\n        this.oDescription.style.display = description == '' ? 'none' : 'block';\r\n        this.oDescription.style.visibility = 'hidden';\r\n        this.oDescription.innerHTML = description;\r\n    },\r\n\r\n    showDescription: function(){\r\n        if(this.oDescription.style.display == 'block'){\r\n            this.oDescription.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    setZoom: function(bZoommed, aSizes, bShow){\r\n        this.oImageZoom.style.display = bShow ? 'block' : 'none';\r\n        this.oImageZoom.style.visibility = 'hidden';\r\n        this.setZoomText(bZoommed, aSizes);\r\n    },\r\n\r\n    setZoomText: function(bZoommed, aSizes){\r\n        var zoomText = bZoommed ? AMI.Template.Locale.get('mediaBoxZommed') : AMI.Template.Locale.get('mediaBoxNotZommed');\r\n        zoomText = zoomText.replace('__width__', aSizes[0]).replace('__height__', aSizes[1]);\r\n        this.oImageZoom.innerHTML = zoomText;\r\n    },\r\n\r\n    showZoom: function(){\r\n        if(this.oImageZoom.style.display == 'block'){\r\n            this.oImageZoom.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    showSlider: function(){\r\n        if(this.oSlider.style.display == 'block'){\r\n            this.oSlider.style.visibility = 'visible';\r\n            this.oSliderPrevious.style.visibility = 'visible';\r\n            this.oSliderNext.style.visibility = 'visible';\r\n            this.oSliderCtrl.reInit(this.oSlider.offsetWidth);\r\n        }\r\n    },\r\n\r\n    setCounter: function(currentImage){\r\n        this.oImageCounter.style.display = this.aGroupImages.length > 1 ? 'block' : 'none';\r\n        this.oImageCounter.style.visibility = 'hidden';\r\n        this.oImageCounter.innerHTML = AMI.Template.Locale.get('mediaBoxCounter').replace('__current__', currentImage).replace('__total__', this.aGroupImages.length);\r\n    },\r\n\r\n    showCounter: function(){\r\n        if(this.oImageCounter.style.display == 'block'){\r\n            this.oImageCounter.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    getRatioIndex: function(iImageWidth, iImageHeight){\r\n        var ratio = 1;\r\n        if(iImageWidth > this._iWndWidth - this.iImageWidthAddon - 30 || iImageHeight > this._iWndHeight - this.iImageHeightAddon - 30){\r\n            var ratioX = (this._iWndWidth - this.iImageWidthAddon - 30) / iImageWidth;\r\n            var ratioY = (this._iWndHeight - this.iImageHeightAddon - 30) / iImageHeight;\r\n            ratio = Math.min(ratioX, ratioY);\r\n        }\r\n        return ratio;\r\n    },\r\n\r\n    getRatio: function(imageWidth, imageHeight, bCorrectRation){\r\n        if(typeof(bCorrectRation) == 'undefined'){\r\n            bCorrectRation = true;\r\n        }\r\n\r\n        var ratio = this.getRatioIndex(imageWidth, imageHeight);\r\n        if(!bCorrectRation){\r\n            return ratio;\r\n        }\r\n\r\n        for(var i = 0; i < 10 /*max iterations*/; i++){\r\n            var addon = 0;\r\n            this.iImageHeightAddon = this.iImageHeightAddonOriginal;\r\n            if(this.oGroup.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oGroup, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oHeader.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oHeader, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oImageZoom.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oImageZoom, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oDescription.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oDescription, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oURL.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oURL, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oSlider.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oSlider, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oImageCounter.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oImageCounter, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(addon == 0){\r\n                break;\r\n            }else{\r\n                this.iImageHeightAddon += addon;\r\n                newRatio = this.getRatioIndex(imageWidth, imageHeight);\r\n                if(ratio == newRatio){\r\n                    break;\r\n                }else{\r\n                    ratio = newRatio;\r\n                }\r\n            }\r\n        }\r\n\r\n        return ratio;\r\n    },\r\n\r\n    getBlockHeight: function(oBlock, width){\r\n        var oClone = oBlock.cloneNode(true);\r\n        oClone.style.position = 'static';\r\n        oClone.style.display = 'block';\r\n        oClone.style.visibility = 'visible';\r\n\r\n        var oBlock = AMI.Browser.DOM.create('DIV', '', '', 'position: absolute; left: -10000px; top: -10000px; width: ' + (width + this.iImageWidthAddon) + 'px', document.body);\r\n        oClone = oBlock.appendChild(oClone);\r\n        var height = oBlock.offsetHeight;\r\n        oBlock.parentNode.removeChild(oBlock);\r\n\r\n        return height;\r\n    },\r\n\r\n    positionBox: function(width, height){\r\n        var deltaX = this._iDocLeft;\r\n        var deltaY = this._iDocTop;\r\n        this.oMediaBox.style.width = width + 'px';\r\n        this.oMediaBox.style.height = height + 'px';\r\n        this.oMediaBox.style.left = Math.max(this._iDocLeft + 10, parseInt((this._iWndWidth - ( (width > 320) ? width : 320) ) / 2 + deltaX)) + 'px';\r\n        this.oMediaBox.style.top = Math.max(this._iDocTop + 10, parseInt((this._iWndHeight - height) / 2 + deltaY)) + 'px';\r\n        this.oMediaBox.style.display = 'block';\r\n    },\r\n\r\n    displayImage: function(){\r\n        var iNumberOfAnimateIterations = 13;\r\n        if(AMI.Browser.isIE || AMI.Browser.isIOS){\r\n            var iNumberOfAnimateIterations = 3;\r\n        }\r\n\r\n        var ratio = this.getRatio(this.oImage.width, this.oImage.height);\r\n        if(ratio < 1){\r\n            this.setZoom(!this.bOpenEnlarged, [this.oImage.width, this.oImage.height], true);\r\n            ratio = this.getRatio(this.oImage.width, this.oImage.height);\r\n        }\r\n\r\n        if(this.bOpenEnlarged && ratio < 1){\r\n            this.iAnimateWidthTo = Math.min(this._iWndWidth - this.iImageWidthAddon, this.oImage.width + this.iImageWidthAddon + 16);\r\n            this.iAnimateHeightTo = Math.min(this._iWndHeight - this.iImageHeightAddon, this.oImage.height + this.iImageHeightAddon + 16);\r\n        }else{\r\n            this.iAnimateWidthTo = Math.floor(this.oImage.width * ratio) + this.iImageWidthAddon;\r\n            this.iAnimateHeightTo = Math.floor(this.oImage.height * ratio) + this.iImageHeightAddon;\r\n        }\r\n\r\n        if(ratio < 1){\r\n            var iCalculatedWidth = Math.floor(this.oImage.width * ratio);\r\n            var iCalculatedHeight = Math.floor(this.oImage.height * ratio);\r\n            this.oImageZoom.onclick = function(_this, _iImageWidth, _iImageHeight, _iCalculatedWidth, _iCalculatedHeight){return function(){_this.resizeImage(_iImageWidth, _iImageHeight, _iCalculatedWidth, _iCalculatedHeight);return false;}}(this, this.oImage.width, this.oImage.height, iCalculatedWidth, iCalculatedHeight);\r\n            if(this.bOpenEnlarged){\r\n                this.oImage.setAttribute('bOriginalSize', '1');\r\n                /*\r\n                this.oImage.style.width = this.oImage.style.width + 'px';\r\n                this.oImage.style.height = this.oImage.style.height + 'px';\r\n                */\r\n                this.oImageContainer.style.width = this.iAnimateWidthTo - this.iImageWidthAddon + 'px';\r\n                this.oImageContainer.style.height = this.iAnimateHeightTo - this.iImageHeightAddon + 'px';\r\n                this.oImageContainer.style.overflow = 'auto';\r\n            }else{\r\n                this.oImage.setAttribute('bOriginalSize', '0');\r\n                this.oImageContainer.style.overflow = 'hidden';\r\n                this.oImageContainer.style.width = this.oImage.style.width = iCalculatedWidth + 'px';\r\n                this.oImageContainer.style.height = this.oImage.style.height = iCalculatedHeight + 'px';\r\n            }\r\n        }else{\r\n            this.oImageContainer.style.width = this.oImage.width + 'px';\r\n            this.oImageContainer.style.height = this.oImage.height + 'px';\r\n        }\r\n\r\n        this.iAnimateStepX = Math.ceil((this.iAnimateWidthTo - parseInt(this.oMediaBox.style.width)) / iNumberOfAnimateIterations),\r\n        this.iAnimateStepY = Math.ceil((this.iAnimateHeightTo - parseInt(this.oMediaBox.style.height)) / iNumberOfAnimateIterations),\r\n        this.iAnimateStepTime = this.iImageAnimateTime / iNumberOfAnimateIterations;\r\n\r\n        this.oLoader.style.display = 'none';\r\n        this.oImageContainer.style.display = 'none';\r\n\r\n        if(this.iAnimateStepX == 0 || this.iAnimateStepY == 0 || this.iAnimateStepTime == 0){\r\n            this.positionBox(this.iAnimateWidthTo, this.iAnimateHeightTo);\r\n\r\n            this.showGroup();\r\n            this.showHeader();\r\n            this.showZoom();\r\n            this.showDescription();\r\n            this.showURL();\r\n            this.showSlider();\r\n            this.showCounter();\r\n            this.updatePrevNext();\r\n\r\n            this.oImageContainer.innerHTML = '';\r\n            this.oImageContainer.style.display = 'block';\r\n            this.oImageContainer.appendChild(this.oImage);\r\n            AMI.Browser.setOpacity(this.oImage, 0);\r\n            this.iFadeInStep = 0;\r\n            this.fadeIn();\r\n        }else{\r\n            this._iTimeAnimateStop = (new Date()).getTime() + this.iImageAnimateTime;\r\n            this.animatePosition();\r\n        }\r\n    },\r\n\r\n    animatePosition: function(){\r\n        var bFinalStep = (new Date()).getTime() > this._iTimeAnimateStop;\r\n        if(!bFinalStep){\r\n            var width = parseInt(this.oMediaBox.style.width) + this.iAnimateStepX;\r\n            var height = parseInt(this.oMediaBox.style.height) + this.iAnimateStepY;\r\n            if(width >= this.iAnimateWidthTo || height >= this.iAnimateHeightTo){\r\n                width = this.iAnimateWidthTo;\r\n                height = this.iAnimateHeightTo;\r\n                bFinalStep = true;\r\n            }else{\r\n                bFinalStep = false;\r\n                this.positionBox(width, height);\r\n            }\r\n        }\r\n        if(bFinalStep){\r\n            this.positionBox(this.iAnimateWidthTo, this.iAnimateHeightTo);\r\n\r\n            this.showGroup();\r\n            this.showHeader();\r\n            this.showZoom();\r\n            this.showDescription();\r\n            this.showURL();\r\n            this.showSlider();\r\n            this.showCounter();\r\n            this.updatePrevNext();\r\n\r\n            this.oImageContainer.innerHTML = '';\r\n            this.oImageContainer.style.display = 'block';\r\n            this.oImageContainer.appendChild(this.oImage);\r\n            AMI.Browser.setOpacity(this.oImage, 0);\r\n            this.iFadeInStep = 0;\r\n            this.fadeIn();\r\n        }else{\r\n            var self = this;\r\n            this.hAnimateTimeout = setTimeout(function(){self.animatePosition()}, this.iAnimateStepTime);\r\n        }\r\n    },\r\n\r\n    fadeIn: function(){\r\n        if(AMI.Browser.isIE || AMI.Browser.isIOS){\r\n            this.iFadeInStep += 3;\r\n        }else{\r\n            this.iFadeInStep ++;\r\n        }\r\n        AMI.Browser.setOpacity(this.oImage, this.iFadeInStep / 10);\r\n        if(this.iFadeInStep < 10){\r\n            var self = this;\r\n            this.hAnimateTimeout = setTimeout(function(){self.fadeIn()}, 12);\r\n        }else{\r\n            AMI.Browser.setOpacity(this.oImage, 1);\r\n            this.isOpening = true;\r\n        }\r\n    },\r\n\r\n    startShadowAnimation: function(iStartOpacity){\r\n        this.iFadeAnimationStep = 0;\r\n        AMI.Browser.setOpacity(this.oMediaShadow, iStartOpacity);\r\n    },\r\n\r\n\r\n    fadeInShadow: function(){\r\n        AMI.Browser.setOpacity(this.oMediaShadow, ++this.iFadeAnimationStep / 10);\r\n        if(this.iFadeAnimationStep < (AMI.Browser.isIE || AMI.Browser.isIOS ? 2 : 3)){\r\n            var self = this;\r\n            this.hAnimateTimeout = setTimeout(function(){self.fadeInShadow()}, 24);\r\n        }\r\n    },\r\n\r\n    fadeOutShadow: function(){\r\n        AMI.Browser.setOpacity(this.oMediaShadow, (3 - ++this.iFadeAnimationStep) / 10);\r\n        if(this.iFadeAnimationStep < (AMI.Browser.isIE || AMI.Browser.isIOS ? 2 : 3)){\r\n            var self = this;\r\n            this.hAnimateTimeout = setTimeout(function(){self.fadeOutShadow()}, 24);\r\n        }else{\r\n            this.oMediaShadow.style.display = 'none';\r\n            this.isOpening = false;\r\n            this.isClosing = false;\r\n        }\r\n    },\r\n\r\n    resizeImage :function(iImageWidth, iImageHeight, iCalculatedWidth, iCalculatedHeight){\r\n        var bOriginalSize = this.oImage.getAttribute('bOriginalSize') == 1 ? 0 : 1;\r\n        this.oImage.setAttribute('bOriginalSize', bOriginalSize);\r\n        if(bOriginalSize == 0){\r\n            this.oImage.style.width = iCalculatedWidth + 'px';\r\n            this.oImage.style.height = iCalculatedHeight + 'px';\r\n\r\n            var iWndWidth = Math.min(this._iWndWidth - this.iImageWidthAddon, iCalculatedWidth + this.iImageWidthAddon);\r\n            var iWndHeight = Math.min(this._iWndHeight - this.iImageHeightAddonOriginal, iCalculatedHeight + this.iImageHeightAddon);\r\n            this.positionBox(iWndWidth, iWndHeight);\r\n\r\n            this.oImageContainer.style.width = iWndWidth - this.iImageWidthAddon + 'px';\r\n            this.oImageContainer.style.height = iWndHeight - this.iImageHeightAddon + 'px';\r\n            this.oImageContainer.style.overflow = 'hidden';\r\n\r\n            this.setZoomText(true, [iImageWidth, iImageHeight]);\r\n        }else{\r\n            this.oImage.style.width = iImageWidth + 'px';\r\n            this.oImage.style.height = iImageHeight + 'px';\r\n\r\n            var iWndWidth = Math.min(this._iWndWidth - this.iImageWidthAddon, iImageWidth + this.iImageWidthAddon + 16);\r\n            var iWndHeight = Math.min(this._iWndHeight - this.iImageHeightAddonOriginal, iImageHeight + this.iImageHeightAddon + 16);\r\n            this.positionBox(iWndWidth, iWndHeight);\r\n\r\n            this.oImageContainer.style.width = iWndWidth - this.iImageWidthAddon + 'px';\r\n            this.oImageContainer.style.height = iWndHeight - this.iImageHeightAddon + 'px';\r\n            this.oImageContainer.style.overflow = 'auto';\r\n\r\n            this.setZoomText(false, [iImageWidth, iImageHeight]);\r\n        }\r\n    }\r\n}\r\n\r\nAMI.UI.MediaBox.addSkin('MediaBoxBlack', ['swf'], 0, 0);\r\n\r\nAMI.UI.OverImage = {\n    oBlock: null,\n    hTimeout: null,\n\n    onOver: function(evt){\n        this.stopWaiting();\n        var oTarget = AMI.Browser.Event.getTarget(evt);\n        if(oTarget != null && oTarget.tagName && oTarget.tagName == 'IMG'){\n            imageLink = oTarget.getAttribute('data-ami-mbover');\n            if(imageLink != null && imageLink != ''){\n                if(this.oBlock == null){\n                    this.oBlock = AMI.Browser.DOM.create('DIV', '', 'amiOverImage', 'position: absolute', document.body);\n                }\n                this.oBlock.style.display = 'none';\n\n                this.hTimeout = setTimeout(\n                    function(_this, _oTarget, _imageLink){return function(){\n                        var oImage = new Image();\n                        oImage.onload = function(__this, __oTarget){return function(){__this.showBlock(__oTarget)}}(_this, _oTarget);\n                        oImage.src = _imageLink;\n                        _this.oBlock.innerHTML = '';\n                        _this.oBlock.appendChild(oImage);\n                    }}(this, oTarget, imageLink),\n                    700\n                );\n            }\n        }\n    },\n\n    onOut: function(evt){\n        this.stopWaiting();\n        var oTarget = AMI.Browser.Event.getTarget(evt);\n        if(oTarget != null && oTarget.tagName && oTarget.tagName == 'IMG'){\n            imageLink = oTarget.getAttribute('data-ami-mbover');\n            if(this.oBlock != null && imageLink != null && imageLink != ''){\n                this.oBlock.style.display = 'none';\n            }\n        }\n    },\n\n    stopWaiting: function(evt){\n        clearTimeout(this.hTimeout);\n    },\n\n    showBlock: function(oParent){\n        var aPosition = AMI.Browser.getObjectPosition(oParent);\n        this.oBlock.style.display = 'block';\n        this.oBlock.style.left = (aPosition[0] + oParent.offsetWidth) + 'px';\n        this.oBlock.style.top = aPosition[1] + 'px';\n    }\n}\n\r\nAMI.UI.Suggestion = function (fieldId, aRequestData, itemsSplitter){\r\n    this.aRequestData = aRequestData || {};\r\n    \r\n    this.minimumFieldTextLength = 3; // Minimum length of text in parent field when suggestion should be shown\r\n    this.fillRowsTimeout = 500; // Time between last key up and new rows load\r\n    this.maxNameLength = 65; // Maximum length befor ... in dropdown list\r\n    \r\n    this.fieldId = fieldId;\r\n    this.fieldObject = null;\r\n    this.suggestionId = fieldId + '_suggestion';\r\n    this.suggestionObject = null;\r\n    this.suggestionObjectShown = false;\r\n    this.suggestionIframeObject = null;\r\n    this.allowProcessing = true;\r\n    this.showCauseOfArrows = false;\r\n\r\n    this.rowObjects = new Array();\r\n    this.currentRow = -1;\r\n    this.fillTimeout = null;\r\n    \r\n    this.itemsSplitter = typeof(itemsSplitter) != 'undefined' ? itemsSplitter : '';\r\n    this.lastFieldValueLength = 0;\r\n    this.doStoreFieldValue = true;\r\n    this.isFieldValueModified = false;\r\n    this.storedFieldValue = '';\r\n    this.fieldLeadingSpaces = '';\r\n    this.itemInitialCaretPosition = 0;\r\n    this.itemEndCaretPosition = 0;\r\n    \r\n    this.scriptName = 'ami_resp';\r\n    this.scriptExt = 'php';\r\n    \r\n    // Initialize: Attach class events to text field and other actions\r\n    this.init = function(){\r\n        this.fieldObject = document.getElementById(this.fieldId);\r\n        this.storedFieldValue = this.fieldObject.value;\r\n        this.lastFieldValueLength = this.storedFieldValue.length;\r\n        \r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'mousedown', function(currentObject){return function(currentEvent){currentObject.onFieldMouseDown(currentEvent)}}(this));\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'keydown', function(currentObject){return function(currentEvent){currentObject.onFieldKeyDown(currentEvent)}}(this));\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'keyup', function(currentObject){return function(currentEvent){currentObject.onFieldKeyUp(currentEvent)}}(this));\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'blur', function(currentObject){return function(currentEvent){currentObject.onFieldBlur(currentEvent)}}(this));\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'focus', function(currentObject){return function(currentEvent){currentObject.showCauseOfArrows = true; currentObject.startShowObject(true)}}(this));\r\n    }\r\n    \r\n    this.setDebug = function(aReceived){\r\n        if(DEBUG_BY_IP && typeof(aReceived.debug) != 'undefined'){\r\n            var oDebugBlock = document.getElementById('amid');\r\n            if(oDebugBlock != null){\r\n                oDebugBlock.innerHTML = oDebugBlock.innerHTML + aReceived.debug;\r\n            }\r\n        }\r\n    }\r\n    \r\n    // \r\n    // Event handlers\r\n    //\r\n    \r\n    this.onFieldMouseDown = function(currentEvent){\r\n        if((this.showCauseOfArrows || this.allowProcessing) && this.suggestionObjectShown && this.itemsSplitter != ''){\r\n            this.hideSuggestionObject();\r\n        }\r\n        \r\n        return true;\r\n    }\r\n    \r\n    // Key down is used for arrow and escape processing\r\n    this.onFieldKeyDown = function(currentEvent){\r\n        currentEvent = AMI.Browser.Event.validate(currentEvent);\r\n        if(currentEvent.keyCode == 38 || currentEvent.keyCode == 40){\r\n            AMI.Browser.Event.stopProcessing(currentEvent);\r\n        }\r\n\r\n        if(!this.allowProcessing && !this.showCauseOfArrows){\r\n            return true;\r\n        }\r\n\r\n        if(this.suggestionObjectShown){\r\n            if(currentEvent.keyCode == 38 || currentEvent.keyCode == 40){\r\n                if(this.doStoreFieldValue){\r\n                    this.storedFieldValue = this.fieldObject.value;\r\n                    this.doStoreFieldValue = false;\r\n                }\r\n                var rowIndex = this.currentRow + (currentEvent.keyCode == 40 ? 1 : -1);\r\n                if(rowIndex > this.rowObjects.length - 1){\r\n                    rowIndex = -1;\r\n                }else if(rowIndex < -1){\r\n                    rowIndex = this.rowObjects.length - 1;\r\n                }\r\n                this.selectRow(rowIndex, true);\r\n            }else if(currentEvent.keyCode == 27){\r\n                this.resetFieldText();\r\n                this.closeSuggestionObject();\r\n                AMI.Browser.setCaretPosition(this.fieldObject, this.itemInitialCaretPosition);\r\n                AMI.Browser.Event.stopProcessing(currentEvent);\r\n            }else if(currentEvent.keyCode == 13){\r\n                var bSubmit = true;\r\n                if(this.currentRow >= 0 && typeof(this.rowObjects[this.currentRow]) != 'undefined'){\r\n                    if(this.rowObjects[this.currentRow].getAttribute('rowType') == 'result'){\r\n                        var resultURL = this.rowObjects[this.currentRow].getAttribute('rowValue');\r\n                        if(resultURL != ''){\r\n                            document.location = resultURL;\r\n                            bSubmit = false;\r\n                        }\r\n                    }\r\n                }\r\n                this.doStoreFieldValue = true;\r\n                this.hideSuggestionObject();\r\n                AMI.Browser.setCaretPosition(this.fieldObject, this.itemEndCaretPosition);\r\n                AMI.Browser.Event.stopProcessing(currentEvent);\r\n                if(bSubmit){\r\n                    this.submitForm();\r\n                }\r\n            }else if(this.itemsSplitter != '' && (currentEvent.keyCode == 35 || currentEvent.keyCode == 36 || currentEvent.keyCode == 37 || currentEvent.keyCode == 39)){\r\n                this.hideSuggestionObject();\r\n            }\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    // Key up shows/hides suggestion object when user typing\r\n    this.onFieldKeyUp = function(currentEvent){\r\n\r\n        currentEvent = AMI.Browser.Event.validate(currentEvent);\r\n        \r\n        var doInitActionsCauseOfArrows = false;\r\n        if(!this.showCauseOfArrows){\r\n            this.showCauseOfArrows = (!this.suggestionObjectShown && (currentEvent.keyCode == 38 || currentEvent.keyCode == 40));\r\n            doInitActionsCauseOfArrows = this.showCauseOfArrows;\r\n        }\r\n\r\n        if(!this.allowProcessing && !this.showCauseOfArrows){\r\n            return true;\r\n        }\r\n        \r\n        if(currentEvent.keyCode == 27 || currentEvent.keyCode == 13){\r\n            return false;\r\n        }\r\n        \r\n        this.startShowObject(doInitActionsCauseOfArrows);\r\n        \r\n        return true;\r\n    }\r\n    \r\n    this.startShowObject = function(doInitActionsCauseOfArrows){\r\n        if(this.lastFieldValueLength != this.fieldObject.value.length){\r\n            this.doStoreFieldValue = true;\r\n            this.lastFieldValueLength = this.fieldObject.value.length;\r\n        }else if(!doInitActionsCauseOfArrows){\r\n            return false;\r\n        }\r\n        \r\n        var currentItem = this.getEditedItemText();\r\n        if(currentItem.length >= this.minimumFieldTextLength){\r\n            this.itemInitialCaretPosition = AMI.Browser.getCaretPosition(this.fieldObject);\r\n            \r\n            // Create content div\r\n            if(this.suggestionObject == null){\r\n                this.createSuggestionObject();\r\n            }\r\n            \r\n            // Fill rows\r\n            clearTimeout(this.fillTimeout);\r\n            if(doInitActionsCauseOfArrows){\r\n                this.fillRows();\r\n            }else{\r\n                this.fillTimeout = setTimeout(function(currentObject){return function(){currentObject.fillRows()}}(this), this.fillRowsTimeout);\r\n            }\r\n        }else{\r\n            this.hideSuggestionObject();\r\n        }\r\n    }\r\n    \r\n    this.doNotCloseOnBlur = false;\r\n\r\n    // Hide suggestion object upon blur\r\n    this.onFieldBlur = function(currentEvent){\r\n        if(this.doNotCloseOnBlur){\r\n            this.doNotCloseOnBlur = false;\r\n            return true;\r\n        }\r\n        \r\n        if(!this.allowProcessing && !this.showCauseOfArrows){\r\n            return true;\r\n        }\r\n        \r\n        this.hideSuggestionObject();\r\n        return true;\r\n    }\r\n    \r\n    this.onSuggestionObjectClick = function(currentEvent){\r\n        currentEvent = AMI.Browser.Event.validate(currentEvent);\r\n        var currentTarget = AMI.Browser.Event.getTarget(currentEvent);\r\n        if(currentTarget.tagName){\r\n            if(currentTarget.tagName == 'A' && currentTarget.className == 'suggestionClose'){\r\n                this.resetFieldText();\r\n                this.closeSuggestionObject();\r\n                AMI.Browser.setCaretPosition(this.fieldObject, this.itemInitialCaretPosition);\r\n                AMI.Browser.Event.stopProcessing(currentEvent);\r\n            }else if(currentTarget.tagName == 'A'){\r\n                this.fieldObject.focus();\r\n                this.doNotCloseOnBlur = true;\r\n            }else if(currentTarget.tagName == 'DIV'){\r\n                if(currentTarget.className.indexOf('suggestionRow') == 0){\r\n                    currentIndex = currentTarget.getAttribute('rowIndex');\r\n                    this.selectRow(currentIndex, true);\r\n                    this.hideSuggestionObject();\r\n                    this.submitForm();\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    //\r\n    // Create / show / hide object functions\r\n    //\r\n    \r\n    this.createSuggestionObject = function(){\r\n        contentDiv = document.createElement('div');\r\n        contentDiv.id = this.suggestionId;\r\n        contentDiv.className = 'suggestionDiv';\r\n        \r\n        var fieldPosition = AMI.Browser.getObjectPosition(this.fieldObject);\r\n        contentDiv.style.left = fieldPosition[0] + 'px';\r\n        contentDiv.style.top = fieldPosition[1] + this.fieldObject.offsetHeight + 'px';\r\n        contentDiv.style.height = '12px';\r\n\r\n        contentDiv.onmousedown = function(currentObject){return function(currentEvent){currentObject.onSuggestionObjectClick(currentEvent)}}(this);\r\n        \r\n        this.suggestionObject = document.body.appendChild(contentDiv);\r\n    }\r\n    \r\n    this.showSuggestionObject = function(bHasHistory, bHasResults){\r\n        this.suggestionObject.style.height = ((this.rowObjects.length - (!bHasHistory ? 1 : 0)) * 15 + (bHasResults ? 42 : 2)) + 'px';\r\n        \r\n        if(!this.suggestionObjectShown && this.suggestionObject != null){\r\n            this.selectRow(-1, false);\r\n            \r\n            var fieldPosition = AMI.Browser.getObjectPosition(this.fieldObject);\r\n            contentDiv.style.left = fieldPosition[0] + 'px';\r\n            this.suggestionObject.style.display = 'block';\r\n\r\n            var iScreenLeft = AMI.Browser.getDocumentLeft();\r\n            var iScreenRight = AMI.Browser.getWindowWidth() + iScreenLeft - 2;\r\n            var iRightPoint = fieldPosition[0] + this.suggestionObject.offsetWidth;\r\n            if(iRightPoint > iScreenRight){\r\n                contentDiv.style.left = fieldPosition[0] - (iRightPoint - iScreenRight) + 'px';\r\n            }\r\n\r\n            this.suggestionObjectShown = true;\r\n        }\r\n    }\r\n    \r\n    this.hideSuggestionObject = function(){\r\n        this.showCauseOfArrows = false;\r\n        clearTimeout(this.fillTimeout);\r\n        if(this.suggestionObjectShown && this.suggestionObject != null){\r\n            this.suggestionObject.style.display = 'none';\r\n            this.suggestionObjectShown = false;\r\n        }\r\n    }\r\n    \r\n    this.closeSuggestionObject = function(){\r\n        this.allowProcessing = false;\r\n        this.hideSuggestionObject();\r\n    }\r\n    \r\n    //\r\n    // Manage data in object\r\n    //\r\n    \r\n    this.fillRows = function(){\r\n        var url = document.location.protocol + '//' + document.location.host + '/' + this.scriptName + '.' + this.scriptExt + '?';\r\n        \r\n        var cnt = 0;\r\n        this.aRequestData['phrase'] = this.getEditedItemText();\r\n        for(var name in this.aRequestData){\r\n            url = url + (cnt++ > 0 ? '&' : '') + encodeURIComponent(name) + '=' + encodeURIComponent(this.aRequestData[name]);\r\n        }\r\n        \r\n        AMI.HTTPRequest.getContent(\r\n            'GET',\r\n            url,\r\n            '',\r\n            function(_this){\r\n                return function(state, content){\r\n                    _this.fillRowsCallback(state, content)\r\n                }\r\n            }(this)\r\n        );\r\n    }\r\n    \r\n    this.fillRowsCallback = function(state, content){\r\n        if(state == 1){\r\n            this.currentRow = -1;\r\n            this.rowObjects = new Array();\r\n            this.suggestionObject.innerHTML = '';\r\n            var fieldText = this.getEditedItemText();\r\n            var bHasHistory = false;\r\n            var bHasResults = false;\r\n\r\n            if(content.length){\r\n                var aReceived = {};\r\n                \r\n                if(content.indexOf('{') != 0){\r\n                    aReceived.debug = 'Unknown data received for block ' + this.idContainer + ': ' + content;\r\n                    this.setDebug(aReceived);\r\n                    return;\r\n                }\r\n\r\n                aReceived = AMI.String.decodeJSON(content);\r\n                var bResultInserted = false;\r\n                if(typeof(aReceived) == 'object' && typeof(aReceived.data) != 'undefined'){\r\n                    \r\n                    this.setDebug(aReceived);\r\n\r\n                    for(var i = 0; i < aReceived.data.list.length; i++){\r\n                        if(typeof(aReceived.data.list[i].query) != 'undefined'){\r\n                            var name = this.trimText(aReceived.data.list[i].query);\r\n                            var itemValue = name;\r\n                            var itemType = 'suggestion';\r\n                            var bExact = aReceived.data.list[i].query == fieldText;\r\n                            bHasHistory = true;\r\n                        }else{\r\n                            name = '<a href=\"' + aReceived.data.list[i].link + '\" title=\"' + document.location.protocol + '//' + document.location.host + '/' + aReceived.data.list[i].link.replace('\"', '&quot;') + '\">' + this.trimText(aReceived.data.list[i].name) + '</a>';\r\n                            itemValue = aReceived.data.list[i].link;\r\n                            itemType = 'result'\r\n                            bExact = false;\r\n                            bHasResults = true;\r\n                        }\r\n                        \r\n                        if(itemType == 'result' && !bResultInserted){\r\n                            bResultInserted = true;\r\n                            var oResultsDiv = AMI.Browser.DOM.create('div', '', 'suggestionResult' + (i == 0 ? 'First' : ''), '', this.suggestionObject);\r\n                            oResultsDiv.innerHTML = 'Результаты поиска:';\r\n                        }\r\n                        \r\n                        this.appendRow(name, itemValue, itemType, bExact);\r\n\r\n                        if(itemType == 'result' && i == aReceived.data.list.length - 1){\r\n                            this.appendResultsRow();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if(bHasHistory || bHasResults){\r\n                var minWidthDiv = AMI.Browser.DOM.create('div', '', 'suggestionMinWidth', '', this.suggestionObject);\r\n                minWidthDiv.style.width = this.fieldObject.offsetWidth - 3 + 'px';\r\n                \r\n                this.showSuggestionObject(bHasHistory, bHasResults);\r\n            }else{\r\n                this.hideSuggestionObject();\r\n            }\r\n        }\r\n    }\r\n    \r\n    this.trimText = function(data){\r\n        if(data.length > this.maxNameLength){\r\n            data = data.substr(0, this.maxNameLength) + '...';\r\n        }\r\n        return data;\r\n    }\r\n    \r\n    this.appendRow = function(itemText, itemValue, itemType, isExact){\r\n        var currentIndex = this.rowObjects.length;\r\n        this.rowObjects[currentIndex] = AMI.Browser.DOM.create('div', this.fieldId + '_suggestionItem_' + currentIndex, 'suggestionRow' + (isExact ? ' suggestionRowExact' : ''), '', this.suggestionObject);\r\n        this.rowObjects[currentIndex].innerHTML = itemText;\r\n        this.rowObjects[currentIndex].setAttribute('rowIndex', currentIndex);\r\n        this.rowObjects[currentIndex].setAttribute('rowValue', itemValue);\r\n        this.rowObjects[currentIndex].setAttribute('rowType', itemType);\r\n        this.rowObjects[currentIndex].setAttribute('rowExact', isExact ? '1' : '0');\r\n        this.rowObjects[currentIndex].onmouseover = function(currentObject, divIndex){return function(){currentObject.selectRow(divIndex, false)}}(this, currentIndex);\r\n    }\r\n    \r\n    this.appendResultsRow = function(){\r\n        var currentIndex = this.rowObjects.length;\r\n        this.rowObjects[currentIndex] = AMI.Browser.DOM.create('div', this.fieldId + '_suggestionItem_' + currentIndex, 'suggestionRow suggestionRowAllResults', '', this.suggestionObject);\r\n        this.rowObjects[currentIndex].setAttribute('rowIndex', currentIndex);\r\n        this.rowObjects[currentIndex].setAttribute('rowValue', '');\r\n        this.rowObjects[currentIndex].setAttribute('rowType', 'resultAll');\r\n        this.rowObjects[currentIndex].setAttribute('rowExact', '0');\r\n        this.rowObjects[currentIndex].onmouseover = function(currentObject, divIndex){return function(){currentObject.selectRow(divIndex, false)}}(this, currentIndex);\r\n\r\n        var oResultsOthersLink = AMI.Browser.DOM.create('a', '', 'suggestionAllResults', '', this.rowObjects[currentIndex]);\r\n        oResultsOthersLink.href = 'javascript:void(0)';\r\n        oResultsOthersLink.innerHTML = 'Все результаты &raquo;';\r\n        oResultsOthersLink.onclick = function(_this){return function(){_this.submitForm()}}(this);\r\n    }\r\n    \r\n    this.selectRow = function(rowIndex, setRowText){\r\n        if(this.currentRow >= 0){\r\n            this.rowObjects[this.currentRow].className = 'suggestionRow' + (this.rowObjects[this.currentRow].getAttribute('rowExact') == '1' ? ' suggestionRowExact' : '') + (this.rowObjects[this.currentRow].getAttribute('rowType') == 'resultAll' ? ' suggestionRowAllResults' : '');\r\n        }\r\n        if(rowIndex != null && rowIndex >= 0){\r\n            this.rowObjects[rowIndex].className = 'suggestionRowSelected' + (this.rowObjects[rowIndex].getAttribute('rowExact') == '1' ? ' suggestionRowExact' : '') + (this.rowObjects[rowIndex].getAttribute('rowType') == 'resultAll' ? ' suggestionRowAllResults' : '');\r\n        }\r\n        \r\n        if(setRowText){\r\n            if(rowIndex != null && rowIndex >= 0){\r\n                var rowType = this.rowObjects[rowIndex].getAttribute('rowType');\r\n                if(rowType == 'suggestion'){\r\n                    this.setItemText(this.rowObjects[rowIndex].getAttribute('rowValue'));\r\n                    this.lastFieldValueLength = this.fieldObject.value.length;\r\n                    this.isFieldValueModified = true;\r\n                }else{\r\n                    this.resetFieldText();\r\n                }\r\n            }else{\r\n                this.resetFieldText();\r\n            }\r\n        }\r\n        \r\n        this.currentRow = rowIndex;\r\n    }\r\n    \r\n    this.resetFieldText = function(){\r\n        if(this.isFieldValueModified){\r\n            var caretPosition = AMI.Browser.getCaretPosition(this.fieldObject);\r\n            this.fieldObject.value = this.storedFieldValue;\r\n            AMI.Browser.setCaretPosition(this.fieldObject, caretPosition);\r\n            this.lastFieldValueLength = this.fieldObject.value.length;\r\n        }\r\n    }\r\n    \r\n    this.getEditedItemText = function(){\r\n        var itemText = '';\r\n        if(this.itemsSplitter != ''){\r\n            var splitterLength = this.itemsSplitter.length;\r\n            var caretPosition = AMI.Browser.getCaretPosition(this.fieldObject);\r\n            var items = this.fieldObject.value.split(this.itemsSplitter);\r\n            var currentLength = 0;\r\n            for(var i = 0; i < items.length; i++){\r\n                currentLength += items[i].length + (i > 0 ? splitterLength : 0);\r\n                if(currentLength >= caretPosition){\r\n                    itemText = items[i];\r\n                    break;\r\n                }\r\n            }\r\n        }else{\r\n            itemText = this.fieldObject.value;\r\n        }\r\n        \r\n        itemText = itemText.replace(/^( *)(.*) *$/, function(currentObject){return function(wholeString, spaces, content){\r\n            currentObject.fieldLeadingSpaces = spaces;\r\n            return content;\r\n        }}(this));\r\n        return itemText;\r\n    }\r\n    \r\n    this.setItemText = function(textValue){\r\n        if(this.itemsSplitter != ''){\r\n            var splitterLength = this.itemsSplitter.length;\r\n            var caretPosition = AMI.Browser.getCaretPosition(this.fieldObject);\r\n            var items = this.fieldObject.value.split(this.itemsSplitter);\r\n            var currentLength = 0;\r\n            var isReplaced = false;\r\n            var result = '';\r\n            for(var i = 0; i < items.length; i++){\r\n                currentLength += items[i].length + (i > 0 ? splitterLength : 0);\r\n                var itemValue = items[i];\r\n                if(!isReplaced && currentLength >= caretPosition){\r\n                    itemValue = this.fieldLeadingSpaces + AMI.String.decodeHTMLSpecialChars(textValue);\r\n                    isReplaced = true;\r\n                    this.itemEndCaretPosition = currentLength + itemValue.length - items[i].length;\r\n                }\r\n                result += (result != '' ? this.itemsSplitter : '') + itemValue;\r\n            }\r\n            this.fieldObject.value = result;\r\n            AMI.Browser.setCaretPosition(this.fieldObject, caretPosition);\r\n        }else{\r\n            this.fieldObject.value = this.fieldLeadingSpaces + AMI.String.decodeHTMLSpecialChars(textValue);\r\n            this.itemEndCaretPosition = this.fieldObject.value.length;\r\n        }\r\n    }\r\n    \r\n    this.submitForm = function(){\r\n        if(this.fieldObject != null && typeof(this.fieldObject.form) != 'undefined'){\r\n            this.fieldObject.form.submit();\r\n        }\r\n    }\r\n    \r\n    // Do initializing\r\n    this.init();\r\n}\r\nAMI.UI.Multiselect = function(idField, iWidth, iRowHeight){\r\n    this.oField = document.getElementById(idField);\r\n    this.oControl = null;\r\n    \r\n    this.lastOptionNumber = -1;\r\n    this.lastOptionSelected = true;\r\n    this.bAllowMoveSelection = false;\r\n    this.hMoveSelectionStop = null;\r\n    \r\n    this.init = function(){\r\n        if(this.oField != null){\r\n            var width = iWidth || this.oField.offsetWidth;\r\n            var height = this.oField.offsetHeight;\r\n            var rowHeight = 18 || iRowHeight;\r\n            var numRows = this.oField.getAttribute('size');\r\n            if(numRows != null && numRows > 0){\r\n                height = rowHeight * numRows;\r\n            }\r\n            \r\n            this.oControl = AMI.Browser.DOM.create(\r\n                'DIV',\r\n                '',\r\n                'mSelectFrame',\r\n                'width: ' + width + 'px; height: ' + height + 'px;'\r\n            );\r\n            this.oControl = this.oField.parentNode.insertBefore(this.oControl, this.oField);\r\n            if(typeof(this.oControl.onselectstart) != 'undefined'){\r\n                this.oControl.onselectstart = function(){ return false; };\r\n            }\r\n            if(typeof(this.oControl.style.MozUserSelect) != 'undefined'){\r\n                this.oControl.style.MozUserSelect = 'none'; \r\n            }\r\n            this.oField.style.display = 'none';\r\n            \r\n            for(i = 0; i < this.oField.options.length; i++){\r\n                var oOption = AMI.Browser.DOM.create(\r\n                    'DIV',\r\n                    '',\r\n                    'mSelectOption' + (this.oField.options[i].selected ? 'Selected' : ''),\r\n                    'height: ' + rowHeight + 'px; line-height: ' + rowHeight + 'px;',\r\n                    this.oControl\r\n                );\r\n                oOption.innerHTML = this.oField.options[i].text;\r\n                oOption.setAttribute('optionNumber', i);\r\n                oOption.setAttribute('optionValue', this.oField.options[i].value);\r\n                oOption.onmousedown = function(_this){ return function(evt){_this.selectOption(evt, this)} }(this);\r\n                oOption.onmouseup = function(_this){ return function(){_this.selectOptionStop(true)} }(this);\r\n                oOption.onmouseover = function(_this){ return function(evt){_this.selectOptionOnMove(evt, this)} }(this);\r\n                oOption.onmouseout = function(_this){ return function(){_this.selectOptionStop(false)} }(this);\r\n            }\r\n        }\r\n    };\r\n    \r\n    this.selectOption = function(evt, oOption){\r\n        var bSelected = oOption.className == 'mSelectOptionSelected';\r\n        var optionNumber = oOption.getAttribute('optionNumber');\r\n        \r\n        evt = AMI.Browser.Event.validate(evt);\r\n        \r\n        if(evt.shiftKey && this.lastOptionNumber >= 0 && this.lastOptionNumber != optionNumber){\r\n            var iStartIndex = Math.min(optionNumber, this.lastOptionNumber);\r\n            var iEndIndex = Math.max(optionNumber, this.lastOptionNumber);\r\n            aOptions = this.oControl.getElementsByTagName('DIV');\r\n            for(var i = 0; i < aOptions.length; i++){\r\n                var iIntervalOptionNumber = aOptions[i].getAttribute('optionNumber');\r\n                if(iIntervalOptionNumber != null && iIntervalOptionNumber >= iStartIndex && iIntervalOptionNumber <= iEndIndex){\r\n                    this.doSelectOption(aOptions[i], iIntervalOptionNumber, this.lastOptionSelected);\r\n                }\r\n            }\r\n        }else{\r\n            this.doSelectOption(oOption, optionNumber, !bSelected);\r\n        }\r\n        \r\n        if(this.lastOptionNumber == -1 || !evt.shiftKey){\r\n            this.lastOptionNumber = optionNumber;\r\n            this.lastOptionSelected = this.oField.options[optionNumber].selected;\r\n        }\r\n        \r\n        this.bAllowMoveSelection = true;\r\n    }\r\n    \r\n    this.selectOptionOnMove = function(evt, oOption){\r\n        if(this.bAllowMoveSelection){\r\n            clearTimeout(this.hMoveSelectionStop);\r\n            var optionNumber = oOption.getAttribute('optionNumber');\r\n            this.doSelectOption(oOption, optionNumber, this.lastOptionSelected);\r\n        }\r\n    }\r\n    \r\n    this.selectOptionStop = function(bImmediate){\r\n        if(bImmediate){\r\n            clearTimeout(this.hMoveSelectionStop);\r\n            this.bAllowMoveSelection = false;\r\n        }else{\r\n            this.hMoveSelectionStop = setTimeout(function(_this){ return function(){_this.bAllowMoveSelection = false;} }(this), 10);\r\n        }\r\n        \r\n    }\r\n    \r\n    this.doSelectOption = function(oOption, optionNumber, bSelect){\r\n        if(bSelect){\r\n            oOption.className = 'mSelectOptionSelected';\r\n            this.oField.options[optionNumber].selected = true;\r\n        }else{\r\n            oOption.className = 'mSelectOption';\r\n            this.oField.options[optionNumber].selected = false;\r\n        }\r\n    }\r\n    \r\n    this.init();\r\n}\r\nAMI.UI.ToolTip = function(evt, text, minWidth, maxWidth){\r\n    this.oOwner = AMI.Browser.Event.getTarget(AMI.Browser.Event.validate(evt));\r\n    this.text = text;\r\n    this.oToolTip = null;\r\n    \r\n    this.bMovable = false;\r\n    \r\n    this.show = function(evt){\r\n        if(this.oOwner != null){\r\n            if(this.oOwner.getAttribute('isToolTipInstalled') != '1'){\r\n                AMI.Browser.Event.addHandler(\r\n                    this.oOwner,\r\n                    'mouseout',\r\n                    function(_this){return function(){_this.hide()}}(this)\r\n                );\r\n                AMI.Browser.Event.addHandler(\r\n                    this.oOwner,\r\n                    'mousemove',\r\n                    function(_this){return function(evt){_this.move(evt)}}(this)\r\n                );\r\n                this.oOwner.setAttribute('isToolTipInstalled', '1');\r\n            }\r\n            var oPosition = this.getPosition(evt);\r\n            this.oToolTip = AMI.Browser.DOM.create(\r\n                'DIV',\r\n                '',\r\n                'AMIToolTip',\r\n                'left: ' + oPosition[0] + 'px; top: ' + oPosition[1] + 'px;',\r\n                document.body\r\n            );\r\n            \r\n            minWidth = 0 || minWidth;\r\n            maxWidth = 0 || maxWidth;\r\n            if(minWidth > 0 && maxWidth > 0 && minWidth == maxWidth){\r\n                this.oToolTip.style.width = minWidth + 'px';\r\n            }else{\r\n                if(minWidth > 0){\r\n                    this.oToolTip.style.minWidth = minWidth + 'px';\r\n                }\r\n                if(maxWidth > 0){\r\n                    this.oToolTip.style.maxWidth = maxWidth + 'px';\r\n                }\r\n            }\r\n            \r\n            this.oToolTip.innerHTML = this.text;\r\n            this.oToolTip.style.display = 'block';\r\n            this.correctPosition();\r\n            this.bMovable = true;\r\n        }\r\n    }\r\n    \r\n    this.getPosition = function(evt){\r\n        var oPointer = AMI.Browser.getPointerPosition(evt);\r\n        return [parseInt(oPointer[0]) + 11, parseInt(oPointer[1]) + 16];\r\n    }\r\n    \r\n    this.correctPosition = function(){\r\n        var iLeft = parseInt(this.oToolTip.style.left) + this.oToolTip.offsetWidth;\r\n        var iMinRight = document.body.scrollLeft;\r\n        var iMaxRight = iMinRight + AMI.Browser.getWindowWidth();\r\n        if(iLeft > iMaxRight){\r\n            iLeft = Math.max(iMinRight, iMaxRight - this.oToolTip.offsetWidth);\r\n            this.oToolTip.style.left = iLeft + 'px';\r\n        }\r\n    }\r\n    \r\n    this.move = function(evt){\r\n        if(this.bMovable){\r\n            var oPosition = this.getPosition(evt);\r\n            this.oToolTip.style.left = oPosition[0] + 'px';\r\n            this.oToolTip.style.top = oPosition[1] + 'px';\r\n            this.correctPosition();\r\n        }\r\n    }\r\n    \r\n    this.hide = function(){\r\n        this.oToolTip.parentNode.removeChild(this.oToolTip);\r\n        this.oToolTip.style.display = 'none';\r\n        this.bMovable = false;\r\n    }\r\n    \r\n    this.show(evt);\r\n}\r\nAMI.UI.showBlock = function(idLink, idBlock, shownClassName, mReplacement){\n    \n    this.oLink = AMI.find('#' + idLink);\n    this.oBlock = AMI.find('#' + idBlock);\n    this.blockHiddenHeight = 0;\n    this.blockFullHeight = 0;\n    this.hiddenClassName = this.oLink != null ? this.oLink.className : '';\n    this.shownClassName = shownClassName;\n    this.replacement = mReplacement || null;\n    this.originalLinkContent = this.oLink.innerHTML;\n    \n    this.hAnimation = null;\n    this.aAnimationInterval = 10;\n    this.animationIteration = 0;\n    this.currentHeight = 0;\n    this.destinationHeight = 0;\n\n    this.init = function(){\n        this.blockHiddenHeight = this.oBlock.offsetHeight;\n        AMI.Browser.Event.addHandler(this.oLink, 'click', function(_this){return function(evt){_this.onLinkClick(evt); return false;}}(this));\n    }\n    \n    this.onLinkClick = function(evt){\n        clearTimeout(this.hAnimation);\n        AMI.Browser.Event.stopProcessing(evt);\n        var currentState = this.oBlock.getAttribute('data-showblock-state');\n        if(currentState == 'shown'){\n            if(this.shownClassName != null){\n                this.oLink.className = this.hiddenClassName;\n            }\n            if(this.replacement != null){\n                this.oLink.innerHTML = this.originalLinkContent;\n            }\n            this.oBlock.setAttribute('data-showblock-state', 'hidden');\n\n            if(this.oBlock.offsetHeight > this.blockHiddenHeight){\n                this.startAnimation(this.blockHiddenHeight);\n            }\n        }else{\n            if(this.shownClassName != null){\n                this.oLink.className = this.shownClassName;\n            }\n            if(this.replacement != null){\n                this.oLink.innerHTML = typeof(this.replacement) == 'object' ? this.replacement.innerHTML : this.replacement;\n            }\n            this.oBlock.setAttribute('data-showblock-state', 'shown');\n\n            this.blockFullHeight = this.oBlock.scrollHeight;\n            if(this.blockFullHeight > this.blockHiddenHeight){\n                this.startAnimation(this.blockFullHeight);\n            }\n        }\n    }\n    \n    this.startAnimation = function(destinationHeight){\n        this.animationIteration = 0;\n        this.currentHeight = this.oBlock.offsetHeight;\n        this.destinationHeight = destinationHeight;\n        this.move();\n    }\n    \n    this.move = function(){\n        this.animationIteration ++;\n        var difference = Math.abs(this.currentHeight - this.destinationHeight);\n        \n        var step = 1;\n        if(difference < 50){\n            step = Math.max(1, difference / 3);\n        }else{\n            step = Math.min(step + this.animationIteration, 20);\n        }\n        \n        if(this.currentHeight < this.destinationHeight){\n            this.currentHeight += step;\n            this.currentHeight = Math.min(this.currentHeight, this.destinationHeight);\n        }else if(this.currentHeight > this.destinationHeight){\n            step *= -1;\n            this.currentHeight += step;\n            this.currentHeight = Math.max(this.currentHeight, this.destinationHeight);\n        }else{\n            step = 0;\n        }\n        \n        this.oBlock.style.height = this.currentHeight + 'px';\n\n        if(step != 0){\n            this.hAnimation = setTimeout(\n                function(_this){return function(){_this.move(); return false;}}(this),\n                this.aAnimationInterval\n            );\n        }\n    }\n    \n    this.init();\n}\r\n/**\r\n* @fileOverview File contains AMI.UI.Effects static object required to animate UI elements and AMI.UI.AnimatedObject\r\n*/\r\n\r\n/**\r\n* Static object that manages UI visual effects\r\n*\r\n* @class Static object for UI visual effects.\r\n*/\r\nAMI.UI.Effects = {\r\n\r\n     /**\r\n     * Smoothly displays an obect, from invisible to visible\r\n     *\r\n     * @param {HTMLElement} oObj Object to manipulate\r\n     * @param {int} time Time interval of the effect\r\n     * @param {function} callback A callback function\r\n     * @returns {void}\r\n     */\r\n    fadeIn: function(oObj, time, callback){\r\n        var delay = 50;\r\n        if(oObj.style.visibility != 'visible'){\r\n            oObj.style.visibility = 'visible';\r\n            AMI.Browser.setOpacity(oObj, 0);\r\n        }\r\n        if(time==null){\r\n            var time = 500;\r\n        }\r\n        if(time > 0){\r\n            time -= delay;\r\n            var opacity = AMI.Browser.DOM.getStyle(oObj, 'opacity');\r\n            var newOpacity = parseFloat(opacity) + (1 - parseFloat(opacity)) / (time / delay);\r\n            AMI.Browser.setOpacity(oObj, newOpacity);\r\n\r\n            oObj.style.opacity = parseFloat(oObj.style.opacity) + (1 - parseFloat(oObj.style.opacity)) / (time / delay);\r\n            window.setTimeout(function(_oObj, _time, _callback){return function(){AMI.UI.Effects.fadeIn(_oObj, _time, _callback)}}(oObj, time, callback), delay);\r\n        }else{\r\n            //Callback\r\n            if(typeof(callback) == 'function'){\r\n                callback(oObj);\r\n            }\r\n        }\r\n    },\r\n\r\n     /**\r\n     * Smoothly hides an obect, from visible to invisible\r\n     *\r\n     * @param {HTMLElement} oObj Object to manipulate\r\n     * @param {int} time Time interval of the effect\r\n     * @param {function} callback A callback function\r\n     * @returns {void}\r\n     */\r\n    fadeOut: function(oObj, time, callback){\r\n        var delay = 50;\r\n        if(time==null){\r\n            var time = 500;\r\n        }\r\n        if(time > 0){\r\n            time -= delay;\r\n            var opacity = AMI.Browser.DOM.getStyle(oObj, 'opacity');\r\n            var newOpacity = parseFloat(opacity) - ( parseFloat(opacity) / (time / delay) );\r\n            AMI.Browser.setOpacity(oObj, newOpacity);\r\n            window.setTimeout(function(_oObj, _time, _callback){return function(){AMI.UI.Effects.fadeOut(_oObj, _time, _callback)}}(oObj, time, callback), delay);\r\n        }else{\r\n            AMI.Browser.setOpacity(oObj, 1);\r\n            oObj.style.visibility = 'hidden';\r\n\r\n            //Callback\r\n            if(typeof(callback) == 'function'){\r\n                callback(oObj);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Move or resize element from start point to end point within specified time\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {object} oStart Start point {'top':int, 'left':int, 'height':int, 'width':int}\r\n     * @param {object} oEnd End point {'top':int, 'left':int, 'height':int, 'width':int}\r\n     * @param {int} interval Time interval in mseconds\r\n     * @param {function} callback A callback function\r\n     * @returns {void}\r\n     */\r\n    animate: function(oObj, oStart, oEnd, interval, callback){\r\n        var endTime = new Date().getTime() + interval;\r\n        AMI.UI.Effects._move(oObj, oStart, oEnd, endTime, 0, callback);\r\n    },\r\n\r\n    /**\r\n     * Move or resize element from start point to end point within specified time\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {object} oStart Start point {'top':int, 'left':int, 'height':int, 'width':int}\r\n     * @param {object} oEnd End point {'top':int, 'left':int, 'height':int, 'width':int}\r\n     * @param {int} endTime Sheduled time to finish the animation task (ms)\r\n     * @param {int} lastTime Last time this was called\r\n     * @param {function} callback A callback function\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    _move: function(oObj, oStart, oEnd, endTime, lastTime, callback){\r\n\r\n        var curTime = new Date().getTime();\r\n\r\n        // Extract start point\r\n        var startTop    = (typeof(oStart.top) != 'undefined')   ? Math.round(oStart.top)    : null;\r\n        var startLeft   = (typeof(oStart.left) != 'undefined')  ? Math.round(oStart.left)   : null;\r\n        var startHeight = (typeof(oStart.height) != 'undefined')? Math.round(oStart.height) : null;\r\n        var startWidth  = (typeof(oStart.width) != 'undefined') ? Math.round(oStart.width)  : null;\r\n\r\n        // Extract end point\r\n        var endTop      = (typeof(oEnd.top) != 'undefined')     ? Math.round(oEnd.top)      : null;\r\n        var endLeft     = (typeof(oEnd.left) != 'undefined')    ? Math.round(oEnd.left)     : null;\r\n        var endHeight   = (typeof(oEnd.height) != 'undefined')  ? Math.round(oEnd.height)   : null;\r\n        var endWidth    = (typeof(oEnd.width) != 'undefined')   ? Math.round(oEnd.width)    : null;\r\n\r\n        var interval = ((endTime - curTime) > 0) ? endTime - curTime : 0;\r\n        var diffTime = (lastTime && (lastTime < curTime)) ? interval / (curTime - lastTime) : interval;\r\n\r\n        if (diffTime < 1) diffTime = 1;\r\n\r\n        if(interval){\r\n\r\n            // Next point\r\n            var oNewStart = {};\r\n\r\n            this._moveLeft(oObj, startLeft, endLeft, diffTime, oStart, oNewStart);\r\n            this._moveTop(oObj, startTop, endTop, diffTime, oStart, oNewStart);\r\n            this._resizeHeight(oObj, startHeight, endHeight, diffTime, oStart, oNewStart);\r\n            this._resizeWidth(oObj, startWidth, endWidth, diffTime, oStart, oNewStart);\r\n\r\n            // Wait 1 ms and repeat from next point\r\n            window.setTimeout(\r\n                function(_oObj, _oStart, _oEnd, _endTime, _lastTime, _callback){\r\n                    return function(){\r\n                        AMI.UI.Effects._move(_oObj, _oStart, _oEnd, _endTime, _lastTime, _callback);\r\n                    }\r\n                }(oObj, oNewStart, oEnd, endTime, curTime, callback),\r\n                1\r\n            );\r\n        }else{\r\n            // Set final object state\r\n            if((startLeft != null) && (endLeft != null)){\r\n                oObj.style.left = endLeft + 'px';\r\n            }\r\n            if((startTop != null) && (endTop != null)){\r\n                oObj.style.top = endTop + 'px';\r\n            }\r\n            if((startHeight != null) && (endHeight != null)){\r\n                oObj.style.height = endHeight + 'px';\r\n            }\r\n            if((startWidth != null) && (endWidth != null)){\r\n                oObj.style.width = endWidth + 'px';\r\n            }\r\n            //Callback\r\n            if(typeof(callback) == 'function'){\r\n                callback(oObj);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Move object by X axis (one step)\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {int} startLeft Left start point\r\n     * @param {int} endLeft Left end point\r\n     * @param {int} diffTime Time interval to move\r\n     * @param {object} oStart Initial start point\r\n     * @param {object} oNewStart New start point\r\n     * @returns {void}\r\n     */\r\n    _moveLeft: function(oObj, startLeft, endLeft, diffTime, oStart, oNewStart){\r\n        if((startLeft != null) && (endLeft != null)){\r\n            var diffLeft = endLeft - startLeft;\r\n            var stepLeft = diffLeft / diffTime;\r\n            oNewStart.left = oStart.left + stepLeft;\r\n            oObj.style.left = oNewStart.left + 'px';\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Move object by Y axis (one step)\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {int} startTop Top start point\r\n     * @param {int} endTop Top end point\r\n     * @param {int} diffTime Time interval to move\r\n     * @param {object} oStart Initial start point\r\n     * @param {object} oNewStart New start point\r\n     * @returns {void}\r\n     */\r\n    _moveTop: function(oObj, startTop, endTop, diffTime, oStart, oNewStart){\r\n        if((startTop != null) && (endTop != null)){\r\n            var diffTop = endTop - startTop;\r\n            var stepTop = diffTop / diffTime;\r\n            oNewStart.top = oStart.top + stepTop;\r\n            oObj.style.top = oNewStart.top + 'px';\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Resize object's height (one step)\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {int} startHeight Initial value of object's height\r\n     * @param {int} endHeight Final value of object's height\r\n     * @param {int} diffTime Time interval to move\r\n     * @param {object} oStart Initial start point\r\n     * @param {object} oNewStart New start point\r\n     * @returns {void}\r\n     */\r\n    _resizeHeight: function(oObj, startHeight, endHeight, diffTime, oStart, oNewStart){\r\n        if((startHeight != null) && (endHeight != null)){\r\n            var diffHeight = endHeight - startHeight;\r\n            var stepHeight = diffHeight / diffTime;\r\n            oNewStart.height = oStart.height + stepHeight;\r\n            oObj.style.height = oNewStart.height + 'px';\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Resize object's width (one step)\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {int} startWidth Initial value of object's width\r\n     * @param {int} endWidth Final value of object's width\r\n     * @param {int} diffTime Time interval to move\r\n     * @param {object} oStart Initial start point\r\n     * @param {object} oNewStart New start point\r\n     * @returns {void}\r\n     */\r\n    _resizeWidth: function(oObj, startWidth, endWidth, diffTime, oStart, oNewStart){\r\n        if((startWidth != null) && (endWidth != null)){\r\n            var diffWidth = endWidth - startWidth;\r\n            var stepWidth = diffWidth / diffTime;\r\n            oNewStart.width = oStart.width + stepWidth;\r\n            oObj.style.width = oNewStart.width + 'px';\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n* Adds animation methods for an object\r\n*\r\n*\r\n*/\r\nAMI.UI.AnimatedObject = function(oNode){\r\n    /**\r\n     * Animation queue\r\n     */\r\n    oNode._amiQueue = [];\r\n\r\n    /**\r\n     * Callback to call after animation is finished\r\n     */\r\n    oNode._amiCallback = null;\r\n\r\n    /**\r\n     * Adds \"move\" action to a queue\r\n     */\r\n    oNode.move = function(oStart, oEnd, duration, callback){\r\n        this._amiQueue.push({\r\n            action:  'move',\r\n            start:    oStart,\r\n            end:      oEnd,\r\n            duration: duration,\r\n            callback: callback\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Adds \"wait\" action to a queue\r\n     */\r\n    oNode.wait = function(duration, callback){\r\n        this._amiQueue.push({\r\n            action:  'wait',\r\n            duration: duration,\r\n            callback: callback\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Adds \"fadeIn\" action to a queue\r\n     */\r\n    oNode.fadeIn = function(duration, callback){\r\n        this._amiQueue.push({\r\n            action:  'fadein',\r\n            duration: duration,\r\n            callback: callback\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Adds \"fadeOut\" action to a queue\r\n     */\r\n    oNode.fadeOut = function(duration, callback){\r\n        this._amiQueue.push({\r\n            action:  'fadeout',\r\n            duration: duration,\r\n            callback: callback\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Starts animation process\r\n     */\r\n    oNode.startAnimation = function(){\r\n\r\n        // Perform animation\r\n        if(this._amiQueue.length){\r\n            var ani = this._amiQueue.shift();\r\n\r\n            // Set a callback function if specified\r\n            if(typeof(ani.callback) == 'function'){\r\n                this._amiCallback = ani.callback;\r\n            }\r\n\r\n            switch(ani.action){\r\n                case 'move':\r\n                    AMI.UI.Effects.animate(this, ani.start, ani.end, ani.duration, function(oObj){\r\n                        if(typeof(oObj._amiCallback) == 'function'){\r\n                            oObj._amiCallback();\r\n                        }\r\n                        oObj.startAnimation();\r\n                    });\r\n                    break;\r\n                case 'wait':\r\n                    setTimeout(function(oObj){\r\n                        return function(){\r\n                            if(typeof(oObj._amiCallback) == 'function'){\r\n                                oObj._amiCallback();\r\n                            }\r\n                        }\r\n                    }(this), ani.duration);\r\n                    break;\r\n                case 'fadein':\r\n                    AMI.UI.Effects.fadeIn(this, ani.duration, function(oObj){\r\n                        if(typeof(oObj._amiCallback) == 'function'){\r\n                            oObj._amiCallback();\r\n                        }\r\n                        oObj.startAnimation();\r\n                    });\r\n                    break;\r\n                case 'fadeout':\r\n                    AMI.UI.Effects.fadeOut(this, ani.duration, function(oObj){\r\n                        if(typeof(oObj._amiCallback) == 'function'){\r\n                            oObj._amiCallback();\r\n                        }\r\n                        oObj.startAnimation();\r\n                    });\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return oNode;\r\n}\r\nAMI.UI.MediaBox.PageImages = {\r\n    aGroups: {},\r\n    groupsNumber: 0,\r\n\r\n    init: function(){\r\n        AMI.Browser.Event.addHandler(window, 'load', function(){AMI.UI.MediaBox.PageImages.onLoadHandler()});\r\n        AMI.Message.addListener('ON_AMI_MEDIABOX_GROUPS_NUMBER', function(oResponse){AMI.UI.MediaBox.PageImages.getGroupsNumber(oResponse)});\r\n        AMI.Message.addListener('ON_AMI_MEDIABOX_GET_GROUP', function(oData, oResponse){AMI.UI.MediaBox.PageImages.getGroup(oData, oResponse)});\r\n    },\r\n\r\n    getImageLink: function(imageLink){\r\n        if(!/^https?:\\/\\//.test(imageLink)){\r\n            imageLink = frontBaseHref + imageLink;\r\n        }\r\n        return imageLink;\r\n    },\r\n\r\n    onLoadHandler: function(){\r\n        var aImages = AMI.find('img');\r\n        for(var i = 0; i < aImages.length; i++){\r\n            var popupImage = aImages[i].getAttribute('data-ami-mbpopup');\r\n            if(popupImage != null && popupImage != ''){\r\n                popupImage = this.getImageLink(popupImage);\r\n                aImages[i].setAttribute('data-ami-mbpopup', popupImage);\r\n\r\n                /*\r\n                AMI.Browser.Event.addHandler(aImages[i], 'mouseover', function(evt){AMI.Browser.Event.getTarget(evt).style.cursor = 'pointer'});\r\n                AMI.Browser.Event.addHandler(aImages[i], 'mouseout', function(evt){AMI.Browser.Event.getTarget(evt).style.cursor = 'default'});\r\n                */\r\n                AMI.Browser.Event.addHandler(aImages[i], 'click', function(evt){AMI.UI.MediaBox.openFromObject(AMI.Browser.Event.getTarget(evt))});\r\n            }\r\n\r\n            var group = aImages[i].getAttribute('data-ami-mbgrp');\r\n            if(group != null && group != '' && popupImage != null && popupImage != ''){\r\n                if(typeof(this.aGroups[group]) == 'undefined'){\r\n                    this.aGroups[group] = [];\r\n                    this.groupsNumber ++;\r\n                }\r\n                this.aGroups[group].push(aImages[i]);\r\n            }\r\n\r\n            var overImage = aImages[i].getAttribute('data-ami-mbover');\r\n            if(overImage != null && overImage != ''){\r\n                overImage = this.getImageLink(overImage);\r\n                aImages[i].setAttribute('data-ami-mbover', overImage);\r\n                AMI.Browser.Event.addHandler(aImages[i], 'mouseover', function(evt){AMI.UI.OverImage.onOver(evt)});\r\n                AMI.Browser.Event.addHandler(aImages[i], 'mouseout', function(evt){AMI.UI.OverImage.onOut(evt)});\r\n                AMI.Browser.Event.addHandler(aImages[i], 'click', function(evt){AMI.UI.OverImage.stopWaiting(evt)});\r\n            }\r\n        }\r\n    },\r\n\r\n    getGroupsNumber: function(oResponse){\r\n        oResponse.result = this.groupsNumber;\r\n        return true;\r\n    },\r\n\r\n    getGroup: function(oData, oResponse){\r\n        var groupName = oData.groupName;\r\n        if(typeof(this.aGroups[groupName]) != 'undefined'){\r\n            oResponse.aGroupImages = this.aGroups[groupName];\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\nAMI.UI.MediaBox.PageImages.init();\r\nAMI.Template.Locale.merge({mediaBoxZommed : \"Изображение уменьшено, <a href=\\\"\\\">показать в оригинальном размере __width__х__height__</a>\", mediaBoxNotZommed : \"Изображение увеличено, <a href=\\\"\\\">уменьшить до размеров окна</a>\", mediaBoxCounter : \"Изображение __current__ из __total__\", mediaBoxPrevious : \"Предыдущее изображение\", mediaBoxNext : \"Следующее изображение\"});"
          },
          "redirectURL": "",
          "headersSize": 293,
          "bodySize": 35641
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 31,
          "receive": 11
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.631+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_js/common.js?_cv=5.12.4.0",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Fri, 20 May 2011 07:10:44 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.12.4.0"
            }
          ],
          "headersSize": 662,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 20 May 2011 07:10:44 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Thu, 31 May 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 3696,
            "text": "// user's functions\n\nfunction isIE5() { return (navigator.userAgent.indexOf(\"MSIE 5\") > -1); }\nfunction isIE6() { return ((navigator.userAgent.indexOf(\"MSIE 6\") > -1) && (navigator.userAgent.indexOf(\"Opera\") == -1)); }\nfunction isIE() { return (isIE5() || isIE6());}\n\nfunction fixpng()\n{\n for (var i = 0; i < document.images.length; i++)\n {\n  var img = document.images[i];\n  imgSrc = img.src;\n  if (imgSrc.substr(imgSrc.length-3).toLowerCase() == \"png\")\n  {\n   var w, h;\n   w = img.width, h = img.height;\n   img.src = \"_mod_files/ce_images/spacer.gif\";\n   img.width = w, img.height = h;\n   img.style.filter = \"progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'\" + imgSrc + \"\\', sizingMethod='scale');\";\n  }\n }\n}\n\nvar isIE = isIE();\nif (isIE) window.attachEvent(\"onload\", fixpng); \n\n\n\n\n\n\nvar oAlertWindow;\nvar oAlertWindowTimer;\n\nfunction showInitAlert(){\n    oAlertWindow = document.getElementById('status_message');\n    if (oAlertWindow){\n      var oLocalMessage = document.getElementById('status_message_local');\n      if(oLocalMessage && (oAlertWindow.className == 'status_error')){\n          oLocalMessage.style.display = 'none';\n      }\n      alert(oAlertWindow.innerHTML);\n    }\n}\n\n\nfunction alert(message){\n    if(!message || (message == '')){\n        return false;\n    }\n    oAlertWindow = document.getElementById('status_message');\n    if (!oAlertWindow){\n        oAlertWindow = AMI.Browser.DOM.create('DIV', 'status_message', 'status_notice', '', document.body);\n    }\n    if((oAlertWindow.innerHTML != '') && (oAlertWindow.style.visibility == 'visible')){\n        if(oAlertWindow.innerHTML != message){\n          oAlertWindow.innerHTML += '<br>' + message;\n        }\n    }else{\n        oAlertWindow.innerHTML = message;\n\n        if(!oAlertWindow.onmouseover) oAlertWindow.onmouseover = function(){\n            window.clearTimeout(oAlertWindowTimer);\n        }\n        if(!oAlertWindow.onmouseout) oAlertWindow.onmouseout = function(){\n            window.setTimeout(function(oObj){return function(){fadeOut(oObj, 1000)}}(oAlertWindow), 1000);\n        }\n\t\t\t\tif (navigator.userAgent.indexOf(\"MSIE\") >= 0) {\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\toAlertWindow.style.left = parseInt((AMI.Browser.getWindowWidth() - oAlertWindow.offsetWidth) / 2);\t\t\t\t\n\t\t\t\t}\t\n\t\tfadeIn(oAlertWindow, 300);\t\t\t\t\t\n    }\n    window.clearTimeout(oAlertWindowTimer);\n    oAlertWindowTimer = window.setTimeout(function(oObj){return function(){fadeOut(oObj, 1000)}}(oAlertWindow), 4000);\n}\n\nfunction fadeOut(oObj, time){     \n    var delay = 50;\n    if(time==null){\n        var time = 500;\n    }\n        alert( parseFloat(oObj.style.opacity) + ' - ' + parseFloat(oObj.style.opacity) +' / ' + (time / delay) + ' = ' + parseFloat(oObj.style.opacity) - (parseFloat(oObj.style.opacity) / (time / delay)));\n    if(time > 0){\n        time -= delay;\n        oObj.style.opacity = parseFloat(oObj.style.opacity) - ( parseFloat(oObj.style.opacity) / (time / delay) );\n        window.setTimeout(function(_oObj, _time ){return function(){fadeOut(_oObj, _time)}}(oObj, time), delay);\n    }else{\n        oObj.style.opacity = '1';\n        oObj.style.visibility = 'hidden';\n    }\n}\n\nfunction fadeIn(oObj, time){\n    var delay = 50;\n    if(oObj.style.visibility != 'visible'){\n        oObj.style.visibility = 'visible';\n        oObj.style.opacity = '0';\n    }\n    if(time==null){\n        var time = 500;\n    }\n    if(time > 0){\n        time -= delay;\n        oObj.style.opacity = parseFloat(oObj.style.opacity) + (1 - parseFloat(oObj.style.opacity)) / (time / delay);\n        window.setTimeout(function(_oObj, _time){return function(){fadeIn(_oObj, _time)}}(oObj, time), delay);\n    }\n}\n\naddOnLoadEvent(showInitAlert);\nsavePreviousOnLoadEvent();"
          },
          "redirectURL": "",
          "headersSize": 251,
          "bodySize": 1172
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-05-31T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 8
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.631+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_js/preload.js?_cv=5.12.4.0",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Tue, 13 May 2008 07:44:26 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.12.4.0"
            }
          ],
          "headersSize": 663,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 13 May 2008 07:44:26 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Thu, 31 May 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 1819,
            "text": "var clockColor;\n\nnn = (document.getElementById && navigator.appName == \"Netscape\") ? 1 : 0;\nie = (!nn && document.all) ? 1 : 0;\n\nfunction getRTime(){\n\n\n  clockS -= 1;\n\n  if (clockS < 0){\n\n    clockS = 59;\n    clockM -= 1;\n\n    if (clockM < 0)\n      clockM = 59;\n  }\n\n  var sSec = clockS;\n\n  if ( String(clockS).length < 2)\n    sSec = \"0\"+ clockS;\n\n  var sMin = clockM;\n\n  if ( String(clockM).length < 2)\n    sMin = \"0\"+ clockM;\n\n  clockColor = \"white\";\n\n  if (clockM < 20)\n    clockColor=\"yellow\";\n  if (clockM < 10)\n    clockColor=\"red\";\n\n  return sMin+\":\"+sSec; \n\n}\n\n\nfunction showTime()\n{\n\n\n  if ((typeof(clockS)==\"number\") && typeof(clockM)==\"number\"){  \n\n    STime=getRTime(); \n\n    if (document.all && document.all[\"clock\"] ){\n\n      var clock = document.all[\"clock\"];\n    \n      clock.innerHTML=STime;\n\n      clock.style.color=clockColor;\n\n    }\n    if ( ie )\n      timerId=setTimeout(\"showTime()\",1000);\n  }\n}\n\n//showTime()\n\n\n\nfunction none(){\n  return false;\n}\n\nfunction newImage(arg) {\n  if (document.images) {\n    rslt = new Image();\n    rslt.src = arg;\n    return rslt;\n  }\n}\n\nfunction changeImages() {\n  if (document.images && (preloadFlag == true)) {\n    for (var i=0; i<changeImages.arguments.length; i+=2) {\n      document[changeImages.arguments[i]].src = changeImages.arguments[i+1];\n    }\n  }\n}\n\nvar preloadFlag = false;\n\nfunction preloadImages() { \n  if(document.images) { \n     if(!preloadFlag) var pImages =new Array();\n     var i,j=pImages.length,args=preloadImages.arguments; \n     if (args[0].length)\n       args = args[0];\n     for(i=0; i<args.length; i++)\n     if(args[i].indexOf(\"#\")!=0) { \n        pImages[j]=new Image; \n        pImages[j++].src=args[i];\n     }\n  preloadFlag = true;\n  }\n}\n\nif (typeof(arrPreload)!=\"undefined\")\n  preloadImages(arrPreload);\n\nfunction DoPreload(){\n}\n       \n\n"
          },
          "redirectURL": "",
          "headersSize": 251,
          "bodySize": 740
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-05-31T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 8
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.631+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_js/menu.js?_cv=5.12.4.0",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Mon, 01 Dec 2008 15:10:44 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.12.4.0"
            }
          ],
          "headersSize": 660,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Mon, 01 Dec 2008 15:10:44 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Thu, 31 May 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 5716,
            "text": "function load(location){\r\n    if(document.images){\r\n        var image = new Image();\r\n        image.src = location;\r\n        return image;\r\n    }\r\n}\r\n\r\nfunction getElementPosition(oElement, oMenu){\r\n    var res = new Array(0, 0);\r\n    // Detect absolute or relative parent offset\r\n    pStopObj = null;\r\n    pObj = oMenu.parentNode;\r\n    while(pObj != null && typeof(pObj.style) != \"undefined\"){\r\n        if(pObj.style.position == \"absolute\" || pObj.style.position == \"relative\"){\r\n            pStopObj = pObj;\r\n            break;\r\n        }\r\n        pObj = pObj.parentNode;\r\n    }\r\n    // Get coordinates\r\n    do{\r\n\t\t\r\n\t\t\r\n\t\tif(pStopObj == oElement)\r\n            break;\r\n        res[0] += oElement.offsetLeft;\r\n        res[1] += oElement.offsetTop;\r\n    }while((oElement = oElement.offsetParent) != null);\r\n\t\r\n\treturn res;\r\n}\r\n\r\nfunction positioningMenu(smNum, relateToParentX, relateToParentY, deltaX, deltaY){\r\n\r\n    var menuId = \"sub_menu_\" + smNum;\r\n    var menuObj = document.getElementById(menuId);\r\n    var parentId = \"j\" + smNum;\r\n    var parentObj = document.getElementById(parentId);\r\n    \r\n    var parentPosition = getElementPosition(parentObj, menuObj);\r\n\r\n\tif(typeof(deltaX) == \"undefined\")\r\n        deltaX = 0;\r\n    if(relateToParentX == \"right\" || relateToParentX == \"center\"){\r\n        parentWidth = parentObj.offsetWidth;\r\n        if(relateToParentX == \"center\")\r\n            parentWidth = parentWidth/2;\r\n        deltaX += parentWidth;\r\n    }\r\n    \r\n    if(typeof(deltaY) == \"undefined\")\r\n        deltaY = 0;\r\n    if(relateToParentY == \"bottom\" || relateToParentY == \"center\"){\r\n        parentHeight = parentObj.offsetHeight;\r\n        if(relateToParentY == \"center\")\r\n            parentHeight = parentHeight/2;\r\n        deltaY += parentHeight;\r\n    }\r\n    \r\n    menuObj.style.position = 'absolute';\r\n    menuObj.style.left = parentPosition[0] + deltaX + 'px';\r\n    menuObj.style.top = parentPosition[1] + deltaY + 'px';\r\n}\r\n\r\nvar hTmMenuHide = null;\r\nvar hTmSubMenuHide = {\"init\":0};\r\nvar prevImgSrc = Array();\r\nvar openedMenusStack = Array();\r\n\r\nfunction showMenu(smNum, parentNum, relateToParentX, relateToParentY, deltaX, deltaY, imgOver){\r\n    \r\n\tvar menuObj = document.getElementById(\"sub_menu_\" + smNum);\r\n\t\r\n    if(menuObj != null){\r\n        clearTimeout(hTmMenuHide);\r\n        clearTimeout(hTmSubMenuHide[smNum]);\r\n        \r\n        hideMenuById(parentNum, true, true);\r\n\t\t\r\n\t\tpositioningMenu(smNum, relateToParentX, relateToParentY, deltaX, deltaY);\r\n      \r\n        if(document.images['main_menu_img_'+smNum]){\r\n            prevImgSrc[smNum] = document.images['main_menu_img_'+smNum].src;\r\n            document.images['main_menu_img_'+smNum].src = imgOver;\r\n        }\r\n        \r\n        document.getElementById(\"sub_menu_\" + smNum).style.display = 'block';\r\n        openedMenusStack.push(smNum);\r\n    }\r\n}\r\n\r\nfunction hideMenu(smNum){\r\n    var menuObj = document.getElementById(\"sub_menu_\" + smNum);\r\n    if(menuObj != null){\r\n        menuObj.style.display = 'none';\r\n        images = document.getElementsByTagName(\"IMG\");\r\n        if(document.images && document.images['main_menu_img_'+smNum] && prevImgSrc[smNum] != null){\r\n            document.images['main_menu_img_'+smNum].src = prevImgSrc[smNum];\r\n        }\r\n    }\r\n}\r\n\r\nfunction hideMenuById(smNum, isIdParent, hideAllIfNotFound){\r\n    if(smNum == 0){\r\n        hideMenuAll();\r\n    }else{\r\n        var removeFromPos = -1;\r\n        for(i = 0; i < openedMenusStack.length; i++){\r\n            if(openedMenusStack[i] == 0)\r\n                break;\r\n            if(removeFromPos == -1 && openedMenusStack[i] == smNum){\r\n                removeFromPos = i;\r\n                if(isIdParent){\r\n                    removeFromPos += 1;\r\n                    continue;\r\n                }\r\n            }\r\n            if(removeFromPos > -1){\r\n                hideMenu(openedMenusStack[i]);\r\n            }\r\n        }\r\n        if(hideAllIfNotFound && removeFromPos == -1){\r\n            hideMenuAll();\r\n        }else if(removeFromPos > -1 && removeFromPos < openedMenusStack.length){\r\n            openedMenusStack.splice(removeFromPos, openedMenusStack.length-removeFromPos);\r\n        }\r\n    }\r\n} \r\n\r\nfunction hideMenuAll(){\r\n    for(i = openedMenusStack.length-1; i >= 0; i--){\r\n        hideMenu(openedMenusStack[i]);\r\n    }\r\n    openedMenusStack = new Array();\r\n    \r\n    // Switch to next block if you have some problems with div hiding caused special custom processing\r\n    /*oDivs = document.getElementsByTagName(\"DIV\");\r\n    for(i = 0; i < oDivs.length; i++){\r\n        if(oDivs[i].id.substr(0, 9) == \"sub_menu_\"){\r\n            hideMenu(oDivs[i].id.substr(9));\r\n        }\r\n    }*/\r\n} \r\n\r\nfunction hideMenuAllByTimeout(){\r\n    hTmMenuHide = setTimeout('hideMenuAll()', 500);\r\n}\r\nfunction hideMenuIdByTimeout(smNum){\r\n    hTmSubMenuHide[smNum] = setTimeout('hideMenuById('+smNum+', false, false)', 250);\r\n}\r\n\r\n/* HTML handlers */\r\nfunction mon(smNum, smParentId){\r\n    clearTimeout(hTmMenuHide);\r\n    if(typeof(smNum) != \"undefined\" && smNum > 0){\r\n        clearTimeout(hTmSubMenuHide[smNum]);\r\n    }\r\n    if(typeof(smParentId) != \"undefined\" && smParentId > 0){\r\n        clearTimeout(hTmSubMenuHide[smParentId]);\r\n    }\r\n}\r\nfunction moff(smNum, evt){\r\n    hideMenuAllByTimeout();\r\n    if(typeof(smNum) != \"undefined\"){\r\n        hideMenuIdByTimeout(smNum);\r\n    }\r\n    if(typeof(evt) != \"undefined\"){\r\n        if(typeof(evt.cancelBubble) != \"undefined\"){\r\n            evt.cancelBubble = true;\r\n            if(typeof(evt.stopPropagation) == \"function\")\r\n                evt.stopPropagation();\r\n        }\r\n    }\r\n}\r\nfunction submoff(menuId){ \r\n    hideMenuIdByTimeout(menuId);\r\n}\r\nfunction ck(num,state){\r\n}\r\nfunction smclick(){\r\n    hideMenuAll();\r\n}"
          },
          "redirectURL": "",
          "headersSize": 251,
          "bodySize": 1554
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-05-31T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 8
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.631+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_mod_files/_css/common.css?_cv=5.12.4.0",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Mon, 22 Aug 2011 05:32:50 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.12.4.0"
            }
          ],
          "headersSize": 690,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Mon, 22 Aug 2011 05:32:50 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Thu, 31 May 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 42303,
            "text": "/* \n\t-- COMMON.CSS strucrure: --\n\t1. Reset browser's defaults styles\n\t2. Common styles\n\t3. Current design styles\n\t4. Navigation styles\n\t5. Modules\n\t6. E-commerce\n\t7. System\n*/\n\n/* 1. RESET BROWSER's DEFAULTS ****************************************************************************************************/\n\nhtml, body, div, span, object, iframe, h1, h2, h3, h4, h5, p, a, abbr, acronym, address, code, del, dfn, em, img, q, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, caption  {\n\tmargin: 0px;\n\tpadding: 0px;\n}\n\t\nh1, h2, h3, h4, h5 { margin: 0px 0px 8px 0px; }\n\np { margin: 0px 0px 12px 0px; padding: 0px; }\n\nul { padding: 0px; margin: 10px 0px 10px 40px;}\nol { padding: 0px; margin: 10px 0px 10px 45px; }\n\na img { border: none; }\n\ntable.dsn, table.dsn tbody, table.dsn tr, table.dsn th, table.dsn td { margin: 0; padding: 0; }\ntable.dsn { border-collapse: separate; border-spacing: 0; }\n\n.wrapper { position: relative; }\n\n.clear { clear: both; height: 0px; overflow: hidden; }\n\n/* END RESET BROWSER's DEFAULTS */\n\n\n/* 2. COMMON STYLES ****************************************************************************************************/\n\nbody { background-color:#ffffff; margin: 0px; padding: 0px; }\nbody, table, tr, td, p, a, input, select, textarea {color:#666666;font-family:Tahoma; font-size:13px; }\n\na {color:#419015;text-decoration:underline}\na:hover {color:#419015;text-decoration:none}\na:visited {color:#419015;}\n\nhr {background:#c0c0c0; height:1px; border:0px; color:#c0c0c0 }\n\nBLOCKQUOTE {margin-top:5px;margin-bottom:5px;margin-left:16px;margin-right:0px}\n\nh1, h1 a, h1 a:visited {color:#419015;font-size:1.3em;margin-bottom:5px; margin-top:5px; font-weight:normal;}\nh2, h2 a, h2 a:visited {color:#ffa052;font-size:1.2em;font-weight:bold; margin-bottom:5px; margin-top:5px;}\nh3, h3 a, h3 a:visited {color:#419015;font-size:1.2em;font-weight:bold; margin-bottom:5px; margin-top:5px;}\nh3 a:hover {color:#419015;font-size:1.4em;font-weight:bold; margin-bottom:5px; margin-top:5px;text-decoration:underline;}\nh4, h4 a, h4 a:visited {color:#ffa052;font-size:1em;font-weight:bold; margin-bottom:12px; margin-top:13px; text-transform:uppercase;}\nh5, h5 a, h5 a:visited {color:#ffa052;font-size:1.3em; margin-bottom:5px; margin-top:5px;font-weight:normal;}\n\np {margin-top:13px}\n/* COMMON STYLES FORM */\n\nFORM {  margin: 0px; }\nINPUT { FONT-SIZE:0.8em; BORDER: #ffa052;  height: 17px;}\n\nINPUT.txt, INPUT.field   {BORDER: #ffa052 1px solid; height: 17px;}\nINPUT.txt_noborder   { BORDER: #FFFFFF 0px solid; }\nINPUT.check { BORDER: 0px; }\n\ninput.btn {\n\tFONT-SIZE:0.85em; BACKGROUND: #ffa052; COLOR: #ffffff; FONT-WEIGHT: bold; BORDER: #419015 1px solid; \n\tcursor: pointer;\n}\n\nINPUT.btn_menu{FONT-SIZE:0.85em;BACKGROUND:#ffa052;COLOR:#ffffff;FONT-WEIGHT:bold;BORDER:#419015 1px solid;}\n\nSELECT, SELECT.sel  { FONT-SIZE:0.85em; BORDER: #ffa052 1px solid; }\nCHECKBOX, CHECKBOX.chb{ FONT-SIZE:0.85em; BORDER: #ffa052 1px solid; }\nTEXTAREA, TEXTAREA.ta { FONT-SIZE:0.85em; BORDER: #ffa052 1px solid; }\n\nbutton {\n\tfont: bold 0.95em arial, tahoma, verdana;\n\tbackground-color: #ff6600;\n\tborder: solid #ff6600 1px;\n\tcolor: #fff;\n\theight: 20px; line-height: 20px;\n\tcursor: pointer;\n\tmargin-right: 2px;\n}\n\n/* COMMON STYLES END FORM */\n\n\n/* COMMON STYLES TABLE */\n\nTABLE.tbl, TABLE.price {border-left:1px #DEDBDB solid;border-right:0px #DEDBDB solid;border-bottom:0px #DEDBDB solid}\nTABLE.tbl TD, TABLE.price TD {border-bottom:1px #DEDBDB solid;font-size:0.85em;padding:5px 8px 5px 8px;border-right:1px #DEDBDB solid;}\nTABLE.tbl TH, TABLE.price TH {border-right:1px #DEDBDB solid;color:#000000; background-color:#f2f0f0;font-size:0.85em;padding:5px 8px 5px 8px;border-top:1px #DEDBDB solid;border-bottom:1px #DEDBDB solid;}\n\n/* COMMON STYLES END TABLE */\n\n.small, .small a { font-size: 0.85em; }\n.top_tool_bar, .bottom_line {background-color:#C5C5C5;width:60%}\n\n.wd1 { width: 50px !important; }\n.wd2 { width: 110px !important; }\n.wd3 { width: 150px !important; }\n.wd4 { width: 200px !important; }\n.wd5 { width: 250px !important; }\n.wd6 { width: 500px !important; }\n.wd7 { width: 100% !important; }\n.wd-full { width: 100% !important; }\n\n.sz1 { font-size: .5em !important; }\n.sz2 { font-size: .6em !important; }\n.sz3 { font-size: .7em !important; }\n.sz4 { font-size: .9em !important; }\n.sz5 { font-size: 1em !important; }\n.sz6 { font-size: 1.2em !important; }\n.sz7 { font-size: 1.3em !important; }\n.sz8 { font-size: 1.5em !important; }\n.sz9 { font-size: 2em !important; }\n\n/* END COMMON STYLES */\n\n\n/* 3. CURRENT DESIGN STYLES START ****************************************************************************************************/\n\ntable.icons {margin-top:2px}\n.icons a img {display:block; margin: 5px 20px}\n.logo_img {padding:0px 10px}\n\n\nTABLE.info_blok {font-size:0.85em;border:1px #89C6D7 solid;margin:2px;}\nTABLE.info_blok TH {color:#000000;border:0px; background-color:#89C6D7;font-size:0.95em;padding:5px 8px 5px 8px}\nTABLE.info_blok TD {border:0px;font-size:0.85em;padding:5px 8px 5px 8px}\nTABLE.info_blok td h1, TABLE.info_blok td h1 a, TABLE.info_blok td h1 a:hover, TABLE.info_blok td h1 a:visited {font-size:1.2em;font-weight:bold; margin-bottom:5px; margin-top:5px;}\nTABLE.info_blok td h2, TABLE.info_blok td h2 a, TABLE.info_blok td h2 a:hover, TABLE.info_blok td h2 a:visited {font-size:1.1em;font-weight:bold; margin-bottom:5px; margin-top:5px;}\nTABLE.info_blok td h3, TABLE.info_blok td h3 a, TABLE.info_blok td h3 a:hover, TABLE.info_blok td h3 a:visited {font-size:1em;font-weight:bold; margin-bottom:5px; margin-top:5px;}\nTABLE.info_blok td h4, TABLE.info_blok td h4 a, TABLE.info_blok td h4 a:hover, TABLE.info_blok td h4 a:visited {font-size:0.95em;font-weight:bold; margin-bottom:5px; margin-top:5px;}\nTABLE.info_blok td h5, TABLE.info_blok td h5 a, TABLE.info_blok td h5 a:hover, TABLE.info_blok td h5 a:visited {font-size:0.85em;font-weight:normal; margin-bottom:5px; margin-top:5px;}\nTABLE.info_blok a {font-size:0.85em;}\nTABLE.info_blok a:hover{font-size:0.85em;}\nTABLE.info_blok a:visited{font-size:0.85em;}\n\n/* MODULES TAGS */\na.tag_level_1 {font-size:80%}\na.tag_level_2 {font-size:90%}\na.tag_level_3{font-size:110%}\na.tag_level_4{font-size:120%}\na.tag_level_5{font-size:130%}\n/* MODULES END TAGS */\n\n.footer {line-height: 15px; padding-top: 12px; text-align: right;}\n#lay_f2 h5 { margin-top: 10px;}\n\n.blog_title { width: 195px; text-align: left;}\n.header_icons { \nbackground: #419015; \npadding: 18px 0 0 0; \noverflow: hidden; \ntext-align: right; \nvertical-align: bottom;\nzoom: 1;\n}\n\n.header_icons  a {\nfloat:right;\npadding:5px 20px;\n}\n\n.title_img { padding-left: 44px; text-align: right; width: 336px; }\n.title_img img { margin: 5px 0;}\n.title_sticers { padding: 47px 40px 0 50px; text-align: right; vertical-align: top;}\n\n\n/* CURRENT DESIGN STYLES END */\n\n\n/* 4. NAVIGATION STYLES (Menus, Sitemaps, etc.) ****************************************************************************************************/\n\n/* NAVIGATION STYLES TOP MENU */\n\n.top_menu, .top_menu a, .top_menu a:visited {font-size:0.95em; color:#ffa052;text-decoration:none;font-weight:bold}\n.top_menu a:hover {color:#ffa052;text-decoration:none;font-weight:bold;font-size:0.95em;}\n.top_menu a:active{font-size:0.95em; color:#ffa052;text-decoration:underline;font-weight:bold}\n\n/* NAVIGATION STYLES END TOP MENU */\n\n\n/* NAVIGATION STYLES BOTTOM MENU */\n.bottom_menu TD {}\n.bottom_menu a, .bottom_menu a:visited, .bottom_menu a:active{font-size:1.2em;color:#419015;text-decoration:none; font-weight:normal}\n.bottom_menu a:hover{color:#419015;text-decoration:underline;font-weight:normal}\n\n/* NAVIGATION STYLES END BOTTOM MENU */\n\n\n/* NAVIGATION STYLES MAIN MENU */\n.main_menu {}\n.main_menu TD{ }\n\n.main_menu a:link, .main_menu a:visited, .main_menu a:active, .main_menu a:hover {\n\tdisplay: block;\n\tpadding: 5px 15px;\n\twidth: 185px; \n\tbackground: #dff1d8;\n\tfont-size:1.1em;\n\tcolor: #000;\n\ttext-decoration: none;\n}\n.main_menu a:hover { background: #c9f1be; }\n\n* html .main_menu a:link { width: 215px; } * html .main_menu a:visited { width: 215px; }\n* html .main_menu a:active { width: 215px; } * html .main_menu a:hover { width: 215px; }\n\n.main_menu a.item_active { background: #c9f1be !important; }\n\n.main_menu td.splitter { height: 4px; line-height: 4px; background: #fff; }\n\n.main_menu a.have_sub { \n\tbackground-image: url('../ce_images/str.gif') !important;\n\tbackground-position: 100% 0px !important; \n\tbackground-repeat: no-repeat !important; }\n\n.submenu { \n\tposition:absolute; \t\n\tz-index: 999;\n\tleft: 0; top:0; \n\tdisplay: none; \n\twidth:auto; \n}\n\n.pd_menu {}\n.pd_menu td {}\n.pd_menu td.splitter { height: 1px; line-height: 1px;  background: #fff; }\n\n.pd_menu a:link, .pd_menu a:visited, .pd_menu a:active, .pd_menu a:hover {\n\tdisplay: block;\n\tpadding: 4px 10px;\n\twidth: 150px;\n\tfont-size: 0.85em;\n\tbackground: #dff1d8;\n\tcolor: #000;\n\ttext-decoration: none;\n}\n.pd_menu a:hover { background: #c9f1be; }\n\n* html .pd_menu a:link { width: 170px; } * html .pd_menu a:visited { width: 170px; }\n* html .pd_menu a:active { width: 170px; } * html .pd_menu a:hover { width: 170px; }\n\n.pd_menu a.subitem_active { background: #c9f1be !important; }\n\n.pd_menu a.have_sub { \n\tbackground-image: url('../ce_images/str.gif') !important;\n\tbackground-position: 100% -2px !important; \n\tbackground-repeat: no-repeat !important; \n}\n\n/* NAVIGATION STYLES END MAIN MENU */\n\n\n/* NAVIGATION STYLES MEMBER MENU */\n\n.member_menu { margin-top: 10px; border: solid red 0px; }\n.member_menu td { padding-left: 0px; padding-right: 10px;}\n.member_menu  a {\tfont: normal 12px arial, tahoma, verdana; color: #666 !important; text-decoration: none;}\n.member_menu  a:hover { text-decoration: underline; }\n\n.member_small_block_body { }\n.member_balance{ }\n.member_small_menu_info_logged_body, .member_small_menu_info_not_logged_body { border-bottom: 1px solid #C0C0C0;padding: 0 0 3px 0;}\n.member_small_menu_info_not_logged_body {\ncolor:#419015;\nfont-size: 1.2em;\nfont-weight:bold;\nmargin-bottom:5px;\nmargin-top:5px;\n}\n.member_small_menu_info_logged_body { color:#419015;}\n\n/* NAVIGATION STYLES END MEMBER MENU */\n\n\n/* NAVIGATION STYLES SITE MAP, SECTION MAP */\n\n.sm_tree {  }\n\n.sm_tree .sm_level_1 {  }\n.sm_tree .sm_level_1 a:link, \n.sm_tree .sm_level_1 a:visited, \n.sm_tree .sm_level_1 a:active, \n.sm_tree .sm_level_1 a:hover { font-size: 1.1em; }\n.sm_level_1 .sm_tree_item_selected { font-size: 1.1em; }\n\n.sm_tree .sm_level_2 { margin-left: 15px; }\n.sm_tree .sm_level_2 a:link, \n.sm_tree .sm_level_2 a:visited, \n.sm_tree .sm_level_2 a:active, \n.sm_tree .sm_level_2 a:hover { font-size: 1.1em; }\n.sm_level_2 .sm_tree_item_selected { font-size: 1.1em; }\n\n.sm_tree .sm_level_3 { margin-left: 25px; }\n.sm_tree .sm_level_3 a:link, \n.sm_tree .sm_level_3 a:visited, \n.sm_tree .sm_level_3 a:active, \n.sm_tree .sm_level_3 a:hover { font-size: 1.1em; }\n.sm_level_3 .sm_tree_item_selected { font-size: 1.1em; }\n\n.sm_tree .sm_tree_item_selected { font-weight: bold; }\n\n.sm_imaged_tree { }\n\n.sm_imaged_tree  .sm_imaged_item_normal_1, .sm_imaged_tree  .sm_imaged_item_active_1,\n.sm_imaged_tree  .sm_imaged_item_normal_2, .sm_imaged_tree  .sm_imaged_item_active_2,\n.sm_imaged_tree  .sm_imaged_item_normal_3, .sm_imaged_tree  .sm_imaged_item_active_3 { \n\tpadding-left: 7px; \n\tline-height: 19px;\n}\n\n/* NAVIGATION STYLES END SITE MAP, SECTION MAP */\n\n\n/* NAVIGATION STYLES PAGER */\n/*.page_header {display:block; margin-bottom:-25px; float:left;}*/\n\n.pager { font-size: 1.1em; margin-top: 30px; text-align: left; }\n\n.pager .pager_sibl_pages { font-size: 1.1em  }\n.pager .pager_sibl_pages span { font-weight: bold; }\n\n.pager .pager_pages { margin: 10px 0px; padding: 4px 0px;  }\n\na.pager_sibl:link, a.pager_sibl:active, a.pager_sibl:visited, a.pager_sibl:hover,\na.pager_fin:link, a.pager_fin:active, a.pager_fin:visited, a.pager_fin:hover  {\n\tfont-size: 1.1em;\n\ttext-decoration: none;\n\tfont-weight: normal;\n}\na.pager_sibl:hover, a.pager_fin:hover  { text-decoration: underline; }\n\na.pager_block:link, a.pager_block:active, a.pager_block:visited, \na.pager_block:hover, .pager_active, .pager_dotdot  {\n\tmargin-right: 3px;\n\tpadding: 2px 6px;\n\tfont-size: 1.1em;\n\ttext-decoration: none;\n\ttext-align: center;\n\tbackground-color: #f2f2f2;\n}\na.pager_block:hover { background-color: #ccc; }\n\n.pager .pager_active { font-size: 1.1em; color: #f9f9f9;\tbackground-color: #666;}\n\n.pager span.pages_nav_split { font-size: 1.1em; font-weight: normal; padding: 0px 5px; }\n\n.pager_item_details { }\n\n.pager_item_details .pager_showall  { margin-top: 10px; }\n\n/* NAVIGATION STYLES END PAGER */\n\n/* NAVIGATION STYLES PAGES */\n\n.pages_path { padding: 0 0 10px 0;  }\n.pages_path h1 { margin: 0px 0px 20px 0px; }\n\n.pages_nav_bar {  }\n\n.pages_sibl_bar { text-align: center; margin: 0px 0px 20px 0px; }\n\n.pages_name {  }\n.pages_name h3 {  }\n\na.pages_print_version:link, a.pages_print_version:visited, \na.pages_print_version:active, a.pages_print_version:hover {\n\tdisplay: block;\n\tmargin: 40px 0px 0px 0px;\n}\n\na.pages_print_version img { margin-right: 8px; }\n\n/* NAVIGATION STYLES END PAGES */\n\n/* NAVIGATION STYLES (Menus, Sitemaps, etc.) */\n\n\n/* 5. MODULES ****************************************************************************************************/\n\n/* MODULES VOTES */\n\n.vote_res_small_on {background-color:#A6A4A4;border-top:1px #787878 solid;border-bottom:1px #787878 solid;}\n.vote_res_on {background-color:#A6A4A4;border-top:1px #787878 solid;border-bottom:1px #33626f solid;}\n.vote_res_small_off {border-top:1px #787878 solid;border-bottom:1px #787878 solid;}\n.vote_res_off {border-top:1px #787878 solid;border-bottom:1px #787878 solid;}\n\n/* MODULES END VOTES */\n\n\n/* MODULES KNOWLEDGE BASE */\n\n.kb_item_row_name { margin-bottom: 5px; }\n.kb_item_row_announce {  }\n.kb_item_row_announce p { margin: 0px; padding: 0px; }\n\n/* MODULES END KNOWLEDGE BASE */\n\n/* MODULES BLOG */\n\n.blog IMG {margin:3px;border:#ff0000 0px solid;}\n\n/* MODULES END BLOG */\n\n\n/*MODULES NEWS STYLES */\n\n.small_news { }\n.small_news_item_row {  }\n.small_news_urgent_item_row { color: #ff0000; }\n.small_news_item_date { display: inline; }\n.small_news_item_time { }\n.small_news_item_header { display: inline; }\n.small_news_item_announce { }\n.small_news_rss { }\n\n.news { }\n.news_item_row {  }\n.news_item_date {  }\n.news_item_time {  }\n.news_item_header {  }\n.news_item_announce {  margin:5px 0px 12px 0px }\n\n.news_item_row {  }\n.news_urgent_item_date {  }\n.news_urgent_item_time {  }\n.news_urgent_item_header { margin-bottom: 5px; }\n.news_urgent_item_announce {  }\n\n.news_urgent_item_announce p, .news_item_announce p { margin: 0px; padding: 0px; margin-bottom: 10px; }\n\n.news_rss { }\n\n/* MODULES END NEWS STYLES */\n\n\n/* MODULES ARTICLES STYLES */\n\n.small_articles {  }\n.small_articles_item_row {  }\n.small_articles_item_date { display: inline; }\n.small_articles_item_header { display: inline; }\n.small_articles_rss { }\n\n\n.articles {  }\n\n.articles_cat_name { display: inline; }\n.articles_cat_name a { font-size: 1.2em; }\n.articles_cat_num_items { display: inline; }\n.articles_cat_announce {  }\n.articles_cat_announce p { margin: 0; padding: 0; }\n.articles_urgent_cat_name {  }\n.articles_urgent_cat_num_items {  }\n.articles_urgent_cat_announce {  }\n    \n.articles_item_row {  }\n.articles_item_date {  }\n.articles_item_header {  }\n.articles_rss { }\n\n/* MODULES END ARTICLES STYLES */\n\n\n/* MODULES STICKERS */\n\n.stickers { }\n.stickers td { vertical-align: top; text-align: left; }\n.stickers .small_row { border: 0px; }\n.stickers .small_row_dashed { border: dashed #ccc 1px; }\n\n.stickers .small_header { line-height: 16px;}\n.stickers .small_header a { text-decoration: none; border-bottom: dashed 1px;}\n\n.stickers .small_announce { padding: 3px; }\n\n.stickers .small_Hsplitter img { width: 20px; height: 1px; }\n.stickers .small_Vsplitter img { width: 1px; height: 20px; }\n\n/* MODULES END STICKERS */\n\n/* MODULES PHOTOALBUM */\n\n.photoalbum { width: 100%; }\n\n.photoalbum_path { margin-bottom: 10px; font-size: 0.95em; }\n.photoalbum_path A { font-size: 0.95em !important; }\n\n.photoalbum .cat_body { margin: 0px 0px 10px 0px; }\n\n/* categories */\n\n.photoalbum .urgent_cat_list { margin-bottom: 30px; }\n.photoalbum .urgent_cat_list td { background: #eee; }\n.photoalbum .cat_list { width: 100%; }\n\n.photoalbum .urgent_cat_row { padding: 10px 15px; }\n.photoalbum .cat_row { width: 25%; padding: 10px 15px;}\n\n.photoalbum .cat_row a.name:link, .photoalbum .cat_row a.name:visited,\n.photoalbum .cat_row a.name:active, .photoalbum .cat_row a.name:hover,\n.photoalbum .urgent_cat_row a.name:link, .photoalbum .urgent_cat_row a.name:visited,\n.photoalbum .urgent_cat_row a.name:active, .photoalbum .urgent_cat_row a.name:hover {\n\tdisplay: block;\n\tfont-size: 1.4em;\n\tmargin-bottom: 10px;\n}\n\n.photoalbum .cat_row a.small_picture_wrapper, .photoalbum .urgent_cat_row a.small_picture_wrapper {\n\tborder: solid #fff 1px;\n\tdisplay: block;\n\tmargin: 0px 0px 10px 0px;\n}\n\n.photoalbum .cat_row .announce, .photoalbum .urgent_cat_row  .announce { padding: 0px 0px 10px 0px; }\n\n.photoalbum .cat_row .rating, .photoalbum .urgent_cat_row .rating {\n\tclear: both; margin: 0px 0px 10px 0px;\n}\n\n.photoalbum .cat_row .num_photos, .photoalbum .urgent_cat_row .num_photos {\n\tclear: both;\n\tfont-size: 0.85em;\n\tfont-style: italic;\n}\n\n/* items */\n\n.photoalbum .urgent_item_list { margin-bottom: 30px; }\n.photoalbum .item_list, .photoalbum .browse_item_list {  }\n\n.photoalbum .browse_item_list { margin: 30px auto 0px; }\n.photoalbum .browse_item_list .active { background: #eee; }\n\n.photoalbum .urgent_item_row { vertical-align: top; background: #eee; padding: 10px 15px; }\n.photoalbum .item_row { width: 25%; vertical-align: top;  padding: 10px 15px; }\n.photoalbum .browse_item_row { vertical-align: top; width: 30%; padding: 10px 15px; }\n\n.photoalbum .item_row a.header:link, .photoalbum .item_row a.header:visited,\n.photoalbum .item_row a.header:active, .photoalbum .item_row a.header:hover,\n.photoalbum .browse_item_row a.header:link, .photoalbum .browse_item_row a.header:visited,\n.photoalbum .browse_item_row a.header:active, .photoalbum .browse_item_row a.header:hover,\n.photoalbum .urgent_item_row a.header:link, .photoalbum .urgent_item_row a.header:visited,\n.photoalbum .urgent_item_row a.header:active, .photoalbum .urgent_item_row a.header:hover  {\n\tdisplay: block;\n\tfont-size: 1.4em;\n\tmargin-bottom: 10px;\n}\n\n.photoalbum .item_row a.small_picture_wrapper, .photoalbum .urgent_item_row a.small_picture_wrapper,\n.photoalbum .browse_item_row a.small_picture_wrapper {\n\tdisplay: block !important;\n\tmargin: 0px 0px 10px 0px  !important;;\n}\n\n.photoalbum .urgent_item_row .announce, .photoalbum .item_row .announce,\n.photoalbum .browse_item_row .announce { margin: 0px 0px 10px 0px; }\n\n.photoalbum .urgent_item_row .forum, .photoalbum .item_row .forum,\n.photoalbum .browse_item_row .forum {\tpadding: 10px 0px 0px 0px; }\n\n.photoalbum .item_hSplitter img { width: 10px; }\n.photoalbum .item_vSplitter img { height: 20px; }\n\n/* item details */\n\n.photoalbum .sibl_pages { text-align: right; }\n\n.photo_info {\n\tposition: relative;\n\tmargin: 0 auto;\n\tmargin-top: 25px;\n}\n\n.photoalbum .item_details .header { font-size: 1.4em; padding: 0px 0px 10px 0px; }\n\n.photoalbum .item_details a.enlarge {\n\tdisplay: block;\n\ttext-align: center;\n\tmargin: 5px 0px 0px 0px;\n}\n\n.photoalbum .body { margin: 20px 0px; }\n\n.photoalbum .item_details .forum { padding: 10px 0px 0px 0px; }\n.photoalbum .item_details .rating {  }\n\n\n/* small */\n\n.photoalbum_small_list {  }\n.photoalbum_small_list .small_row { }\n\n.photoalbum_small_list a.header:link, .photoalbum_small_list a.header:visited,\n.photoalbum_small_list a.header:active, .photoalbum_small_list a.header:hover {\n\tdisplay: block;\n\tfont-size: 1.4em;\n\tmargin-bottom: 10px;\n}\n\n.photoalbum_small_list a.small_picture_wrapper { display: block; }\n\n.photoalbum_small_list  .announce { margin: 10px 0px }\n.photoalbum_small_list  .rating {  }\n.photoalbum_small_list  .forum { margin: 10px 0px 0px 0px; }\n\n.photoalbum_small_list .small_Vsplitter img { height: 20px; }\n.photoalbum_small_list .small_Hsplitter img { width: 10px; }\n\n/* MODULES END PHOTOALBUM */\n\n/* END MODULES */\n\n\n/* 6. E-COMMERCE ****************************************************************************************************/\n\n.eshop_image { /*width: 64px;*/ float:left; margin-top:3px;margin-right:15px;}\n.eshop_image_click {margin-top:3px;margin-right:5px;border: 0px #33626F solid;}\n\n.views_browse {border-top: 1px #e0e0e0 solid;border-right: 1px #e0e0e0 solid;}\n.views_browse TD {border-bottom: 1px #e0e0e0 solid;border-left: 1px #e0e0e0 solid;}\n\n.currency_block {font-size:0.8em; color:#000000; font-weight:bold;}\n\n.row1 {}\n.row2 {}\n\n.spec_eshop_cart { font: normal 11px arial, tahoma, verdana; color: #fff; }\n.spec_eshop_cart a:link, .spec_eshop_cart a:visited, .spec_eshop_cart a:active, .spec_eshop_cart a:hover {\n\tfont: normal 0.85em arial, tahoma, verdana;\n}\n\n/* E-COMMERCE TREE LINKS */\n\n.spec_eshop_tree_links { line-height: 1.5em;  }\n.spec_eshop_tree_links .item_popup_picture {}\n.spec_eshop_tree_links .item_small_picture {}\n.spec_eshop_tree_links .item_picture {}\n\n.spec_eshop_tree_links .level_0  {  }\n.spec_eshop_tree_links .level_0  a:link , .spec_eshop_tree_links .level_0  a:visited,\n.spec_eshop_tree_links .level_0  a:active, .spec_eshop_tree_links .level_0  a:hover  { \n\ttext-decoration: underline; \n\tfont-size: 1.2em; \n\ttext-transform: uppercase; \n}\n.spec_eshop_tree_links .level_0  a:hover { text-decoration: none; }\n.spec_eshop_tree_links .level_0 .item_normal {  }\n.spec_eshop_tree_links .level_0 .item_selected { }\n\n.spec_eshop_tree_links .level_1 {  }\n.spec_eshop_tree_links .level_1 .item_normal {  }\n.spec_eshop_tree_links .level_1 .item_selected {  }\n.spec_eshop_tree_links .level_1  a:link , .spec_eshop_tree_links .level_1 a:visited,\n.spec_eshop_tree_links .level_1  a:active, .spec_eshop_tree_links .level_1  a:hover  { \n\ttext-decoration: underline; \n\tfont-size: 1em; \n\ttext-transform: none; \n}\n.spec_eshop_tree_links .level_1  a:hover { text-decoration: none; }\n\n.spec_eshop_tree_links .level_2 { margin-left: 15px; }\n.spec_eshop_tree_links .level_2 .item_normal { }\n.spec_eshop_tree_links .level_2 .item_selected {  }\n.spec_eshop_tree_links .level_2  a:link , .spec_eshop_tree_links .level_2 a:visited,\n.spec_eshop_tree_links .level_2  a:active, .spec_eshop_tree_links .level_2  a:hover  { \n\ttext-decoration: underline; \n\tfont-size: .9em; \n\ttext-transform: none; \n}\n.spec_eshop_tree_links .level_2  a:hover { text-decoration: none; }\n\n\n.spec_eshop_tree_links .level_3 { margin-left: 15px; }\n.spec_eshop_tree_links .level_3 .item_normal { }\n.spec_eshop_tree_links .level_3 .item_selected {  }\n.spec_eshop_tree_links .level_3  a:link , .spec_eshop_tree_links .level_3 a:visited,\n.spec_eshop_tree_links .level_3  a:active, .spec_eshop_tree_links .level_3  a:hover  { \n\ttext-decoration: underline; \n\tfont-size: .9em; \n\ttext-transform: none; \n}\n.spec_eshop_tree_links .level_3  a:hover { text-decoration: none; }\n\n.spec_eshop_tree_links2 { width: 90%; margin: 0 auto;}\n.spec_eshop_tree_links2 .lev1 { }\n.spec_eshop_tree_links2 .lev2 { }\n.spec_eshop_tree_links2 .item_normal { }\n.spec_eshop_tree_links2.item_selected { }\n\n.spec_eshop_tree_links2 .lev1 a:link, \n.spec_eshop_tree_links2 .lev1 a:visited, \n.spec_eshop_tree_links2 .lev1 a:active, \n.spec_eshop_tree_links2 .lev1 a:hover { font: bold 14px arial, tahoma, verdana;\ttext-transform: uppercase; }\n\n.spec_eshop_tree_links2 .lev2 a:link, \n.spec_eshop_tree_links2 .lev2 a:visited, \n.spec_eshop_tree_links2 .lev2 a:active, \n.spec_eshop_tree_links2 .lev2 a:hover { font: normal 0.8em arial, tahoma, verdana; }\n\n.spec_eshop_tree_links2 .item_small_picture { float: left; margin-right: 20px; }\n\n/* E-COMMERCE END TREE LINKS */\n\n\n/* E-COMMERCE Categories list sets */\n\n.catD_row { vertical-align: top; width: 50%; }\n.catD_row .cat_small_picture { margin-right: 20px; }\n.catD_row .catD_name {}\n.catD_row .catD_subcategory_list { margin-top: 10px; }\n.catD_row .catD_count_items { padding: 0px 5px; }\n.catD_row a.catD_name:link, .catD_row a.catD_name:active, \n.catD_row a.catD_name:visited, .catD_row a.catD_name:hover { font-size: 1.4em; }\n.catD_row .cat_small_picture { margin-right: 15px; }\n\n.catD_Hsplitter img { width: 10px; }\n.catD_Vsplitter img { height: 25px; }\n\n/* E-COMMERCE End Categories list sets */\n\n\n/* E-COMMERCE ITEM LIST CLASSES */\n\n.eshop_list_item_row { }\n.eshop_list_item_row a.name:link, .eshop_list_item_row a.name:active,\n.eshop_list_item_row a.name:visited, .eshop_list_item_row a.name:hover { \n\tdisplay: block; \n\tmargin-bottom: 10px;\n\tfont-size: 1.4em; \n}\n.eshop_list_item_row .small_picture_wrapper {  }\n.eshop_list_item_row .announce {  }\n.eshop_list_item_row .custom_fiels { margin-top: 10px; }\n.eshop_list_item_row .digitals {  }\n.eshop_list_item_row .prices {  }\n.eshop_list_item_row .forum { }\n.eshop_list_item_row .rating { margin-top: 15px; }\n.eshop_list_item_row .addtocomparsion { margin-top: 10px; }\n.eshop_list_item_row .addtocomparsion a { font-size: 0.85em; }\n\n.eshop_list_item_row .search_path { margin-bottom: 10px; }\n\n.eshop_list_item_row .search_path a.name { display: inline !important; margin: 0px !important; }\n\n.eshop_list_item_row .index { font-weight: bold; font-size: 0.95em; }\n\n.eshop_cat_item_nSplitter {}\n\n.eshop_cat_item_Hsplitter, .eshop_cat_cat_item_Hsplitter {\n\twidth: 1px;\n\tbackground: #d9d9d9;\n\tborder-left: solid #fff 20px;\n\tborder-right: solid #fff 20px;\n}\n\n.eshop_cat_item_Vsplitter, .eshop_cat_cat_item_Vsplitter {\n\theight: 1px;\n\tbackground: #d9d9d9;\n\tborder-top: solid #fff 20px;\n\tborder-bottom: solid #fff 20px;\n}\n\n.eshop_cat_cat_item_Hsplitter {\n\tborder-left: solid #f9f9f9 20px;\n\tborder-right: solid #f9f9f9 20px;\n}\n\n.eshop_cat_cat_item_Vsplitter { \n\tborder-top: solid #f9f9f9 20px; \n\tborder-bottom: solid #f9f9f9 20px; \n\n}\n\n.eshop_cat_item_list {\n\tbackground: #f9f9f9;\n\tpadding: 10px;\n\tmargin-top: 15px;\n}\n.eshop_cat_item_list .header {\n\tdisplay: block;\n\tmargin-bottom: 10px;\n}\n\n/* E-COMMERCE END ITEM LIST CLASSES */\n\n\n/* E-COMMERCE PRICES */\n\n.item_base_price, .search_item_base_price { padding: 15px 0px; }\n.item_other_price { padding-bottom: 15px; }\n\n.item_base_price .price_caption, .item_other_price .price_caption { font-weight: bold; padding-right: 10px; }\n.item_base_price .price_original, .item_other_price .price_original { font-size: 1.2em; color:#777; font-weight: bold; text-decoration: line-through; margin-right: 10px; }\n\n.item_base_price .price_price, .item_other_price .price_price { font-size: 1.2em; color:#F7941C; font-weight: bold; }\n.item_base_price .price_difference, .item_other_price .price_difference {  }\n.item_base_price  .price_null, .item_other_price  .price_null { font-size: 1.2em; color:#F7941C; font-weight: bold; }\n\n.item_base_price .buy_form, .item_other_price .buy_form { margin-left: 10px; display: inline; }\n.item_base_price .txt, .item_other_price .txt { width: 30px; }\n.item_base_price .price_txt { margin-right: 10px; }\n\n/* E-COMMERCE END PRICES */\n\n\n/* E-COMMERCE ITEM DETAILS */\n\n.itemD_detail { width: 100%; }\n.itemD_detail .name { font-size: 1.4em; margin-bottom: 20px;}\n\n.itemD_detail .small_picture_wrapper {}\n.itemD_detail .itemD_small_picture { float: left; margin-right: 15px; }\n.itemD_detail .itemD_picture {  } \n.itemD_detail .itemD_popup_picture {  }\n\n.itemD_detail .custom_field_all { margin-bottom: 30px; }\n.itemD_detail .base_price {  }\n.itemD_detail .other_prices {  }\n.itemD_detail .add_to_comparison { margin-top: 40px; }\n.itemD_detail .eshop_digitals_info { clear: both; }\n.itemD_detail .description { background: #f5f5f5; padding: 5px 10px; margin-bottom: 10px; }\n.itemD_detail .property_data {  }\n.itemD_detail .forum { clear: both; overflow: hidden; margin-top: 25px; }\n.itemD_detail .rating { margin-top: 15px; }\n\n.itemD_detail .itemD_custom_field_multi_list {  }\n\n.itemD_detail .itemD_custom_field_multi_related_items_list {\n\tclear: both;\n\toverflow: hidden;\n\tmargin-top: 20px;\n}\n.itemD_detail .itemD_custom_field_multi_related_items, .itemD_detail .itemD_custom_field_multi_related_cats {\n\tmargin-right: 30px;\n\tfloat: left;\n\ttext-align: center;\n}\n\n/* E-COMMERCE END ITEM DETAILS */\n\n\n/* E-COMMERCE HOME */\n\n.eshop_list_small_special_row { }\n.eshop_list_small_special_row a.name:link, .eshop_list_small_special_row a.name:active,\n.eshop_list_small_special_row a.name:visited, .eshop_list_small_special_row a.name:hover { \n\tdisplay: block; \n\tmargin-bottom: 10px;\n\tfont-size: 1.1em; \n}\n.eshop_list_small_special_row .small_picture_wrapper { padding-right: 10px; }\n.eshop_list_small_special_row .announce {  }\n.eshop_list_small_special_row .spec_announce { margin-top: 10px; font-size: 0.85em; }\n.eshop_list_small_special_row .custom_fiels { margin-top: 10px; }\n.eshop_list_small_special_row .digitals { font-size: 0.85em; }\n.eshop_list_small_special_row .prices {  }\n.eshop_list_small_special_row .rating { font-size: 0.9em; margin-top: 15px; }\n.eshop_list_small_special_row .addtocomparsion { margin-top: 20px; }\n.eshop_list_small_special_row .addtocomparsion a { font-size: 0.85em; }\n\n\n.small_special_base_price, .small_special_base_price_variable, .small_special_base_price_null { padding-bottom: 10px; }\n.small_special_other_prices, .small_special_other_prices_null {}\n\n.small_special_base_price .price_caption, .small_special_other_prices .price_caption,\n.small_special_base_price_variable .price_caption, .small_special_base_price_null .price_caption,\n.small_special_other_prices_null .price_caption { font-weight: bold; padding-right: 10px;  }\n\n.small_special_base_price .price_original,\n.small_special_other_prices .price_original { font-size: 1.1em; color:#777; font-weight: bold; text-decoration: line-through; margin-right: 10px; }\n\n.small_special_base_price .price_price,\n.small_special_other_prices .price_price { font-size: 1.1em; color:#F7941C; font-weight: bold; }\n\n.small_special_base_price .price_difference, .small_special_other_prices .price_difference {  }\n\n.small_special_base_price .buy_form, .small_special_other_prices .buy_form  { margin-left: 10px; display: inline; }\n\n.small_special_base_price .txt, .small_special_other_prices .txt { width: 30px; }\n\n.small_special_base_price_null .price_null, .small_special_other_prices_null .price_null {\n\tfont-size: 1.1em; color:#F7941C; font-weight: bold;\n}\n\n.small_special_base_price_variable .price_txt { margin-right: 10px; }\n\n/* E-COMMERCE END HOME */\n\n\n/* E-COMMERCE FILTER BOX */\n\n.filter_box { background-color: #F9F9F9;  border: solid #d9d9d9 1px; padding: 10px; margin-bottom: 20px; }\n.filter_box td { font-size: 0.8em;}\n.filter_box .txt {width:50px}\n.search_box { }\n\n.filter_box_caption { margin-right: 5px; }\n.filter_box .sel, .filter_box .check, .filter_box .txt { vertical-align: middle; }\n\n.filter_box_row td { }\n.filter_box_prop_row td { padding-right: 15px; }\n\n.filter_box_hsplitter { width: 20px; }\n.filter_box_vsplitter { height: 10px; }\n\n/* E-COMMERCE END FILTER BOX */\n\n\n/* E-COMMERCE CAT PATH */\n\n.cat_path { margin-bottom: 25px; font-size: 1.4em; }\n.cat_path A { font-size: 1.1em; }\n\n/* E-COMMERCE END CAT PATH */\n\n\n/* E-COMMERCE References */\n\n.ref_small_item {}\n.ref_small_splitter { height: 5px; line-height: 5px; }\n\n/* E-COMMERCE End References  */\n\n\n/* E-COMMERCE SORT BOX */\n\n.items_sort { text-align: right; padding: 20px 0px; }\n\n/* E-COMMERCE END SORT BOX */\n\n\n/* E-COMMERCE COMPARE */\n\nTABLE.compare {border-left:1px #dddddd solid;border-top:1px #dddddd solid}\nTABLE.compare TD {border:0px;color:#848484}\nTABLE.compare TR {border-bottom:1px solid #dddddd;}\nTABLE.compare TD {border-bottom:1px solid #dddddd;border-right:1px solid #dddddd; font-size:0.85em;padding:5px 8px 5px 8px}\na.comp_del,a.comp_del:visited {background:#ff6600;color:#ffffff;font-weight:bold;text-decoration:none;padding:0px 5px}\na.comp_del:hover{color:#ffffff;text-decoration:none;}\ntr .sel {background:#eeeeee} \n\n.compare_script_bottom { padding: 35px 0px 15px 0px; }\n\n/* E-COMMERCE END COMPARE */\n\n/* END E-COMMERCE */\n\n\n/* 7. SYSTEM ****************************************************************************************************/\n\ntable#sign{width:100%;height:40px}\ntable#sign td{text-align:right;font-family:Verdana; font-size:0.8em; color:#419015; padding-left:5px}\ntable#sign A, table#sign A:hover, table#sign A:visited {color:#419015;text-decoration:underline; font-size:0.85em;}\n\n#stat {display:none;}\n#sp {display:none;}\n\n.AlertWindow, #status_message {\n\tposition:fixed;\n\tpadding:20px;\n\tfont-size:14px;\n\tvisibility:hidden;\n\tborder:2px #fff solid;\n\t-moz-border-radius: 10px;\n\t-webkit-border-radius: 10px;\n\tborder-radius: 10px;\n\t-moz-box-shadow: 0px 0px 10px 3px #ccc;\n\t-webkit-box-shadow: 0px 0px 10px 3px #ccc;\n\tbox-shadow: 0px 0px 10px 3px #ccc;\n\tz-index:10000;\n\ttop: 50%;\n\t//text-align: center;\n\t//border:2px #E8E8E8 solid;\n\t//position: absolute;\n\t//top: expression(document.getElementsByTagName( 'body' )[0].scrollTop) + (AMI.Browser.getWindowHeight() / 2);\n\t//width: 450px;\n\t//left: 50%;\n\t//margin-left: -250px;\n}\n\n.status_error {background:#ffb0b0;} \n.status_normal {background:#b0efff;} \n.status_notice {background:#ffef8f;} \n\n.local_status_error  {color:#800000;}\n.local_status_notice  {color:#008000;}\n.local_status_normal {color:#008000;}\n\n/* SYSTEM Text editor styles */\n\ndiv.amiroTEdDiv{ }\ndiv.amiroTEdDivEditor{ display: block; }\ndiv.amiroTEdDivPreview{ border: 1px solid black; display: none; overflow: auto; }\nimg.amiroTEdCtrl{ border: 0px; cursor: pointer; }\nselect.amiroTEdCtrl, input.amiroTEdCtrlButton{\n    font: normal 0.8em Arial; text-decoration: none; color: #000000; margin-bottom: 4px; width: auto;\n}\nimg.amiroTEdSep{ border: 0px; }\nimg.amiroTEdSmile{ border: 0px; cursor: pointer; }\ntextarea.amiroTEdCtrl{}\ndiv.amiroTEdDivResize{\n\theight: 4px;\n    margin-top: 1px;\n    background-color: #d4d0c8;\n    background-repeat: no-repeat;\n    background-position: 50% 0%;\n    border-bottom: 1px solid #808080;\n    margin-bottom: 1px;\n    cursor: s-resize;\n}\nspan.amiroTEdMore{\n    cursor: pointer;\n    height: 25px;\n\tfont: bold 1.2em arial;\n    text-decoration: underline;\n    color: #000000;\n}\nBLOCKQUOTE.edQuote { border-left: 2px solid #999999; margin: 0px; padding: 10px; margin-left: 15px; background: #f9f9f9; }\n\nPRE.edCode{ margin:5px 0px 5px 16px; width: 500px; overflow: auto; border: 1px dotted gray; padding: 5px; }\n\n/* SYSTEM Text editor styles */\n\n/* END SYSTEM */\n\ntextarea.inp-h{\n    display: none;\n}\n\n/* Suggestions control */\n\ndiv.suggestionDiv{ position: absolute; padding-top: 2px; border: 1px solid #848484; background: #fff; overflow: hidden; display: none; z-index: 100; }\ndiv.suggestionRow, div.suggestionRowSelected{ padding: 1px 3px 0px 3px; cursor: default; white-space: nowrap; font-family: Arial; font-size: 11px; cursor: pointer; }\ndiv.suggestionRow a, div.suggestionRowSelected a{ padding-left: 6px; font-size: 11px !important; }\ndiv.suggestionRowSelected{ background: #5fabfe; color: #fff; }\ndiv.suggestionRowSelected a{ color: #fff !important; }\ndiv.suggestionRowExact{ font-weight: bold; }\ndiv.suggestionRowAllResults{ margin: 6px 0px 0px 0px; }\ndiv.suggestionResult, div.suggestionResultFirst{ margin: 8px 3px 3px 3px; padding-top: 6px; border-top: 1px solid #848484; text-align: left; font-weight: bold; font-size: 11px; }\ndiv.suggestionResultFirst{ margin-top: 0px; padding-top: 1px; border-top: 0px; }\ndiv.suggestionRow a.suggestionAllResults, div.suggestionRowSelected a.suggestionAllResults{ padding-left: 0px; font-weight: bold; font-size: 11px; }\n\ndiv.suggestionMinWidth{ line-height: 0px; height: 0px; }\n\n/* MediaBox control */\n\n.MediaBox_shadow{ position: fixed; display: none; top: 0px; left: 0px; width: 100%; height: 100%; background: #000; z-index: 100000;}\n* html .MediaBox_shadow{ position: absolute; }\n.MediaBox{ position: fixed;  display: none; background: #fff; z-index: 100001; }\n* html .MediaBox{ position: absolute; }\n.MediaBox_shadowL, .MediaBox_shadowR, .MediaBox_shadowT, .MediaBox_shadowB, .MediaBox_shadowLT, .MediaBox_shadowRT, .MediaBox_shadowLB, .MediaBox_shadowRB{ position: absolute; overflow: hidden; }\n.MediaBox_shadowL, .MediaBox_shadowR{ width: 15px; height: 100%; background: url(/_img/ami_jsapi/shade-v.png) repeat-y; }\n.MediaBox_shadowL{ left: -15px; top: 0px; }\n.MediaBox_shadowR{ right: -15px; top: 0px; background-position: -15px 0px; }\n.MediaBox_shadowT, .MediaBox_shadowB{ width: 100%; height: 15px; background: url(/_img/ami_jsapi/shade-h.png) repeat-x; }\n.MediaBox_shadowT{ left: 0px; top: -15px; }\n.MediaBox_shadowB{ left: 0px; bottom: -15px; background-position: 0px -15px; }\n.MediaBox_shadowLT, .MediaBox_shadowRT, .MediaBox_shadowLB, .MediaBox_shadowRB{ width: 15px; height: 15px; background: url(/_img/ami_jsapi/shade-c.png) no-repeat; }\n.MediaBox_shadowLT{ left: -15px; top: -15px; }\n.MediaBox_shadowRT{ right: -15px; top: -15px; background-position: -15px 0px; }\n.MediaBox_shadowLB{ left: -15px; bottom: -15px; background-position: 0px -15px; }\n.MediaBox_shadowRB{ right: -15px; bottom: -15px; background-position: -15px -15px; }\n.MediaBox_speckLT{ position: absolute; width: 0px; height: 0px; }\n.MediaBox_speckRB{ position: absolute; width: 0px; height: 0px; }\n.MediaBox_close{ position: absolute; width: 39px; height: 39px; right: -20px; top: -20px; background: url(/_img/ami_jsapi/close.png); cursor: pointer; }\n.MediaBox_loader{ position: absolute; width: 32px; height: 32px; left: 50%; top: 50%; margin: -16px 0px 0px -16px; background: url(/_img/ami_jsapi/loader.gif); }\n.MediaBox_container{ margin: 10px 10px; }\n/* Black version */\n.MediaBoxBlack{ background: #000; }\n.MediaBoxBlack .MediaBox_shadowL, .MediaBoxBlack .MediaBox_shadowR{ background-image: url(/_img/ami_jsapi/glass-frame-v.png); }\n.MediaBoxBlack .MediaBox_shadowT, .MediaBoxBlack .MediaBox_shadowB{ background-image: url(/_img/ami_jsapi/glass-frame-h.png); }\n.MediaBoxBlack .MediaBox_shadowLT, .MediaBoxBlack .MediaBox_shadowRT, .MediaBoxBlack .MediaBox_shadowLB, .MediaBoxBlack .MediaBox_shadowRB{ background-image: url(/_img/ami_jsapi/glass-frame-c.png); }\n.MediaBoxBlack .MediaBox_speckLT{ background-image: url(/_img/ami_jsapi/glass-frame-c2lt.png); }\n.MediaBoxBlack .MediaBox_speckRB{ background-image: url(/_img/ami_jsapi/glass-frame-c2rb.png); }\n.MediaBoxBlack .MediaBox_close{ right: -25px; top: -25px; background-image: url(/_img/ami_jsapi/glass-frame-close.png); }\n.MediaBoxBlack .MediaBox_loader{ background-image: url(/_img/ami_jsapi/loader-black.gif); }\n.MediaBoxBlack .MediaBox_container{ margin: 0px 0px; }\n\n/* Multiselectbox */\n\ndiv.mSelectFrame{ display: -moz-inline-stack; display: inline-block; zoom: 1; *display: inline; border: 1px solid #848484; overflow: auto; }\ndiv.mSelectOption, div.mSelectOptionSelected{ padding: 0px 2px; white-space: nowrap; cursor: default; }\ndiv.mSelectOptionSelected{ background: #5fabfe; color: #fff; }\n\nimg[data-ami-mbpopup] { cursor: url(/_img/ami_jsapi/pointer_plus.png), pointer; }\n.MediaBox_loader{ position: absolute; width: 32px; height: 32px; left: 50%; top: 50%; margin: -16px 0px 0px -16px; background: url(/_img/ami_jsapi/loader.gif); z-index: 100002; }\n.MediaBox_group{ margin: 10px; margin-bottom: 0px; font-style: italic; }\n.MediaBox_header{ margin: 10px; margin-bottom: 0px; text-align: center; font-weight: bold; }\n.MediaBox_url{ margin: 10px; margin-bottom: 0px; text-align: center; }\n.MediaBox_description{ padding: 10px; padding-bottom: 0px; }\n.MediaBox_imageArea{ position: relative; }\n.MediaBox_previous{ position: absolute; left: -28px; top: 50%; width: 32px; height: 63px; margin-top: -32px; background: url(/_img/ami_jsapi/mb-prev.png); cursor: pointer; }\n.MediaBox_next{ position: absolute; right: -28px; top: 50%; width: 32px; height: 63px; margin-top: -32px; background: url(/_img/ami_jsapi/mb-next.png); cursor: pointer; }\n.MediaBox_container{ position: relative; margin: 10px 10px 0px 10px; text-align: center; }\n.MediaBox_zoom{ margin: 10px; margin-bottom: 0px; text-align: right; font-style: italic; }\n.MediaBox_zoom a{ font-style: italic; }\n#MediaBox_sliderPrevious{ float: left; width: 10px; height: 20px; margin: 40px 0px 0px 10px; background: #00f; cursor: pointer; }\n#MediaBox_sliderNext{ float: right; width: 10px; height: 20px; margin: 40px 10px 0px 0px; background: #00f; cursor: pointer; }\n.MediaBox .disabled{ background: #ccf !important; cursor: default !important; }\n.MediaBox_slider{ position: relative; overflow: hidden; height: 80px; margin: 10px 30px 0px 30px; white-space: nowrap; }\n.MediaBox_sliderImage{ max-height: 80px; height: expression(this.scrollHeight > 80 ? \"80px\" : \"auto\"); cursor: pointer; }\n.MediaBox_sliderDelimeter{ display: -moz-inline-stack; display: inline-block; zoom: 1; *display: inline; width: 10px; }\n.MediaBox_counter{ margin: 10px; margin-bottom: 0px; text-align: right; font-style: italic; }\n\n/* ToolTip */\n\ndiv.AMIToolTip{ position: absolute; padding: 2px; border: 1px solid #000; background: #fff798; }\n\r\n/* Imagetape gadget */\r\n\r\n.image_item_nopopup {border: 1px solid #ffffff; float:left; margin:2px; padding: 3px; cursor:pointer;}\r\n.image_item_nopopup_selected {border: 1px solid #cccccc; float:left; margin:2px; padding: 3px; cursor:pointer;}\r\n.imagetape_fullinfo {cursor: pointer; margin-right: 10px;padding: 3px 6px;border: 1px solid #ccc;position: relative;}\r\n.imagetape_fullinfo_select {cursor: pointer; margin-right: 10px;padding: 3px 6px;border: 1px solid #000;position: relative;background: #555;color: #fff;}\r\n.header_fullinfo {font-size: 14px;font-weight: bold;padding-bottom: 10px;}\r\n.description_fullinfo {padding-right: 10px;padding-bottom: 10px;}\r\n.left_imagetape_fullinfo {float: left;}\r\n.right_imagetape_fullinfo {float: right;}\r\n.bottom_imagetape_fullinfo {width: 100%; float: right; text-align: right;}\r\n.block_imagetape_fullinfo {background: #FFFFFF; float: left; padding-bottom: 20px; width: 100%;}\r\n.imagetapeControl {cursor: pointer;}\r\n.imagetapeControl.left {background:url('/_img/imagetape-prev.png') 50% 50% no-repeat transparent;float:left;width: 30px;}\r\n.imagetapeControl.right {background:url('/_img/imagetape-next.png') 50% 50% no-repeat transparent;float:left;width: 30px;}\r\n.imagetapeControl.up {background:url('/_img/imagetape-up.png') 50% 50% no-repeat transparent;clear:both;height: 30px;}\r\n.imagetapeControl.down {background:url('/_img/imagetape-down.png') 50% 50% no-repeat transparent;clear:both;height: 30px;}\r\n.imagetapeControl.disabled {cursor: default !important;filter: alpha(opacity=50);opacity: 0.5;-moz-opacity: 50%;}"
          },
          "redirectURL": "",
          "headersSize": 251,
          "bodySize": 8664
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-05-31T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.631+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_mod_files/_css/home.css?_cv=5.12.4.0",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Sat, 20 Feb 2010 09:46:04 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.12.4.0"
            }
          ],
          "headersSize": 688,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Sat, 20 Feb 2010 09:46:04 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Thu, 31 May 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 633,
            "text": "/* MAKET SPECIFIC STYLES */\r\n\r\n/* BODY */\r\n#lay_body {padding: 70px 0 41px 0; font-family:verdana;}\r\n\r\n/* END BODY */\r\n\r\n/* BLOCK 1 */\r\n#lay_f1{padding-left:0px;padding-top:0px;}\r\n/* END BLOCK 1 */\r\n\r\n/* BLOCK 2 */\r\n#lay_f2 {padding: 75px 65px 28px 25px; width:195px;} \r\n/*#lay_f2 p {padding:0px; margin:4px 0px;}*/\r\n/* END BLOCK 2 */\r\n\r\n/* BLOCK 3 */\r\n#lay_f3 { border-top: #419015 4px solid; font-size: 0.85em; padding: 10px 0 0 4px; text-align:center;}\r\n/* END BLOCK 3 */\r\n\r\n\r\n/* BLOCK 5 */\r\n#lay_f5 {padding: 5px 15px 10px 28px;}\r\n/* END BLOCK 5 */\r\n\r\n/* BLOCK 4 */\r\n#lay_f4 {padding: 75px 25px 10px 65px;}\r\n/* END BLOCK 4 */\r\n\r\n"
          },
          "redirectURL": "",
          "headersSize": 251,
          "bodySize": 317
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-05-31T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.631+04:00",
        "time": 28,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/system_js.php?script=imgclear&hash=opr3726o9n011582n004rq9s0p5p3s36&_cv=5.12.4.0",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.12.4.0"
            },
            {
              "name": "hash",
              "value": "opr3726o9n011582n004rq9s0p5p3s36"
            },
            {
              "name": "script",
              "value": "imgclear"
            }
          ],
          "headersSize": 666,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "1654"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 3390,
            "text": "function csf111(){this.csfI11=function(a){var c=[0,0,0];if(aParts=a.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/i)){c[0]=aParts[1];c[1]=aParts[2];c[2]=aParts[3]}else{if(aParts=a.match(/#([a-f0-9]{3,6})/i)){a=aParts[1];if(a.length==3){var d=\"\"+a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2);a=d}if(a.length==6){var b=parseInt(a,16);c[0]=b>>16&255;c[1]=b>>8&255;c[2]=b&255}}}return c};this.csf1I1=function(b){var a=0;b[0]=b[0]/255;b[1]=b[1]/255;b[2]=b[2]/255;if(b.length==3){for(i=0;i<3;i++){b[i]=b[i]<=0.03928?b[i]/12.92:Math.pow((b[i]+0.055)/1.055,2.4)}a=0.2126*b[0]+0.7152*b[1]+0.0722*b[2]}return a};this.csfII1=function(d,a){var c=\"\";if(window.getComputedStyle){var e=window.getComputedStyle(d,a);c=e.getPropertyValue(a)}else{if(d.currentStyle){var b;while((b=a.indexOf(\"-\"))!=-1){a=a.substr(0,b)+a.substr(b+1,1).toUpperCase()+a.substr(b+2)}if(d.currentStyle[a]){c=d.currentStyle[a]}}}return c};this.csfIII=function(){var k=document.swapNode!=undefined?true:false;var q=document.getElementById(\"signc0f9b627\");var l=\"#fff\";var c=\"#000\";if(q!=null){q=document.body.appendChild(q);q.style.zIndex=1000;var w=q.getElementsByTagName(\"A\");if(w.length>0){var o=w[0];var y=this.csfII1(o,\"font-size\");var u=y.match(/^([0-9\\.]+) *(em|pt|px|\\%)$/i);if(u!=null&&u.length==3){u[1]=parseFloat(u[1]);u[2]=u[2].toLowerCase();if(u[2]==\"em\"&&u[1]<0.8||u[2]==\"pt\"&&u[1]<7||u[2]==\"px\"&&u[1]<8||u[2]==\"%\"&&u[1]<80){o.style.fontSize=\"12px\"}}var j=true;var v=true;var h=true;do{if(j){if(o.tagName){if(o.offsetWidth<100||o.offsetHeight<8){if(this.csfII1(o,\"display\")==\"none\"){if(o.tagName==\"TABLE\"){if(o.id&&o.id==\"sign\"){o.id=\"sign\"+Math.floor(Math.random()*1000)}o.style.display=k?\"block\":\"table\"}else{if(o.tagName==\"TR\"){o.style.display=k?\"block\":\"table-row\"}else{if(o.tagName==\"TD\"){o.style.display=k?\"block\":\"table-cell\"}else{o.style.display=\"block\"}}}}if(this.csfII1(o,\"visibility\")==\"hidden\"){o.style.visibility=\"visible\"}var r=this.csfII1(o,\"width\");var e=parseInt(r);if(r!=\"auto\"&&e!=isNaN&&(r.indexOf(\"%\")>0&&e<20||e<100)){o.style.width=\"auto\"}var p=this.csfII1(o,\"height\");var x=parseInt(p);if(p!=\"auto\"&&x!=isNaN&&(p.indexOf(\"%\")>0&&x<5||x<8)){o.style.height=\"auto\"}}var n=this.csfII1(o,\"position\");if(n!=\"static\"){o.style.position=\"static\"}var f=this.csfII1(o,\"background-image\");if(f!=\"none\"){o.style.backgroundImage=\"none\"}}if(o==q){j=false}}if(v){var d=this.csfII1(o,\"background-color\");if(d.match(/^(rgb\\(|#)/i)){l=d;v=false}}if(h){var m=this.csfII1(o,\"color\");if(m.match(/^(rgb\\(|#)/i)){c=m;h=false}}if(o.tagName&&o.tagName==\"BODY\"){break}}while(o=o.parentNode);q.style.backgroundColor=l;var b=this.csfI11(l);var a=[parseInt(b[0]),parseInt(b[1]),parseInt(b[2])];var t=this.csf1I1(b);var s=this.csf1I1(this.csfI11(c));var g=(Math.max(t,s)+0.05)/(Math.min(t,s)+0.05);if(g<2.5){for(i=0;i<3;i++){a[i]=a[i]-125<0?a[i]+125:a[i]-125}for(i=0;i<w.length;i++){w[i].style.color=\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\"}}}}}}var func7417=new csf111();setTimeout(function(a){return function(){a.csfIII()}}(func7417),500);AMI.Template.Locale.merge({mediaBoxZommed : \"Изображение уменьшено, <a href=\\\"\\\">показать в оригинальном размере __width__х__height__</a>\", mediaBoxNotZommed : \"Изображение увеличено, <a href=\\\"\\\">уменьшить до размеров окна</a>\", mediaBoxCounter : \"Изображение __current__ из __total__\", mediaBoxPrevious : \"Предыдущее изображение\", mediaBoxNext : \"Следующее изображение\"});"
          },
          "redirectURL": "",
          "headersSize": 292,
          "bodySize": 1654
        },
        "cache": {},
        "timings": {
          "blocked": 5,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 23,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.726+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_mod_files/ce_images/tree.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Tue, 02 Dec 2008 08:29:16 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 695,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 02 Dec 2008 08:29:16 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 75
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 75
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.726+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_img/mail.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Tue, 13 May 2008 07:44:24 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 679,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 13 May 2008 07:44:24 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 454
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 454
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.726+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_img/home.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Tue, 13 May 2008 07:44:23 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 679,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 13 May 2008 07:44:23 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 457
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 457
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.726+04:00",
        "time": 6,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_mod_files/ce_images/logo.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Wed, 31 Mar 2010 06:00:55 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 695,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 31 Mar 2010 06:00:55 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 6056
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 6056
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 6,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.726+04:00",
        "time": 6,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_mod_files/ce_images/amiro_logo_uproschennyj.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Wed, 26 Nov 2008 09:21:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 714,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 26 Nov 2008 09:21:03 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 2402
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 2402
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 6,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.754+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_img/xml.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Tue, 13 May 2008 07:44:26 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 678,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 13 May 2008 07:44:26 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 302
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 302
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.754+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_mod_files/ce_images/peoplec.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Wed, 26 Nov 2008 10:26:31 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 698,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 26 Nov 2008 10:26:31 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 18020
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 18020
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.756+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_img/spacer.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Tue, 13 May 2008 07:44:25 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 681,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 13 May 2008 07:44:25 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 43
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 43
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      },
      {
        "pageref": "page_3449",
        "startedDateTime": "2012-05-30T13:49:00.832+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://atceli.bget.ru/_mod_files/ce_images/str.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "frontend",
              "value": "ea6035e65f61bc1e546bb9d2b08c10ab"
            },
            {
              "name": "abosid",
              "value": "2452906987"
            },
            {
              "name": "sid",
              "value": "513j23q8ec5lqn7ldb19atl431"
            },
            {
              "name": "QUICK_BAR_CLOSED",
              "value": "-1"
            },
            {
              "name": "has_js",
              "value": "1"
            },
            {
              "name": "vid",
              "value": "c35d2bc5b3a821edf94adfba0ee0a1a2"
            },
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fatceli.bget.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "atceli.bget.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:12.0) Gecko/20100101 Firefox/12.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://atceli.bget.ru/_mod_files/_css/common.css?_cv=5.12.4.0"
            },
            {
              "name": "Cookie",
              "value": "frontend=ea6035e65f61bc1e546bb9d2b08c10ab; abosid=2452906987; sid=513j23q8ec5lqn7ldb19atl431; QUICK_BAR_CLOSED=-1; has_js=1; vid=c35d2bc5b3a821edf94adfba0ee0a1a2; uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fatceli.bget.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fatceli.bget.ru%2F"
            },
            {
              "name": "If-Modified-Since",
              "value": "Tue, 02 Dec 2008 10:21:28 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=0"
            }
          ],
          "queryString": [],
          "headersSize": 733,
          "bodySize": -1
        },
        "response": {
          "status": 304,
          "statusText": "Not Modified",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Wed, 30 May 2012 09:49:03 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 02 Dec 2008 10:21:28 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Fri, 29 Jun 2012 09:49:03 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 97
          },
          "redirectURL": "",
          "headersSize": 253,
          "bodySize": 97
        },
        "cache": {
          "afterRequest": {
            "expires": "2012-06-29T09:49:00.000Z",
            "lastAccess": "2012-05-30T09:49:00.000Z",
            "eTag": "",
            "hitCount": 7
          }
        },
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.167",
        "connection": "80"
      }
    ]
  }
}