{
  "log": {
    "version": "1.1",
    "creator": {
      "name": "Firebug",
      "version": "1.9"
    },
    "browser": {
      "name": "Firefox",
      "version": "11.0"
    },
    "pages": [
      {
        "startedDateTime": "2012-05-24T09:09:41.079+04:00",
        "id": "page_55371",
        "title": "товары для детского творчества, интернет магазин То и Сё, развивающие игрушки, конструктор, лепка, раскраска, гравюра, подарки",
        "pageTimings": {
          "onContentLoad": 774,
          "onLoad": -1
        }
      }
    ],
    "entries": [
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.079+04:00",
        "time": 402,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "queryString": [],
          "headersSize": 288,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220",
              "path": "/",
              "domain": "to-i-se.ru"
            }
          ],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/html; charset=windows-1251"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.10-2ubuntu6.7"
            },
            {
              "name": "P3P",
              "value": "policyref=\"/bitrix/p3p.xml\", CP=\"NON DSP COR CUR ADM DEV PSA PSD OUR UNR BUS UNI COM NAV INT DEM STA\""
            },
            {
              "name": "X-Powered-CMS",
              "value": "Bitrix Site Manager (402d982c56fd6588e112aa6120ff588e)"
            },
            {
              "name": "Set-Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220; path=/; domain=to-i-se.ru"
            },
            {
              "name": "Expires",
              "value": "Thu, 19 Nov 1981 08:52:00 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "no-store, no-cache, must-revalidate, post-check=0, pre-check=0"
            },
            {
              "name": "Pragma",
              "value": "no-cache"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "text/html",
            "size": 28966,
            "text": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"ru\" lang=\"ru\">\n<head>\n\n\t<title>товары для детского творчества,  интернет магазин То и Сё, развивающие игрушки, конструктор, лепка, раскраска, гравюра, подарки</title>\n\t<link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"/bitrix/templates/corp_services_blue/favicon.ico\" />\n\t\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"/bitrix/templates/corp_services_blue/common.css\" />\n\t\n\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=windows-1251\" />\n<meta name=\"robots\" content=\"index, follow\" />\n<meta name=\"keywords\" content=\"интернет магазин, товары для детского творчества, То и Сё, То и Се, развивающие игрушки, купить игрушки, купить развивающие игрушки в Москве\" />\n<meta name=\"description\" content=\"товары для детского творчества, подарки\" />\n<link href=\"/bitrix/js/main/core/css/core.css?1330597355\" type=\"text/css\" rel=\"stylesheet\" />\n<link href=\"/bitrix/templates/.default/components/yenisite/catalog.basket.small/basket/style.css?1302034920\" type=\"text/css\" rel=\"stylesheet\" />\n<link href=\"/bitrix/js/main/core/css/core_window.css?1330597344\" type=\"text/css\" rel=\"stylesheet\" />\n<link href=\"/bitrix/templates/corp_services_blue/components/bitrix/catalog.section/index/style.css?1302034920\" type=\"text/css\" rel=\"stylesheet\" />\n<link href=\"/bitrix/components/bitrix/news.list/templates/.default/style.css?1302034917\" type=\"text/css\" rel=\"stylesheet\" />\n<link href=\"/bitrix/templates/corp_services_blue/styles.css?1337757879\" type=\"text/css\" rel=\"stylesheet\" />\n<link href=\"/bitrix/templates/corp_services_blue/template_styles.css?1337757879\" type=\"text/css\" rel=\"stylesheet\" />\n<script type=\"text/javascript\" src=\"/bitrix/js/main/core/core.js?1331322852\"></script>\n<script type=\"text/javascript\">BX.message({'LANGUAGE_ID':'ru','FORMAT_DATE':'DD.MM.YYYY','FORMAT_DATETIME':'DD.MM.YYYY HH:MI:SS','COOKIE_PREFIX':'BITRIX_SM','bitrix_sessid':'fcf6250e9caf431c635bdc9d952768d2','SITE_ID':'s1','JS_CORE_LOADING':'Загрузка...','JS_CORE_WINDOW_CLOSE':'Закрыть','JS_CORE_WINDOW_EXPAND':'Развернуть','JS_CORE_WINDOW_NARROW':'Свернуть в окно','JS_CORE_WINDOW_SAVE':'Сохранить','JS_CORE_WINDOW_CANCEL':'Отменить','JS_CORE_H':'ч','JS_CORE_M':'м','JS_CORE_S':'с'})</script>\n<script type=\"text/javascript\" src=\"/bitrix/js/main/core/core_ajax.js?1331322852\"></script>\n<script type=\"text/javascript\" src=\"/bitrix/js/main/session.js?1302034906\"></script>\n<script type=\"text/javascript\">\nbxSession.Expand(1440, 'fcf6250e9caf431c635bdc9d952768d2', false, 'eeeb3c13ac41448ed8ab1205ebe3ef4d');\n</script>\n<script type=\"text/javascript\" src=\"/bitrix/js/main/core/core_window.js?1330597344\"></script>\n\t\n\t<!--[if lte IE 6]>\n\t<style type=\"text/css\">\n\t\t\n\t\t#support-question { \n\t\t\tbackground-image: none;\n\t\t\tfilter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='./images/question.png', sizingMethod = 'crop'); \n\t\t}\n\t\t\n\t\t#support-question { left: -9px;}\n\t\t\n\t\t#banner-overlay {\n\t\t\tbackground-image: none;\n\t\t\tfilter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='./images/overlay.png', sizingMethod = 'crop');\n\t\t}\n\t\t\n\t</style>\n\t<![endif]-->\n\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"/bitrix/templates/corp_services_blue/colors.css\" />\n\t\n</head>\n<body>\n\t\t<div id=\"page-wrapper\">\n\t\t\n\t\t\t<div id=\"panel\"></div>\n\t\n\t\t\t<div id=\"header\">\n\t\t\t\t<table style=\"height:120px\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td id=\"logo\"><a href=\"/\" title=\"На главную страницу\">\n<p><b><a href=\"/\" title=\"На главную страницу\" ><img src=\"/include/logo.jpg\" width=\"145\" height=\"95\" title=\"интернет магазин То и Сё\" alt=\"творчество для детей\"  /></a></b></p>\n</a></td>\n\t\t\t\t\t\t<td id=\"slogan\">\n<h3><font size=\"5\" face=\"Verdana\" class=\"Apple-style-span\"><b><i><span style=\"line-height: 22px; font-style: normal; font-weight: normal;\" class=\"Apple-style-span\"><b><i><font color=\"#EF6EA8\" class=\"Apple-style-span\">Т</font></i></b></span></i></b></font><font size=\"5\" color=\"#00BFF3\" class=\"Apple-style-span\">О</font><font face=\"Verdana\" class=\"Apple-style-span\"><b><i><font color=\"#2F3192\" class=\"Apple-style-span\">вары для <font color=\"#91278F\"><font size=\"6\">д</font><font size=\"5\" color=\"#652C91\">е</font><font size=\"6\" color=\"#ED008C\">т</font><font size=\"6\" face=\"Arial\">с</font><font size=\"6\" face=\"Courier\" color=\"#00FF00\">к</font><font size=\"6\" face=\"Tahoma\" color=\"#00AEEF\">о</font><font size=\"6\" face=\"Georgia\" color=\"#00A650\">г</font><font size=\"6\" face=\"Verdana\" color=\"#F7941D\">о</font></font></font><font color=\"#F7941D\" class=\"Apple-style-span\"> </font></i></b></font><span style=\"font-family: Verdana;\" class=\"Apple-style-span\"><b><i><font color=\"#2F3192\" class=\"Apple-style-span\"><font size=\"6\" color=\"#00AEEF\">т</font><font size=\"7\" face=\"Courier\" color=\"#FF00FF\">в</font><font size=\"6\" face=\"Tahoma\" color=\"#652C91\">о</font><font size=\"6\" face=\"Arial\" color=\"#00A650\">р</font><font size=\"6\" face=\"Verdana\" color=\"#0054A5\">ч</font><font size=\"7\" face=\"Times New Roman\" color=\"#F16522\">е</font></font></i><font size=\"6\" face=\"Tahoma\" color=\"#00FF00\"><i><font class=\"Apple-style-span\">с</font></i></font></b><b><i><font color=\"#2F3192\" class=\"Apple-style-span\"><font size=\"6\" color=\"#A763A9\">т</font><font size=\"6\" face=\"Georgia\" color=\"#9D0039\">в</font><font size=\"6\" face=\"Tahoma\" color=\"#00736A\">а</font> </font></i></b></span><font face=\"Verdana\" class=\"Apple-style-span\"><b><i><font size=\"5\" color=\"#ED008C\" class=\"Apple-style-span\">И</font><font size=\"6\" color=\"#1D1363\" class=\"Apple-style-span\"> </font><font color=\"#2F3192\" class=\"Apple-style-span\">не только!! </font></i></b></font><font color=\"#2F3192\" class=\"Apple-style-span\"><font face=\"Verdana\" class=\"Apple-style-span\"><i style=\"font-weight: normal;\">То, что прине</i></font></font><font size=\"5\"><span style=\"font-family: Verdana; line-height: 22px;\" class=\"Apple-style-span\"><i><b><font color=\"#0076A4\" class=\"Apple-style-span\">С</font></b></i></span></font><font size=\"5\" face=\"Verdana\" color=\"#F7941D\" class=\"Apple-style-span\"><i><b>Ё</b></i></font><span style=\"font-family: Verdana; font-weight: normal;\" class=\"Apple-style-span\"><i><font color=\"#2F3192\" class=\"Apple-style-span\">т радость в Ваш дом!!!</font></i></span></h3>\n</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\n\t\t\t\t\n\t\t\t\t<div id=\"search\">\n\t\t\t\t\t<div class=\"flat\">\n\t<form action=\"/search/index.php\">\n\t<div id=\"search-button\">\n\t\t\t<input type=\"submit\" name=\"s\" id=\"search-submit-button\" value=\"Поиск\" onfocus=\"this.blur();\">\n\t</div>\n\t<div class=\"search-box\"><input type=\"text\" name=\"q\"></div>\n\t</form>\n\t</div>\t\t\t\t</div>\n\t\t\t</div>\n\t\n\r\n<ul id=\"top-menu\">\r\n\t\t\t<li class=\"selected\"><b class=\"r1\"></b><b class=\"r0\"></b><a href=\"/\">ГЛАВНАЯ</a><b class=\"r0\"></b><b class=\"r1\"></b></li>\r\n\t\t\r\n\t\t\t<li><b class=\"r1\"></b><b class=\"r0\"></b><a href=\"/cat/\">КАТАЛОГ  ТОВАРОВ</a><b class=\"r0\"></b><b class=\"r1\"></b></li>\r\n\t\t\r\n\t\t\t<li><b class=\"r1\"></b><b class=\"r0\"></b><a href=\"/news/\">НОВОСТИ</a><b class=\"r0\"></b><b class=\"r1\"></b></li>\r\n\t\t\r\n\t\t\t<li><b class=\"r1\"></b><b class=\"r0\"></b><a href=\"/contacts/\">КОНТАКТЫ</a><b class=\"r0\"></b><b class=\"r1\"></b></li>\r\n\t\t\r\n\t\t\t<li><b class=\"r1\"></b><b class=\"r0\"></b><a href=\"/delivery/\">ДОСТАВКА</a><b class=\"r0\"></b><b class=\"r1\"></b></li>\r\n\t\t\r\n\t\t\t<li><b class=\"r1\"></b><b class=\"r0\"></b><a href=\"/luchshaya_tsena/\">ЛУЧШАЯ ЦЕНА</a><b class=\"r0\"></b><b class=\"r1\"></b></li>\r\n\t\t\r\n</ul>\t\t\r\n\t\t\t\t\n\t\t\n\t\t\t<div id=\"content-wrapper\">\n\t\t\t\t<div id=\"content\">\n\t\t\t\t\t\t\t\t\t<!--<div id=\"banner\">\n\t\t\t\t\t\t<div id=\"banner-image\"><img src=\"/include/banner.png\"  /></div>\n\t\t\t\t\t\t<table cellspacing=\"0\" id=\"banner-text\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td width=\"35%\">&nbsp;</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<big>Строите планы?</big>\r\n<span> Кредиты на выгодных условиях </span>\r\n<small>Узнайте больше о кредитных программах нашего банка </small>\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<div id=\"banner-overlay\"></div>\n\t\t\t\t\t</div>-->\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t<div id=\"workarea-wrapper\">\n\n\t\t\t\t\t\t<div id=\"left-menu\">\n<h3>Корзина заказов</h3>\n \n<div id =\"market-basket-1\">\n    <h3><a href=\"/personal/basket.php\">Смотреть</a></h3>\n    <ul>\n        <li>Товаров в корзине:  <strong>0</strong></li>\n        <li>На сумму:  <strong>0 Р</strong></li>\n    </ul>\n</div>\n \n<br />\n\n<h2><a href=\"http://to-i-se.ru/cat/119/\" >РАСПРОДАЖА !</a></h2>\n\t\t\t\t\t\t\n\n<ul class=\"left-menu\">\n\n<li><a href=\"/cat/\">Каталог товаров</a>\n<ul>\n\n\t<li id=\"bx_2037796212_131\"><a href=\"/cat/131/\">АКВАГРИМ&nbsp;(9)</a></li>\n\t<li id=\"bx_2037796212_29\"><a href=\"/cat/29/\">АРХЕОЛОГИЯ ДЛЯ ДЕТЕЙ&nbsp;(11)</a></li>\n\t<li id=\"bx_2037796212_2\"><a href=\"/cat/2/\">ВЕСЕЛЫЕ ШАРИКИ&nbsp;(2)</a></li>\n\t<li id=\"bx_2037796212_3\"><a href=\"/cat/3/\">ВЫЖИГАНИЕ ПО ДЕРЕВУ&nbsp;(24)</a></li>\n\t<li id=\"bx_2037796212_5\"><a href=\"/cat/5/\">ГРАВЮРЫ ДЕТСКИЕ&nbsp;(39)</a></li>\n\t<li id=\"bx_2037796212_1\"><a href=\"/cat/1/\">ДЕТСКИЕ АППЛИКАЦИИ&nbsp;(2)</a></li>\n\t<li id=\"bx_2037796212_15\"><a href=\"/cat/15/\">ДЕТСКИЕ НАБОРЫ ДЛЯ ЧЕКАНКИ&nbsp;(6)</a></li>\n\t<li id=\"bx_2037796212_4\"><a href=\"/cat/4/\">ДЕТСКИЙ ГОНЧАРНЫЙ КРУГ&nbsp;(10)</a></li>\n\t<li id=\"bx_2037796212_19\"><a href=\"/cat/19/\">ДЕТСКИЙ НАБОР ИНСТРУМЕНТОВ&nbsp;(4)</a></li>\n\t<li id=\"bx_2037796212_28\"><a href=\"/cat/28/\">КАРТИНЫ ИЗ ПЕСКА&nbsp;(5)</a></li>\n\t<li id=\"bx_2037796212_11\"><a href=\"/cat/11/\">КОНСТРУКТОРЫ&nbsp;(39)</a></li>\n\t<li id=\"bx_2037796212_12\"><a href=\"/cat/12/\">КРАСКИ И ФЛОМАСТЕРЫ&nbsp;(11)</a></li>\n\t<li id=\"bx_2037796212_13\"><a href=\"/cat/13/\">ЛЕПКА ДЛЯ ДЕТЕЙ&nbsp;(10)</a></li>\n\t<li id=\"bx_2037796212_9\"><a href=\"/cat/9/\">НАБОРЫ ДЛЯ ИЗГОТОВЛЕНИЯ МЫЛА&nbsp;(6)</a></li>\n\t<li id=\"bx_2037796212_18\"><a href=\"/cat/18/\">НАБОРЫ ДЛЯ ИЗГОТОВЛЕНИЯ СВЕЧЕЙ&nbsp;(23)</a></li>\n\t<li id=\"bx_2037796212_20\"><a href=\"/cat/20/\">НАБОРЫ ДЛЯ ОПЫТОВ&nbsp;(22)</a></li>\n\t<li id=\"bx_2037796212_6\"><a href=\"/cat/6/\">НАБОРЫ ДЛЯ РИСОВАНИЯ&nbsp;(61)</a></li>\n\t<li id=\"bx_2037796212_107\"><a href=\"/cat/107/\">НАБОРЫ ДЛЯ ФОКУСОВ&nbsp;(25)</a></li>\n\t<li id=\"bx_2037796212_7\"><a href=\"/cat/7/\">НАСТОЛЬНЫЕ ИГРЫ&nbsp;(6)</a></li>\n\t<li id=\"bx_2037796212_110\"><a href=\"/cat/110/\">ОРИГАМИ ДЛЯ ДЕТЕЙ&nbsp;(15)</a></li>\n\t<li id=\"bx_2037796212_22\"><a href=\"/cat/22/\">ПЛЕТЕНИЕ ДЛЯ ДЕТЕЙ&nbsp;(14)</a></li>\n\t<li id=\"bx_2037796212_114\"><a href=\"/cat/114/\">ПОДАРКИ ДЛЯ ДЕВОЧЕК&nbsp;(54)</a></li>\n\t<li id=\"bx_2037796212_14\"><a href=\"/cat/14/\">ПОДАРКИ ДЛЯ МАЛЫШЕЙ&nbsp;(25)</a></li>\n\t<li id=\"bx_2037796212_109\"><a href=\"/cat/109/\">ПОДАРКИ ДЛЯ МАЛЬЧИКОВ&nbsp;(11)</a></li>\n\t<li id=\"bx_2037796212_23\"><a href=\"/cat/23/\">ПОДЕЛКИ ИЗ ГИПСА&nbsp;(8)</a></li>\n\t<li id=\"bx_2037796212_129\"><a href=\"/cat/129/\">РАННЕЕ РАЗВИТИЕ ДЕТЕЙ&nbsp;(11)</a></li>\n\t<li id=\"bx_2037796212_119\"><a href=\"/cat/119/\">РАСПРОДАЖА&nbsp;(32)</a></li>\n\t<li id=\"bx_2037796212_25\"><a href=\"/cat/25/\">РОСПИСЬ СКУЛЬПТУРЫ&nbsp;(11)</a></li>\n</ul>\n</li> \n\n</ul>\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t\t<div id=\"workarea\">\n\t\t\t\t\t\t\t<div id=\"workarea-inner\">\n\t\t\t\t\t\t\t<h5>Товары для детского творчества, подарки</h5> \n\n \n<h1><font><font class=\"Apple-style-span\" face=\"Verdana\" color=\"#2f3192\"><u><i>Товары для детского творчества, развивающие игрушки</i></u></font></font></h1>\n \n<div><b>Самое популярное: <div class=\"catalog-section\">\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\n\t\t<td valign=\"top\" width=\"50%\" id=\"bx_2647885750_1028\">\n\n\t\t\t<table cellpadding=\"0\" cellspacing=\"2\" border=\"0\">\n\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t<a href=\"/cat/4/1028/\"><img border=\"0\" src=\"/upload/iblock/e72/e72bf6b55dbc73d11b8308c017814169.jpg\" width=\"200\" height=\"119\" alt=\"Глина красная.\" title=\"Глина красная.\" /></a><br />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"top\"><a href=\"/cat/4/1028/\">Глина красная.</a><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"wrap\">Цена:&nbsp;125  руб.</span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"wrap\">Наличие на складе:&nbsp;да </span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\r\n<h2>\r\n  <br />\r\n</h2>\r\n <font size=\"2\" face=\"Verdana\">Производитель Эльфмаркет, Россия.</font>\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<noindex>\n\t\t\t\t\t<a href=\"/?action=BUY&amp;id=1028\" rel=\"nofollow\">Купить</a>&nbsp;<a href=\"/?action=ADD2BASKET&amp;id=1028\" rel=\"nofollow\">В корзину</a>\n\t\t\t\t\t</noindex>\n\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t</td>\n\n\t\t\n\t\t\t\t\t\t\n\t\t<td valign=\"top\" width=\"50%\" id=\"bx_2647885750_1024\">\n\n\t\t\t<table cellpadding=\"0\" cellspacing=\"2\" border=\"0\">\n\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t<a href=\"/cat/4/1024/\"><img border=\"0\" src=\"/upload/iblock/2a0/2a0bc1f87901e1cc93f0238c87ce7681.jpg\" width=\"200\" height=\"194\" alt=\"Детский гончарный круг. Вазы.\" title=\"Детский гончарный круг. Вазы.\" /></a><br />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"top\"><a href=\"/cat/4/1024/\">Детский гончарный круг. Вазы.</a><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"wrap\">Цена:&nbsp;1400  руб.</span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"wrap\">Наличие на складе:&nbsp;да </span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\tДетский гончарный круг. Вазы.<br />\n<br />\nОт 7 лет.<br />\n<br />\nПроизводитель: Эльфмаркет, Россия. \t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<noindex>\n\t\t\t\t\t<a href=\"/?action=BUY&amp;id=1024\" rel=\"nofollow\">Купить</a>&nbsp;<a href=\"/?action=ADD2BASKET&amp;id=1024\" rel=\"nofollow\">В корзину</a>\n\t\t\t\t\t</noindex>\n\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t</td>\n\n\t\t\t\t\t</tr>\n\t\t\n\t\t\t\t\t\t\t\t<tr>\n\t\t\n\t\t<td valign=\"top\" width=\"50%\" id=\"bx_2647885750_1023\">\n\n\t\t\t<table cellpadding=\"0\" cellspacing=\"2\" border=\"0\">\n\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t<a href=\"/cat/4/1023/\"><img border=\"0\" src=\"/upload/iblock/dca/dca04eb1c59c9fee7219056577e3ae78.jpg\" width=\"200\" height=\"191\" alt=\"Детский гончарный круг. Подсвечники.\" title=\"Детский гончарный круг. Подсвечники.\" /></a><br />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"top\"><a href=\"/cat/4/1023/\">Детский гончарный круг. Подсвечники.</a><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"wrap\">Цена:&nbsp;1400  руб.</span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"wrap\">Наличие на складе:&nbsp;да </span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\r\n<h2> <font size=\"2\" face=\"Verdana\">Детский гончарный круг. </font> </h2>\r\n \r\n<p><font size=\"2\"><font face=\"Verdana\"></font></font><font size=\"2\" face=\"Verdana\">От 7 лет. \r\n    <br />\r\n   </font></p>\r\n \r\n<p><font size=\"2\" face=\"Verdana\"> Производитель: Эльфмаркет, Россия.\t</font></p>\r\n \r\n<p> </p>\r\n \r\n<p> \r\n  <br />\r\n </p>\r\n \t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<noindex>\n\t\t\t\t\t<a href=\"/?action=BUY&amp;id=1023\" rel=\"nofollow\">Купить</a>&nbsp;<a href=\"/?action=ADD2BASKET&amp;id=1023\" rel=\"nofollow\">В корзину</a>\n\t\t\t\t\t</noindex>\n\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t</td>\n\n\t\t\n\t\t\t\t\t\t\n\t\t<td valign=\"top\" width=\"50%\" id=\"bx_2647885750_1022\">\n\n\t\t\t<table cellpadding=\"0\" cellspacing=\"2\" border=\"0\">\n\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t<a href=\"/cat/4/1022/\"><img border=\"0\" src=\"/upload/iblock/369/3696d1118786c11f4d69481e8adbe00f.jpg\" width=\"200\" height=\"193\" alt=\"Детский гончарный круг. Кофейный сервиз.\" title=\"Детский гончарный круг. Кофейный сервиз.\" /></a><br />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td valign=\"top\"><a href=\"/cat/4/1022/\">Детский гончарный круг. Кофейный сервиз.</a><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"wrap\">Цена:&nbsp;1400  руб.</span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"wrap\">Наличие на складе:&nbsp;да </span><br />\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\r\n<h4><font size=\"2\" face=\"Verdana\">Кофейный сервиз. </font></h4>\r\n От 7 лет. \r\n<br />\r\n \r\n<br />\r\n Производитель: Эльфмаркет, Россия.\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<noindex>\n\t\t\t\t\t<a href=\"/?action=BUY&amp;id=1022\" rel=\"nofollow\">Купить</a>&nbsp;<a href=\"/?action=ADD2BASKET&amp;id=1022\" rel=\"nofollow\">В корзину</a>\n\t\t\t\t\t</noindex>\n\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t</td>\n\n\t\t\t\t\t</tr>\n\t\t\n\t\t\n\t\t\n</table>\n</div>\n</b></div>\n \n<div> </div>\n \n<div> \n  <div style=\"font-weight: bold; \"> </div>\n \n  <div> \n    <br />\n   \n    <h2><b><font size=\"3\"><font face=\"'Times New Roman'\" class=\"Apple-style-span\"> \n            <br />\n           </font> </font> </b> \n      <p> </p>\n     \n      <p style=\"text-align: justify; \"><font face=\"Verdana\" size=\"2\"> В нашем <i>интернет магазине, То и Сё, </i>Вы можете<i> купить с</i>амые разнообразные<i> товары для детского творчества и развивающие игрушки. </i></font></p>\n     \n      <p><font face=\"Verdana\" size=\"2\">Игра является очень важной составляющей жизни ребенка. С помощью игры ребенок познает мир и учится быть его частью. Каждый родитель хочет, чтобы его дети были счастливы. Чтобы они выросли, выбрали интересную профессию и стали успешными людьми. Успешными &ndash; это вовсе не означает богатыми. Человек успешный, когда он может реализовать себя в работе, творчестве или, может быть, в хобби, делать что-то интересное и важное для него и получать удовольствие от этого. </font></p>\n     \n      <p><font size=\"2\"><span style=\"font-family: Verdana; text-align: justify; \"> Поэтому очень важно дать </span><i style=\"font-family: Verdana; text-align: justify; \">ребенку разностороннее развитие</i><span style=\"font-family: Verdana; text-align: justify; \">. Важно, чтобы </span><i style=\"font-family: Verdana; text-align: justify; \">игрушки</i><span style=\"font-family: Verdana; text-align: justify; \"> у</span><i style=\"font-family: Verdana; text-align: justify; \"> ребенка</i><span style=\"font-family: Verdana; text-align: justify; \"> были разные. Важно, чтобы </span><i style=\"font-family: Verdana; text-align: justify; \">ребенок</i><span style=\"font-family: Verdana; text-align: justify; \"> попробовал себя в различной деятельности.  </span></font></p>\n     </h2>\n   \n    <p><span style=\"font-family: Verdana; \">В нашем магазине ,</span> <i style=\"font-family: Verdana; \">То и Сё,</i><span style=\"font-family: Verdana; \"> мы постарались подобрать разнообразные <i>товары для детского творчества</i> , с помощью которых </span><i style=\"font-family: Verdana; \">ребенок</i><span style=\"font-family: Verdana; \"> попробует открыть для себя новые и увлекательные </span><i style=\"font-family: Verdana; \">занятия</i><span style=\"font-family: Verdana; \">, </span><i style=\"font-family: Verdana; \">развивающие </i><i style=\"font-family: Verdana; \">фантазию, творческие способности </i><span style=\"font-family: Verdana; \">и ряд других необходимых качеств для формирования гармоничной личности. </span></p>\n   </div>\n \n  <div><font face=\"Verdana\"> \n      <br />\n      Например, с помощью<a href=\"http://to-i-se.ru/cat/4/\" ><i> набора &laquo;Гончар&raquo;</i></a> <i>ребенок</i> попробует сделать настоящую глиняную посуду. Детский гончарный круг незаменимая вещь для дачи. Когда есть много времени, можно пачкаться и глинистая почва на участке, то можно, накопав глины, наделать подарки всем родственникам на все праздники. Глиняное изделие можно обжечь в костре, а потом раскрасить красками. </font></div>\n \n  <div> </div>\n \n  <div> \n    <h2 style=\"font-weight: bold; \"><font face=\"Verdana\" size=\"3\"><a href=\"http://to-i-se.ru/cat/19/\" ><i><b> Наборы для плотника</b></i></a></font></h2>\n   \n    <p style=\"font-weight: bold; \"></p>\n   \n    <p><font class=\"Apple-style-span\" face=\"Verdana\"> познакомят мальчиков с инструментами, там они самые настоящие. С помощью этих наборов можно смастерить разнообразные поделки. </font></p>\n   \n    <h2 style=\"font-weight: bold; \"><font face=\"Verdana\" size=\"3\"><b> <a href=\"http://to-i-se.ru/cat/6/\" title=\"наборы для живописи\" ><i>Наборы для живописи</i></a><i> \n            <br />\n           </i></b></font></h2>\n   \n    <p style=\"font-weight: bold; \"></p>\n   \n    <p><font class=\"Apple-style-span\" face=\"Verdana\"> помогут вам и вашим детям создать свои шедевры, которыми можно украсить интерьер дома или сделать подарок любимой бабушке. В набор входят настоящий холст с контуром на подрамнике, 3 кисти, масляные краски и подробная инструкция. Также можно попробовать себя в роли художника с помощью наборов <a href=\"http://to-i-se.ru/cat/126/\" title=\"раскраски по номерам\" ><i>раскраски по номерам</i></a>. Это очень просто, нужно только раскрасить определенные области картины, соответствующим цветом и у Вас готовая картина, которую смело можно повесить на стену. </font></p>\n   \n    <h2 style=\"font-weight: bold; \"><font class=\"Apple-style-span\" face=\"Verdana\" size=\"3\"><b><a href=\"http://to-i-se.ru/cat/11/\" ><i> Конструкторы</i></a> </b></font></h2>\n   \n    <p style=\"font-weight: bold; \"></p>\n   \n    <p><font class=\"Apple-style-span\" face=\"Verdana\"> естественно очень популярны. <i>Конструкторы</i> развивают пространственно-образное <i>мышление</i>,<i> фантазию и мелкую моторику рук. \n          <br />\n         </i> Мелкая <i>моторика </i>очень важна для ребенка. Такие занятия как <i>рисование</i> или <i>раскрашивание</i> картинок<i>, лепка</i>, <i>изготовление поделок из бумаги, игры с кубиками, мозаикой, изготовление поделок из природного материала, </i>все виды ручного творчества: <i>вышивание, вязание, чеканка, выжигание, выпиливание и другие, </i>развивают мелкую <i>моторику рук</i>. Такие занятия формируют у ребенка художественный вкус. А детские физиологи утверждают, что хорошо развитая кисть руки &ldquo;потянет&rdquo; за собой развитие интеллекта и речи. </font></p>\n   \n    <p><font class=\"Apple-style-span\" face=\"Verdana\"> Научите своих детей самому интересному! </font></p>\n   </div>\n </div>\n \t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div id=\"sidebar\">\n\t\t\t\t\t<div id=\"sidebar-inner\">\n\t\t\t\t\t\n\t\t\t\t\t\t<div id=\"telephone\"><nobr><font color=\"#0000FF\"><b><font size=\"5\" class=\"Apple-style-span\" face=\"Verdana\">8 (906) 7-188-188</font></b></font></nobr></div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div id=\"schedule\"><div class=\"schedule\">\n\t\t\t\t\t\t\n<br />\n \n<h3><span style=\"color: rgb(29, 19, 99); font-family: Verdana; font-size: large; font-weight: normal; \">Офис работает с 10.00 до 17.00 в рабочие дни. Суббота и воскресенье - выходные.</span></h3>\n \n<p><font size=\"4\" face=\"Verdana\" color=\"#0076a4\">Заказы через корзину принимаются круглосуточно!</font></p>\n \n<p><font size=\"4\" face=\"Verdana\" color=\"#0076a4\">\n    <br />\n   </font></p>\n\t\t\t\t\t\t</div></div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t<font face=\"Verdana\"><font class=\"Apple-style-span\" color=\"#0072BC\">  Общаться с<i> ребенком</i> можно по-разному! <i>Обучать детей</i> тоже дело непростое! Но , когда вместе с родителями они создают необыкновенные и порой совершенно удивительные <i>поделки</i>, задачи обучения решаются как-то сами собой и общение приносит много удовольствия. Психологи считают, что вдохновение посещает <i>детей</i> гораздо чаще если они творят вместе с родителями, именно в эти моменты и создаются самые оригинальные и запоминающиеся <i>поделки</i>!</font> </font>\n<div><font class=\"Apple-style-span\" color=\"#0072BC\" face=\"Verdana\">   В нашем <i>интернет магазин</i>е найдется интересное занятие для каждого <i>ребенка</i>!</font></div>\n \n<div><font class=\"Apple-style-span\" color=\"#0072BC\" face=\"Verdana\">         Звоните, заказывайте! </font></div>\n \n<div><font class=\"Apple-style-span\" color=\"#0072BC\" face=\"Verdana\">                   Радуйтесь успехам своих <i>детей</i>!</font></div>\n<div class=\"news-list\">\n\t\t<p class=\"news-item\" id=\"bx_1914200112_1008\">\n\t\t\t\t\t\t\t<span class=\"news-date-time\">13.04.2012</span>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"/news/1008/\"><b>Еженедельная акция - Товары по лучшей цене</b></a><br />\n\t\t\t\t\t\t\t\t\t\t<font size=\"2\"><font face=\"Verdana\">Для покупателей нашего магазина появилась новая еженедельная акция - </font><a href=\"http://to-i-se.ru/luchshaya_tsena/\" >Лучшая цена</a><font face=\"Verdana\">. </font></font>\t\t\t\t\t\t\t\t\t</p>\n\t\t<p class=\"news-item\" id=\"bx_1914200112_1006\">\n\t\t\t\t\t\t\t<span class=\"news-date-time\">11.04.2012</span>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"/news/1006/\"><b>Новинка - наборы для рисования простыми карандашами!</b></a><br />\n\t\t\t\t\t\t\t\t\t\t<b><font color=\"#004A80\"><font face=\"Verdana\"><font size=\"3\">\r\n        <br />\r\n      </font></font></font></b><font face=\"Verdana\"><a href=\"http://www.to-i-se.ru/cat/108/\" >Настоящие уроки рисования для начинающих художников.</a></font> \r\n<p><font face=\"Verdana\"><em>Рисунки простым карандашом</em> лучший способ для начала знакомства с основами рисования.</font></p>\r\n \r\n<p><font face=\"Verdana\">Рисунок - это основа всех изобразительных искусств, а также самостоятельный вид искусства - графика! С помощью штрихов простого карандаша можно передать бесконечное разнообразие форм и добиться потрясающих эффектов. Штрихи всегда зависит от характера формы, а также от материала изображаемого предмета. \r\n    <br />\r\n   </font></p>\r\n \r\n<p><font face=\"Verdana\">Из простого карандаша можно извлечь огромные возможности.</font></p>\r\n \t\t\t\t\t\t\t\t\t</p>\n\t\t<p class=\"news-item\" id=\"bx_1914200112_959\">\n\t\t\t\t\t\t\t<span class=\"news-date-time\">20.03.2012</span>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"/news/959/\"><b>Новинка - Холсты  на подрамнике для раскрашивания  по рисунку акриловыми красками</b></a><br />\n\t\t\t\t\t\t\t\t\t\tОтличный подарок любителям живописи.<a href=\"http://to-i-se.ru/cat/40/\" title=\" Холст на подрамнике для росписи по рисунку.\" > Холст на подрамнике для росписи по рисунку.</a>  В набор входит основа с рисунком выполненным в технике гризайль  (монохромный), акриловые транспарентные краски 12 цветов в тюбиках, 2 кисти, палитра. Размер картин 28х35 см<font><b>. </b>Цена Вас приятно удивит.</font>\t\t\t\t\t\t\t\t\t</p>\n\t\t<p class=\"news-item\" id=\"bx_1914200112_217\">\n\t\t\t\t\t\t\t<span class=\"news-date-time\">11.04.2011</span>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"/news/217/\"><b>Доставка</b></a><br />\n\t\t\t\t\t\t\t\t\t\t<font face=\"Verdana\"> \r\n  <div><font class=\"Apple-style-span\"><span style=\"color: rgb(255, 0, 0); font-weight: bold;\"> Минимальная сумма заказа 500 руб</span></font><font class=\"Apple-style-span\"><span style=\"color: rgb(255, 0, 0); font-weight: bold;\">.</span></font></div>\r\n \r\n  <div> \r\n    <ul> \r\n      <li><font class=\"Apple-style-span\">Доставка товаров </font> \r\n        <div style=\"display: inline ! important;\"><font class=\"Apple-style-span\"> \r\n            <div style=\"display: inline ! important;\"><font class=\"Apple-style-span\"> по будням </font></div>\r\n           </font></div>\r\n       \r\n        <div style=\"display: inline ! important;\"><font class=\"Apple-style-span\">по Москве осуществляется курьером в пределах МКАД - 200 руб., </font></div>\r\n       </li>\r\n     \r\n      <li> \r\n        <div style=\"display: inline ! important;\"><font class=\"Apple-style-span\">в районы Москвы за МКАД - 350 руб.</font></div>\r\n       +стоимость проезда за пределами Москвы.</li>\r\n    \r\n      <li>Срочная доставка ( в пределах 4 часов) - 350 руб.\r\n        <br />\r\n      </li>\r\n     \r\n      <li>Доставка курьером в выходные и праздничные     дни по   договоренности. </li>\r\n     \r\n      <li>Доставка по России почтой.</li>\r\n     </ul>\r\n   </div>\r\n \r\n  <div> \r\n    <div style=\"display: inline ! important;\"><font class=\"Apple-style-span\"><font color=\"#ff0000\"><b> \r\n            <br />\r\n           </b></font></font></div>\r\n   </div>\r\n \r\n  <div><b>Самовывоз</b> от любой суммы <b>- <font color=\"#ff0000\">бесплатно.</font></b></div>\r\n \r\n  <div><font class=\"Apple-style-span\"> \r\n      <br />\r\n     </font></div>\r\n \r\n  <div><font class=\"Apple-style-span\">При заказе от 3000 руб. доставляем товар  <font color=\"#ff0000\"><b>бесплатно</b></font> (В пределах МКАД).</font></div>\r\n \r\n  <div><font class=\"Apple-style-span\"> \r\n      <br />\r\n     </font></div>\r\n \r\n  <div><font class=\"Apple-style-span\">  \r\n      <br />\r\n     </font></div>\r\n \r\n  <div style=\"font-style: italic;\"> \r\n    <p style=\"font-weight: bold; text-decoration: underline;\"><font color=\"#ff0000\"> \r\n        <br />\r\n       </font></p>\r\n   </div>\r\n </font> \t\t\t\t\t\t\t\t\t</p>\n\t<br />\n<font class=\"text\">Новости \n\n\n\t1 - 4 из 4<br /></font>\n\n\t<font class=\"text\">\n\n\t\t\tНачало&nbsp;|&nbsp;Пред.&nbsp;|\n\t\n\t\n\t\t\t\t\t<b>1</b>\n\t\t\t\t\t\t|\n\n\t\t\tСлед.&nbsp;|&nbsp;Конец\t\n\n\n<noindex>\n\t\t\t|&nbsp;<a href=\"/luchshaya_tsena/?SHOWALL_1=1\" rel=\"nofollow\">Все</a>\n\t</noindex>\n\n</font></div>\n \t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\n\t\t\t<div id=\"space-for-footer\"></div>\n\t\t\t\n\t\t</div>\n\t\t\n\t\t<div id=\"footer\">\n\t\t\n\t\t\t<div id=\"copyright\">\n\t\t\t\n<p>&copy; 2001-2010 &laquo;То И Сё&raquo; для Вас и Ваших детей</p>\n \n<p>Адрес: Москва, ул.Велозаводская,6</p>\n \n<p>Телефон: 8 (906) 7-188-188</p>\n\t\t\t</div>\n\t\t\t<div id=\"bottom-menu\">\t\n\t\n\t\t\t\r\n<ul id=\"footer-links\">\r\n\t<li><a href=\"/\">Главная</a></li>\r\n\t<li><a href=\"/search/map.php\">Карта сайта</a></li>\r\n\t<li><a href=\"/contacts/\">Контакты</a></li>\r\n</ul>\t\t\r\n<br/>\n<!--LiveInternet counter--><script type=\"text/javascript\"><!--\ndocument.write(\"<a href='http://www.liveinternet.ru/click' \"+\n\"target=_blank><img src='//counter.yadro.ru/hit?t14.6;r\"+\nescape(document.referrer)+((typeof(screen)==\"undefined\")?\"\":\n\";s\"+screen.width+\"*\"+screen.height+\"*\"+(screen.colorDepth?\nscreen.colorDepth:screen.pixelDepth))+\";u\"+escape(document.URL)+\n\";\"+Math.random()+\n\"' alt='' title='LiveInternet: показано число просмотров за 24\"+\n\" часа, посетителей за 24 часа и за сегодня' \"+\n\"border='0' width='88' height='31'><\\/a>\")\n//--></script><!--/LiveInternet-->\n&nbsp;\n\n\t\t\t</div>\n\t\t</div>\t\n<script type=\"text/javascript\"> \nуаг gaJsHost = ((\"HTTPS\" == document.location.protocol) \"? https://ssl . \":\" http://www. \"); \ndocument.write (Unescape (\"% 3Cscript SRC =\" + gaJsHost + \" google-analytics.com/ga.js \"тип =\" текст / JavaScript \"% 3E% 3E% 3C/script\")); \n</ SCRIPT> \n<тип сценария = \"текст / JavaScript\"> \ntry { \nVAR pageTracker = _gat._getTracker (\"UA-31999395-1\"); \npageTracker._trackPageview (); \n} catch (err) {} \n</ SCRIPT>\n</body>\n</html>"
          },
          "redirectURL": "",
          "headersSize": 660,
          "bodySize": 9231
        },
        "cache": {},
        "timings": {
          "blocked": 1,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 312,
          "receive": 89
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 4,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/templates/corp_services_blue/common.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 370,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "2388"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:22:00 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 2388,
            "text": "/* Round Corners*/\r\n.r0, .r1, .r2, .r3, .r4 { overflow: hidden; font-size:1px; display: block; height: 1px;}\r\n.r4 { margin: 0 4px; }\r\n.r3 { margin: 0 3px; }\r\n.r2 { margin: 0 2px; }\r\n.r1 { margin: 0 1px; }\r\n\r\n/* Tags cloud */\r\ndiv.search-cloud { text-align:center; } \r\ndiv.search-cloud a { line-height:1.4em; text-decoration:none; }\r\ndiv.search-cloud a:hover { text-decoration:underline; }\r\n\r\n/* Search results*/\r\ndiv.search-item { margin: 0 0 1.5em; padding: 0 0 1.5em; border-bottom: 1px solid;}\r\ndiv.search-result { margin: 1em 0;}\r\ndiv.search-preview {margin: 0.5em 0;}\r\ndiv.search-page input.search-query {width: 99%; border: 1px solid; font-size:1.3em;}\r\ndiv.search-page input.search-button { font-size: 1.2em; }\r\n\r\n/* Content Forms: commons styles */\r\ndiv.content-form\r\n{\r\n\tposition:relative; \r\n\tzoom:1;\r\n\tpadding-bottom: 2.5em;\r\n\tpadding-left:2.5em;\r\n}\r\n\r\ndiv.content-form div.form-input span {font-size: 1.5em;}\r\ndiv.content-form div.form-input input, div.content-form div.form-input textarea, div.content-form div.form-input select\r\n{\t\r\n\tmargin: 0;\r\n\tborder:1px solid;\r\n\tfont-size:1.117em; \r\n\tfont-family:Verdana, Tahoma, Sans-Serif;\r\n\tmargin-bottom: 8px;\r\n\t\r\n}\r\n\r\ndiv.content-form div.form-input input, div.content-form div.form-input textarea { padding: 0.3em; }\r\n\r\ndiv.content-form div.legend\r\n{\r\n\tleft: -1em; \r\n\ttop:-0.7em; \r\n\tfloat:left; \r\n\tpadding: 0 3px; \r\n\tbackground:white; \r\n\tposition:relative; \r\n\tz-index:10; \r\n\tfont-size: 1.8em; \r\n\tfont-family:Arial, Verdana, Tahoma, Sans-Serif;\r\n}\r\n\r\ndiv.content-form div.form-input input, div.content-form div.form-input textarea {width:75%;}\r\ndiv.content-form div.fields { clear: both; }\r\ndiv.content-form input.input-submit { overflow:visible; padding:0 0.5em;}\r\ndiv.content-form div.field { padding:0; margin: 0 0 0.8em 0; display: block; }\r\ndiv.content-form div.field label.field-title\r\n{\r\n\tdisplay: block;\r\n\tfont-size: 1.4em;\r\n\tmargin-bottom: 3px;\r\n\tfont-family:Arial, Verdana, Tahoma, Sans-Serif; \r\n\twhite-space: nowrap;\r\n}\r\n\r\ndiv.content-form div.description {font-size: 0.9em; }\r\ndiv.content-form div.field-checkbox { margin: 0.3em 0; font-size: 1.4em;}\r\n\r\n/*Error & OK messages*/\r\n.errortext, .notetext\r\n{\r\n\tdisplay: block;\r\n\tmargin:0 0 1.5em 0;\r\n\tpadding:0.4em 1.117em;\r\n\tborder: 1px solid;\r\n}\r\n\r\n.errortext ul, .notetext ul {padding:0.3em 0 0.3em 2em; margin:0;}\r\n.errortext ul li, .notetext ul li {margin:0; padding:0;}"
          },
          "redirectURL": "",
          "headersSize": 320,
          "bodySize": 2388
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 2,
          "receive": 1
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 4,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/js/main/core/css/core.css?1330597355",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1330597355",
              "value": ""
            }
          ],
          "headersSize": 367,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "4915"
            },
            {
              "name": "Last-Modified",
              "value": "Thu, 01 Mar 2012 10:22:35 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 4915,
            "text": ".bx-core-waitwindow { \n\tbackground-color:#FCF7D1;\n\tbackground-image:url(/bitrix/js/main/core/images/wait.gif);\n\tbackground-position:10px center;\n\tbackground-repeat:no-repeat;\n\tborder:1px solid #E1B52D;\n\tcolor:black;\n\tfont-family:Verdana,Arial,sans-serif;\n\tfont-size:11px;\n\tpadding:10px 30px 10px 37px;\n\tposition:absolute;\n\tz-index:10000;\n\ttext-align:center; \n}\n\n.bx-unselectable {\n   -moz-user-select: none;\n   -khtml-user-select: none;\n   -webkit-user-select: none;\n   user-select: none;\n}\n\n.bx-session-message {\n\tbackground-color:#FFEB41;\n\tborder:1px solid #EDDA3C;\n\twidth:630px;\n\tfont-family:Arial,Helvetica,sans-serif;\n\tfont-size:13px;\n\tfont-weight:bold;\n\ttext-align:center;\n\tcolor:black;\n\tposition:absolute;\n\tz-index:10000;\n\tpadding:10px;\n}\n\n.bx-session-message a.bx-session-message-close {\n\tdisplay:block;\n\twidth:12px;\n\theight:12px;\n\tbackground-image:url(/bitrix/js/main/core/images/close.gif);\n\tbackground-repeat:no-repeat;\n\tbackground-position:center;\n\tfloat:right;\n}\n\n.bx-timer-semicolon-off .bx-timer-semicolon {visibility: hidden}\n\n/* Tooltip */\n.bx-panel-tooltip\n{\n    z-index:2210 !important;\n    overflow: hidden !important;\n    position:absolute !important;\n\n    letter-spacing:normal !important;\n    list-style:none !important;\n    text-align: left !important;\n    text-indent:0 !important;\n    text-transform: none !important;\n    visibility:visible !important;\n    white-space: normal !important;\n    word-spacing:normal !important;\n    vertical-align:baseline !important;\n    background:scroll transparent none repeat-x 0 0 !important;\n    margin:0 !important;\n    padding:0 !important;\n    border: none !important;\n    float: none !important;\n    text-decoration: none !important;\n\n}\n\n.bx-panel-tooltip div { display: block !important; }\n\n.bx-panel-tooltip-top-border, .bx-panel-tooltip-bottom-border\n{\n    height:2px !important;\n    overflow: hidden !important;\n    position:relative !important;\n    font-size:1px !important;\n}\n\n.bx-panel-tooltip-corner\n{\n    background:scroll transparent url(../images/panel/sprite03.png) no-repeat -255px -308px !important;\n    width:2px !important;\n    height:8px !important;\n    overflow:hidden !important;\n    position:absolute !important;\n}\n\n.bx-panel-tooltip-border\n{\n    margin:0 2px !important;\n    height:1px !important;\n    background: scroll #FCFCFB none repeat-x 0 0 !important;\n    border-top: 1px solid #C8C8C6 !important;\n    font-size:1px !important;\n}\n\n.bx-panel-tooltip-bottom-border .bx-panel-tooltip-border\n{\n    border-top: 1px solid #F2F2EB !important;\n    background: scroll #C8C8C6 none repeat-x 0 0 !important;\n}\n\n.bx-panel-tooltip-left-corner\n{\n    top: 0 !important;\n    left: 0 !important;\n}\n\n.bx-panel-tooltip-right-corner\n{\n    left:-2px !important;\n    margin-left:100% !important;\n    position:absolute !important;\n    top:-2px !important;\n}\n\n.bx-panel-tooltip-bottom-border .bx-panel-tooltip-corner { margin-top:-4px !important; }\n\n.bx-panel-tooltip-content\n{\n    border-left: 1px solid #C8C8C6 !important;\n    border-right: 1px solid #C8C8C6 !important;\n    background: scroll #F2F2EB none repeat-x 0 0 !important;\n    overflow: hidden !important;\n    position: relative !important;\n    z-index:10 !important;\n    display:inline-block !important;\n}\n\n.bx-panel-tooltip-title\n{\n    font: normal normal bold 11px/normal Tahoma, sans-serif !important;\n    color: #000 !important;\n    position:relative !important;\n    padding: 7px 10px 0 10px !important;\n    margin: 0 !important;\n}\n\n.bx-panel-tooltip-text\n{\n    font: normal normal normal 11px/normal Verdana, sans-serif !important;\n    color: #000 !important;\n    padding: 9px 10px 10px 16px !important;\n    margin: 0 !important;\n    position:relative !important;\n}\n\n.bx-panel-tooltip-underlay\n{\n    position:absolute !important;\n    height:55px !important;\n    background: scroll #F2F2EB url(../images/panel/sprite03.png) repeat-x 0 -869px !important;\n    width:100% !important;\n    top: 0;\n    left: 0;\n}\n\n.bx-panel-tooltip-close\n{\n\tposition:absolute !important;\n    height:20px !important;\n    background: scroll transparent url(../images/panel/sprite03.png) no-repeat -40px -1007px !important;\n    width:25px !important;\n    top: 0 !important;\n    right: 0 !important;\n\tz-index:5 !important;\n\tdisplay:block !important;\n}\n\n.bx-panel-tooltip-text a { font: normal normal normal 11px/normal Verdana, sans-serif !important;}\n.bx-panel-tooltip-text a, .bx-panel-tooltip-text a:hover { color: #0041d2 !important; text-decoration: underline !important;}\n\n.bx-core-autosave {background-position: 0 0 !important;}\n.bx-core-autosave-ready {background: scroll transparent url(../images/autosave/autosave-green.gif) repeat-x 0 0;}\n.bx-core-autosave-edited {background: scroll transparent url(../images/autosave/autosave-red.gif) repeat-x 0 0;}\n.bx-core-autosave-saving {background: scroll transparent url(../images/autosave/autosave-write.gif) repeat-x 0 0;}\n\n.bx-clear { clear: both }"
          },
          "redirectURL": "",
          "headersSize": 320,
          "bodySize": 4915
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 4,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/templates/.default/components/yenisite/catalog.basket.small/basket/style.css?1302034920",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1302034920",
              "value": ""
            }
          ],
          "headersSize": 418,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "365"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:22:00 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 365,
            "text": "#market-basket-1 {width: 170px; border: 1px solid #cccccc; background: #F0E8BE; text-align: center; padding: 10px;}\n#market-basket-1 ul {padding: 0; margin: 0;}\n#market-basket-1 ul li {list-style-type: none; font-size: 12px; font-family: verdana;}\n#market-basket-1 a {color: #888888; font-size: 14px; font-style: verdana;}\n#market-basket-1 a:hover {color: #000000;}"
          },
          "redirectURL": "",
          "headersSize": 319,
          "bodySize": 365
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 12,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/js/main/core/css/core_window.css?1330597344",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1330597344",
              "value": ""
            }
          ],
          "headersSize": 374,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "44471"
            },
            {
              "name": "Last-Modified",
              "value": "Thu, 01 Mar 2012 10:22:24 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 44471,
            "text": "div.bx-core-window, div.bx-core-window table {letter-spacing:normal !important; font-variant:normal !important; font-style:normal !important; text-indent:0 !important; word-spacing:normal !important; font-family:Verdana,Arial,sans-serif !important; font-size:11px !important; color:black; line-height:normal !important; font-weight:normal !important; text-align: left;}\n\n/*div.bx-core-dialog div.dialog-center div.content-inner table.bx-width100 {width: auto !important;}*/\n\ndiv.bx-core-dialog-overlay {top:0; left:0; width:100%; height:100%; position: absolute; background-color: #333; opacity: 0.5; -moz-opacity: 0.5; -khtml-opacity: 0.5; filter:progid:DXImageTransform.Microsoft.Alpha(opacity=50);}\n\n.bx-core-dialog .bx-core-dialog-content {\n\tbackground-color: white; \n\toverflow: auto; \n\toverflow-x: hidden;\n\tposition: relative; \n}\n\n.bx-core-dialog .dialog-center {\n\tposition: relative;\n\tmargin: 39px 0px 49px 0px;\n\tpadding: 4px 10px 4px 15px;\n\tbackground-image: url(/bitrix/js/main/core/images/dialog_borders_c.png);\n\tbackground-repeat: repeat-y;\n\tbackground-position: right top;\n}\n\n.bx-core-dialog .dialog-center.dialog-center-notify\n{\n\tmargin: 55px 0px 49px 0px;\n}\n\n.bx-core-dialog .dialog-head {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n}\n.bx-core-dialog .dialog-head div {\n\tbackground-image: url(/bitrix/js/main/core/images/dialog_borders_tb_sprite01.png);\n\theight: 39px;\n}\n.bx-core-dialog .dialog-head div.l {\n\tbackground-position: top left;\n\tbackground-repeat: no-repeat;\n}\n.bx-core-dialog .dialog-head div.r {\n\tbackground-position: top right;\n\tbackground-repeat: no-repeat;\n}\n\n.bx-core-dialog .dialog-head div.c {\n\toverflow: hidden;\n\tmargin-right: 15px; margin-left: 15px;\n\tbackground-position: left -39px;\n\tbackground-repeat: repeat-x;\n}\n\n.bx-core-dialog .dialog-head div.c span {line-height: 39px; white-space: nowrap; font-family: Verdana; font-size: 13px; font-weight: bold; display: inline-block; width: 100%; overflow: hidden;}\n\n\n.bx-core-dialog  .dialog-foot {\n\tposition: absolute;\n\tbottom: 0px;\n\tleft: 0px;\n\twidth: 100%;\n}\n.bx-core-dialog  .dialog-foot div {\n\tbackground-image: url(/bitrix/js/main/core/images/dialog_borders_tb_sprite01.png);\n\theight: 49px;\n}\n.bx-core-dialog  .dialog-foot div.l {\n\tbackground-position: left -78px;\n\tbackground-repeat: no-repeat;\n}\n.bx-core-dialog  .dialog-foot div.r {\n\tbackground-position: right -127px;\n\tbackground-repeat: no-repeat;\n}\n\n.bx-core-dialog  .dialog-foot div.c {\n\toverflow: hidden;\n\tmargin-left: 15px; margin-right: 15px;\n\tbackground-position: left -176px;\n\tbackground-repeat: repeat-x;\n}\n\n.bx-core-dialog  .dialog-foot div.c {text-align: center;}\n.bx-core-dialog  .dialog-foot div.c span {display: block; position: relative; top: 8px;}\n.bx-core-dialog  .dialog-foot div.c button, .bx-core-dialog  .dialog-foot div.c input {margin: 0 3px; font-size: 14px !important;}\n\n.dialog-foot a.context-button {display:inline-block; box-sizing:border-box; -moz-box-sizing:border-box; -webkit-box-sizing:border-box; background-repeat:no-repeat; background-position:3px 3px; height:18px; width:18px; border:0px; margin:1px; position: relative; top: -2px;}\n\n.dialog-foot a.context-button:hover {width:20px; height:20px; margin:0px; border:1px solid #AEB6C2; background-color:#DBE3F2;}\n\n.bx-core-dialog  .dialog-head-icons {\n\tposition: absolute;\n\theight: 39px;\n\ttop: 0px;\n\tright: 10px;\n\tpadding: 0 4px;\n\tbackground-image: url(/bitrix/js/main/core/images/dialog_borders_tb_sprite01.png);\n\tbackground-repeat: no-repeat;\n\tbackground-position: top center;\n}\n\n.bx-core-dialog .dialog-head-icons   a {\n\tdisplay: inline-block;\n\tbackground-image: url(/bitrix/js/main/core/images/dialog_borders_tb_sprite01.png);\n\tbackground-repeat: no-repeat;\n\theight: 15px; width: 15px;\n\tposition: relative; top: 10px; margin: 2px;\n\tcursor: pointer;\n}\n\n.bx-core-dialog  a.bx-icon-close {background-position: -20px -233px;}\n.bx-core-dialog  a.bx-icon-expand {background-position: left -233px;}\n.bx-core-dialog  a.bx-icon-narrow {background-position: -40px -233px;}\n.bx-core-dialog .content-inner {padding-right: 11px;}\n.bx-core-dialog-head {\n\tposition: relative; margin: 7px 12px 14px 0px;\n}\n\ndiv.bx-core-dialog-head .bx-core-dialog-head-content {padding: 6px 30px 9px 0; background-repeat: no-repeat; background-position: top right; font-size: 12px; border-bottom: 1px solid #CCC;}\ndiv.bx-core-dialog-head .bx-core-dialog-head-content p.title {margin: 0px 0px 5px 0px !important; font-weight: bold; font-size: 14px;}\ndiv.bx-core-dialog-head .bx-core-dialog-head-content p {margin: 0px !important;}\n\ndiv.bx-core-admin-dialog-head {margin: 5px 0px 4px 0px;}\ndiv.bx-core-admin-dialog-head span.tabs {display: inline; display: inline-block; list-style: none outside none; margin: 0px; padding: 0px; background-image: url(/bitrix/js/main/core/images/line.png); background-position: right bottom; background-repeat: no-repeat; padding-left: 5px; padding-right: 50px;}\ndiv.bx-core-admin-dialog-head a.tab-container, div.bx-core-admin-dialog-head a.tab-container-selected {height: 30px;display: inline; display: inline-block; margin-right: 5px; cursor: pointer;}\n\ndiv.bx-core-admin-dialog-head a, div.bx-core-admin-dialog-head a:hover {color: black !important; text-decoration: none !important; outline: none;}\n\ndiv.bx-core-admin-dialog-head a.tab-container span, div.bx-core-admin-dialog-head a.tab-container-selected span {height: 30px; background-image: url(/bitrix/js/main/core/images/tabs.png); background-repeat: no-repeat; display: inline-block !important; }\n\ndiv.bx-core-admin-dialog-head span.tab-right {padding: 0px 25px 0px 20px; line-height: 28px;}\n\ndiv.bx-core-admin-dialog-head span.tab-left {background-position: left -31px;}\ndiv.bx-core-admin-dialog-head a.tab-container-selected span.tab-left {background-position: left top ;}\ndiv.bx-core-admin-dialog-head a.tab-container:hover span.tab-left {background-position: left bottom ;}\ndiv.bx-core-admin-dialog-head span.tab-right {background-position: right -31px; margin-left: 5px;}\ndiv.bx-core-admin-dialog-head a.tab-container-selected span.tab-right {background-position: right top;}\ndiv.bx-core-admin-dialog-head a.tab-container:hover span.tab-right {background-position: right bottom;}\n\n\ndiv.bx-core-admin-dialog-head .bx-core-dialog-head-content {padding: 0;} \n\ndiv.bx-core-resizer {background: url(/bitrix/js/main/core/images/dialog_borders_tb_sprite01.png) no-repeat right -225px; position: absolute; z-index: 6; bottom: 3px; right: 2px; height: 20px; width: 20px;}\n\n\n\n/* additional admin panel styles */\ndiv.bx-core-dialog-content p {text-align:left !important;}\ndiv.bx-core-dialog-content form {margin:0px !important; padding:0px !important;}\ndiv.bx-core-dialog-content td {font-size:12px !important; padding:5px 3px 10px 0 !important; line-height:normal !important; font-weight:normal !important;}\ndiv.bx-core-dialog-content td {background-image:url(/bitrix/themes/.default/public/dot_hor.gif) /*!important*/; background-position:left bottom /*!important*/; background-repeat:repeat-x /*!important*/;}\ndiv#bx_admin_form td {background-image:none;}\ndiv.bx-core-dialog-content tr.empty td {background-image:none !important; padding:1px !important;}\ndiv.bx-core-dialog-content tr.section td {background-image:none !important; background-color:#ededed !important;padding:3px !important;}\ndiv.bx-core-dialog-content tr.section table td {padding:0px !important;}\ndiv.bx-core-dialog-content input, div.bx-core-dialog-content select {font-family:Verdana,Arial,helvetica,sans-serif; font-size:12px !important; margin:0 !important; padding:1px !important; color:black !important;}\ndiv.bx-core-dialog-content td.bx-popup-label {text-align:right !important;}\ndiv.bx-core-dialog-content td.bx-core-dialog-padding {padding-left: 3px; background-image:none;}\n\n\n.bx-width30 {width:30% !important;}\n.bx-width50 {width:50% !important;}\n.bx-width100 {width:100% !important;}\n.bx-width0 {width:0% !important;}\n\n/* hint */\ndiv.bxhint {font-size:11px; font-family: Tahoma, Arial, Verdana, Sans-Serif; color:black; padding:5px; background-color: #ffffce; border:1px solid black; overflow: visible; line-height:normal; font-weight:normal; letter-spacing:normal !important; font-variant:normal !important; font-style:normal !important; text-indent:0 !important; word-spacing:normal !important; text-align:left !important;}\ndiv.bxhint td {font-size:11px; font-family: Tahoma, Arial, Verdana, Sans-Serif; color:black; padding:2px;}\ndiv.bxhint td.bx-grey {color:#747474;}\ndiv.bxhinticon {width:0%;height:0%;}\n\n/* admin dialog */\ndiv.bx-core-dialog table.edit-tabs td.tab-left-selected, div.bx-core-dialog table.edit-tabs td.tab-selected, div.bx-core-dialog table.edit-tabs td.tab-right-selected, div.bx-core-dialog table.edit-tabs td.tab-right-last-selected {border:medium none !important;}\n\ndiv.bx-core-dialog table.edit-tabs td {font-size:11px !important; font-weight:bold !important; color:#555556 !important;white-space:nowrap !important; border-bottom: solid 1px #B8C1DD !important; padding:0px !important;}\n\ndiv.bx-core-dialog table.edit-tabs td.tab-container {border:none !important; cursor:pointer !important; cursor: hand !important;}\ndiv.bx-core-dialog table.edit-tabs td.tab-container-selected, table.edit-tabs td.tab-container-disabled {border:none !important; cursor:default !important;}\ndiv.bx-core-dialog table.edit-tabs td.tab-container-disabled table {color:#A2A09F !important;}\ndiv.bx-core-dialog table.edit-tabs td.tab-indent div.empty {width:6px !important; height:21px !important;}\ndiv.bx-core-dialog table.edit-tabs td.tab-left div.empty {width:2px; height:21px; background-image:url(/bitrix/themes/.default/images/edit/tab_l.gif);}\ndiv.bx-core-dialog table.edit-tabs td.tab-right div.empty {width:8px; height:21px; background-image:url(/bitrix/themes/.default/images/edit/tab_r.gif);}\ndiv.bx-core-dialog table.edit-tabs td.tab-right-last div.empty {width:10px; height:21px; background-image:url(/bitrix/themes/.default/images/edit/tab_r_last.gif);}\ndiv.bx-core-dialog table.edit-tabs td.tab {padding:0px 4px 0px 5px !important; vertical-align:middle !important; height:21px !important; background-image:url(/bitrix/themes/.default/images/edit/tab_bg.gif) !important;}\ndiv.bx-core-dialog table.edit-tabs td.tab-left-selected, table.edit-tabs td.tab-selected, table.edit-tabs td.tab-right-selected, table.edit-tabs td.tab-right-last-selected {border:none !important;}\ndiv.bx-core-dialog table.edit-tabs td.tab-left-selected div.empty {width:2px; height:22px; background-image:url(/bitrix/themes/.default/images/edit/tab_l_sel.gif);  background-position: top left; background-repeat: repeat-x;}\ndiv.bx-core-dialog table.edit-tabs td.tab-right-selected div.empty {width:8px; height:22px; background-image:url(/bitrix/themes/.default/images/edit/tab_r_sel.gif); background-position: top left; background-repeat: repeat-x;}\ndiv.bx-core-dialog table.edit-tabs td.tab-right-last-selected div.empty {width:10px; height:22px; background-image:url(/bitrix/themes/.default/images/edit/tab_r_last_sel.gif); background-position: top left; background-repeat: repeat-x;}\ndiv.bx-core-dialog table.edit-tabs td.tab-selected {padding:0px 4px 0px 5px !important; vertical-align:middle !important; height:22px !important; background-position: top left; background-repeat: repeat-x; background-image:url(/bitrix/themes/.default/images/edit/tab_bg_sel.gif);}\ndiv.bx-core-dialog table.edit-tabs td.tab-left-hover div.empty {width:2px; height:21px;  background-position: top left; background-repeat: repeat-x; background-image:url(/bitrix/themes/.default/images/edit/tab_l_hov.gif);}\ndiv.bx-core-dialog table.edit-tabs td.tab-right-hover div.empty {width:8px; height:21px;  background-position: top left; background-repeat: repeat-x; background-image:url(/bitrix/themes/.default/images/edit/tab_r_hov.gif);}\ndiv.bx-core-dialog table.edit-tabs td.tab-right-last-hover div.empty {width:10px; height:21px;  background-position: top left; background-repeat: repeat-x;  background-image:url(/bitrix/themes/.default/images/edit/tab_r_last_hov.gif);}\ndiv.bx-core-dialog table.edit-tabs td.tab-hover {padding:0px 4px 0px 5px !important; vertical-align:middle !important; height:21px !important; background-position: top left !important; background-repeat: repeat-x !important; background-image:url(/bitrix/themes/.default/images/edit/tab_bg_hov.gif) !important;}\ndiv.bx-core-dialog table.edit-tabs a.context-button {display:block; box-sizing:border-box; -moz-box-sizing:border-box; background-repeat:no-repeat; background-position:3px 3px; height:18px; width:18px; border:0px; margin:1px;}\ndiv.bx-core-dialog table.edit-tabs a.context-button:hover {width:20px; height:20px; margin:0px; border:1px solid #AEB6C2; background-color:#DBE3F2;}\n\ndiv.bx-core-dialog-content .edit-field, div.bx-core-admin-dialog-content .edit-field {background-image:url(/bitrix/themes/.default/public/popup/pencil.gif);}\ndiv.bx-core-dialog-content .edit-field-active, div.bx-core-admin-dialog-content .edit-field-active {border-color: #434B50 #ADC0CF #ADC0CF #434B50 !important;}\n\n\n/* Tab inside edit form */\ndiv.bx-core-dialog div.bx-core-admin-dialog-content table.edit-tab {border-width: 0px !important; border: none !important; width:100% !important;}\ndiv.bx-core-dialog table.edit-tab td {background-color:#F8F9FC !important; padding:0px !important;}\ndiv.bx-core-dialog div.bx-core-admin-dialog-content table.edit-tab td div.edit-tab-inner {width: 100% !important; padding: 0px;}\n\ndiv.bx-core-dialog div#bx_admin_form table.edit-tab {border: none !important; width:100% !important;}\ndiv.bx-core-dialog div#bx_admin_form table.edit-tab td div.edit-tab-inner {height: auto; overflow: visible;}\n\n\n/* Edit table */\ndiv.bx-core-dialog div#bx_admin_form  table.edit-table {width:100% !important;}\ndiv.bx-core-admin-dialog-content table.edit-table td {font-size:11px !important; padding:4px !important;}\ndiv.bx-core-admin-dialog-content table.edit-table td.field-name {color:#646465 !important; text-align:right !important;}\ndiv.bx-core-admin-dialog-content table.edit-table tr.heading td {color:#525355 !important; text-align:center !important; font-weight:bold !important; background-color:#E0E4F1 !important;}\ndiv.bx-core-admin-dialog-content table.edit-table table td {padding:0px !important; border:none !important;}\ndiv.bx-core-admin-dialog-content table.edit-table table.edit-table td {padding:4px !important;}\ndiv.bx-core-admin-dialog-content table.edit-table div {font-size:100%;}\n\ndiv.bx-core-admin-dialog-content div.edit-form {margin: 0px;}\ndiv.bx-core-admin-dialog-content div.edit-form td.content {padding: 0px;}\n\ndiv.bx-core-admin-dialog-content span.required {color:red !important;}\n\n/* A table inside edit table */\ndiv.bx-core-admin-dialog-content table.edit-table table.internal {border-collapse:collapse !important;}\ndiv.bx-core-admin-dialog-content table.edit-table table.internal td, table.edit-table table.internal table.in_internal td{padding:3px !important; border:1px solid #CFD6E9 !important; font-size:11px !important;}\ndiv.bx-core-admin-dialog-content table.edit-table table.internal tr.heading td {text-align:center !important; background-color:#E7EAF5 !important; font-weight:normal !important; color:#525355 !important;}\ndiv.bx-core-admin-dialog-content table.edit-table table.internal td.heading {color:#525355 !important; background-color:#E7EAF5 !important;}\ndiv.bx-core-admin-dialog-content table.edit-table table.internal table td {padding:0px !important; border:none !important;}\n\n/* Edit tab title*/\ndiv.bx-core-dialog div#bx_admin_form table.edit-tab-title {width:auto !important;}\ndiv.bx-core-admin-dialog-content table.edit-tab-title td.icon {padding:5px 5px 5px 0px !important; width:32px !important; height:32px !important;}\ndiv.bx-core-admin-dialog-content table.edit-tab-title td.title {width:100% !important; padding:5px 0px 5px 0px !important; font-size:16px !important; color:#494949 !important; font-weight:bold !important; font-family:Arial,helvetica,sans-serif !important;}\ndiv.bx-core-admin-dialog-content table.edit-tab-title td.delimiter {padding:0px !important; height:5px !important; background-image:url(/bitrix/themes/.default/images/edit/title_dot.gif) !important; background-position:left top !important; background-repeat:repeat-x !important;}\ndiv.bx-core-admin-dialog-content table.edit-tab-title td.delimiter-top {background-position:left bottom !important;}\n\n/*View tabs*/\ndiv.bx-core-admin-dialog-content div.view-tab-container {}\ndiv.bx-core-admin-dialog-content div.view-tab-container table.edit-tab-title {margin-bottom:5px !important;}\ndiv.bx-core-admin-dialog-content div.view-tab-content {border:1px solid #ABB6D7; padding:5px; background-color:#F9FAFD; font-size:11px;}\ndiv.bx-core-admin-dialog-content div.view-tab {height:23px; float:left; bottom:-1px; position:relative; padding:5px; color:#555556; font-size:11px; font-weight:bold; white-space:nowrap; box-sizing:border-box; -moz-box-sizing:border-box;}\ndiv.bx-core-admin-dialog-content div.view-tab-active {border:1px solid #ABB6D7; border-bottom:none; border-top-color:#8B94BA; background-color:#F9FAFD; padding:4px 4px 5px 4px; background-image:url(/bitrix/themes/.default/images/tabs/active_bg.gif); background-position:left top; background-repeat:repeat-x;}\ndiv.bx-core-admin-dialog-content div.view-tab-delimiter{overflow:hidden; float:left; width:2px; height:13px; background-color:#ABB6D7; margin:6px 0px 4px 0px;}\ndiv.bx-core-admin-dialog-content div.view-tab-hide-delimiter{background-color:transparent;}\ndiv.bx-core-admin-dialog-content div.view-tab a, div.view-tab a:visited {color:#555556; text-decoration:none;}\ndiv.bx-core-admin-dialog-content div.view-tab a:hover {color:#555556; text-decoration:underline;}\ndiv.bx-core-admin-dialog-content div.view-tab-container br.tab-break {clear:both;}\ndiv.bx-core-admin-dialog-content div.view-tab-content h2 {font-size:110% !important;}\n\n/* Notes */\ndiv.bx-core-admin-dialog-content div.notes {margin-top:16px; margin-bottom:16px;}\ndiv.bx-core-admin-dialog-content div.edit-form div.notes {margin:4px 0px 4px 0px;}\ndiv.bx-core-admin-dialog-content table.notes td {padding:0px !important; background-color:#FEFDEA !important; font-size:11px !important; color:#333333 !important;}\ndiv.bx-core-admin-dialog-content table.notes tr.top td {border-top:1px solid #D7D6BA !important;}\ndiv.bx-core-admin-dialog-content table.notes td.left {border-left:1px solid #D7D6BA !important;}\ndiv.bx-core-admin-dialog-content table.notes td.right {border-right:1px solid #D7D6BA !important;}\ndiv.bx-core-admin-dialog-content table.notes tr.top td.left {border:0px !important; background-image:url(/bitrix/themes/.default/images/notes/lt.gif) !important; height:2px !important; width:2px !important;}\ndiv.bx-core-admin-dialog-content table.notes tr.top td.right {border:0px !important; background-image:url(/bitrix/themes/.default/images/notes/rt.gif) !important; height:2px !important; width:2px !important;}\ndiv.bx-core-admin-dialog-content table.notes tr.bottom td {border-bottom:1px solid #D7D6BA !important;}\ndiv.bx-core-admin-dialog-content table.notes tr.bottom td.left {border:0px !important; background-image:url(/bitrix/themes/.default/images/notes/lb.gif) !important; height:2px !important; width:2px !important;}\ndiv.bx-core-admin-dialog-content table.notes tr.bottom td.right {border:0px !important; background-image:url(/bitrix/themes/.default/images/notes/rb.gif) !important; height:2px !important; width:2px !important;}\ndiv.bx-core-admin-dialog-content table.notes td.content {padding:7px !important;}\ndiv.bx-core-admin-dialog-content div.notes div.ruler {border-top:1px solid #D7D6BA; margin-top:8px;}\ndiv.bx-core-admin-dialog-content div.notes p {font-size:100% !important; margin:12px 0px 12px 0px;}\ndiv.bx-core-admin-dialog-content div.notes a.control {text-decoration:none; color:black;}\ndiv.bx-core-admin-dialog-content div.notes a.control:hover {text-decoration:underline;}\n\ndiv.bx-core-dialog a.bx-popup-sign {display:block; width:11px; height:11px; overflow:hidden; margin-right:3px; background-repeat:no-repeat; background-position:top left;}\ndiv.bx-core-dialog a.bx-popup-minus {background-image:url(/bitrix/js/main/core/images/components/minus.gif);}\ndiv.bx-core-dialog a.bx-popup-plus {background-image:url(/bitrix/js/main/core/images/components/plus.gif);}\n\n\n\n\n\n\n\n/* Popup menu */\ndiv.bx-popup-menu td, div.bx-popup-menu table, div.bx-popup-menu tr, div.bx-popup-menu tbody {color:black !important; border:none !important; border-spacing:0 !important; background:transparent !important; width:auto !important; font-weight:normal !important; letter-spacing:normal !important; font-variant:normal !important;font-style:normal !important; text-indent:0 !important; word-spacing:normal !important; vertical-align:middle !important; white-space:normal !important; letter-spacing:0 !important;text-decoration: none !important;table-layout:auto !important; text-align:left !important; padding:0px !important; margin:0px !important; height:auto !important; line-height:normal !important; font-size:medium !important;}\n\ndiv.bx-popup-menu table.bx-popup-menu-wrapper { background: scroll #FFF url(../images/menu/menu_gutter.gif) repeat-y 1px 0 !important;}\ndiv.bx-popup-menu table.bx-popup-menu-layout { background: scroll transparent none repeat-x 0 0 !important; border-bottom: 1px solid #f9f9f9 ! important;}\ndiv.bx-popup-menu td.bx-popup-menu table table { border: none ! important;}\n\n\ndiv.bx-popup-menu td.bx-popup-menu {border:1px solid #B6B6B6 !important; padding:1px 1px 0 1px !important; background: scroll transparent url(../images/menu/menu_gutter_gradient.gif) no-repeat  1px 0 !important; width:100% !important;}\n\n\ntd.bx-popup-menu div.bx-popup-item table{width:100% !important; }\ntd.bx-popup-menu div.bx-popup-item {margin:1px !important; cursor:default;}\ntd.bx-popup-menu div.bx-popup-item-over, td.bx-popup-menu div.bx-pressed {margin:0 !important; border:1px solid #AEB6C2; background-color:#CEDAEE !important;}\n\n\ntd.bx-popup-menu div.bx-popup-item td.gutter {width:22px !important;}\ntd.bx-popup-menu div.bx-popup-item td.arrow {width:10px !important; background:transparent url(../images/menu/menu_arrow.gif) 2px center no-repeat !important;}\ntd.bx-popup-menu div.bx-popup-item td.item {padding:3px 7px 3px 9px !important; font-family:Verdana,Arial,sans-serif; font-size:11px !important; white-space:nowrap !important; color:black !important; line-height:normal !important; font-weight:normal !important;}\ntd.bx-popup-menu div.bx-popup-item td.default {font-weight:bold !important; line-height:normal !important;}\ntd.bx-popup-menu div.bx-popup-item td.disabled {color:#939393 !important;}\ntd.bx-popup-menu div.bx-popup-menu-separator {margin:1px 4px 1px 30px; background-color:#EAEAEA; overflow:hidden; line-height: 1px; font-size: 1px; height: 1px;}\ntd.bx-popup-menu div.bx-popup-item div.icon {width:22px; height:20px; background-position:center; background-repeat:no-repeat;}\n\n/*menu icons*/\ntd.bx-popup-menu div.bx-popup-item .checked {background-image:url(../images/menu/checkbox.gif);}\n\n/*\ntd.bx-popup-menu div.bx-popup-item .favorites {background-image:url(start_menu/main/favorite.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .favorites {background-image:url(start_menu/main/favorite_over.gif);}\ntd.bx-popup-menu div.bx-popup-item .loading {background-image:url(start_menu/main/loading.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .loading {background-image:url(start_menu/main/loading_over.gif);}\n\ntd.bx-popup-menu div.bx-popup-item .button_content {background-image:url(start_menu/main/content.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .button_content {background-image:url(start_menu/main/content_over.gif);}\ntd.bx-popup-menu div.bx-popup-item .button_services {background-image:url(start_menu/main/services.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .button_services {background-image:url(start_menu/main/services_over.gif);}\ntd.bx-popup-menu div.bx-popup-item .button_store {background-image:url(start_menu/main/store.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .button_store {background-image:url(start_menu/main/store_over.gif);}\ntd.bx-popup-menu div.bx-popup-item .button_statistics {background-image:url(start_menu/main/statistics.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .button_statistics {background-image:url(start_menu/main/statistics_over.gif);}\ntd.bx-popup-menu div.bx-popup-item .button_settings {background-image:url(start_menu/main/settings.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .button_settings {background-image:url(start_menu/main/settings_over.gif);}\n\ntd.bx-popup-menu div.bx-popup-item .user_menu_icon {background-image:url(start_menu/main/user.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .user_menu_icon {background-image:url(start_menu/main/user_over.gif);}\ntd.bx-popup-menu div.bx-popup-item .sys_menu_icon {background-image:url(start_menu/main/sys.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .sys_menu_icon {background-image:url(start_menu/main/sys_over.gif);}\ntd.bx-popup-menu div.bx-popup-item .util_menu_icon {background-image:url(start_menu/main/tools.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .util_menu_icon {background-image:url(start_menu/main/tools_over.gif);}\ntd.bx-popup-menu div.bx-popup-item .update_menu_icon {background-image:url(start_menu/main/update.gif);}\ntd.bx-popup-menu div.bx-popup-item .update_menu_icon_partner {background-image:url(start_menu/main/update_partner.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .update_menu_icon {background-image:url(start_menu/main/update_over.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .update_menu_icon_partner {background-image:url(start_menu/main/update_over_partner.gif);}\ntd.bx-popup-menu div.bx-popup-item .fav_menu_icon {background-image:url(start_menu/main/favorite.gif);}\ntd.bx-popup-menu div.bx-popup-item-over .fav_menu_icon {background-image:url(start_menu/main/favorite_over.gif);}\n*/\n\n/*component menu icons */\ntd.bx-popup-menu div.bx-popup-item .parameters {background-image:url(/bitrix/themes/.default/public/components/buttons/parameters.gif);}\ntd.bx-popup-menu div.bx-popup-item .edit {background-image:url(/bitrix/themes/.default/public/components/buttons/edit.gif);}\ntd.bx-popup-menu div.bx-popup-item .copy {background-image:url(/bitrix/themes/.default/public/components/buttons/copy.gif);}\ntd.bx-popup-menu div.bx-popup-item .edit-common {background-image:url(/bitrix/themes/.default/public/components/buttons/edit_common.gif);}\ntd.bx-popup-menu div.bx-popup-item .edit-wf {background-image:url(/bitrix/themes/.default/public/components/buttons/edit_wf.gif);}\ntd.bx-popup-menu div.bx-popup-item .menu-edit {background-image:url(/bitrix/themes/.default/public/components/buttons/menu_edit.gif);}\ntd.bx-popup-menu div.bx-popup-item .menu-add {background-image:url(/bitrix/themes/.default/public/components/buttons/menu_add.gif);}\ntd.bx-popup-menu div.bx-popup-item .menu-delete {background-image:url(/bitrix/themes/.default/public/components/buttons/menu_delete.gif);}\ntd.bx-popup-menu div.bx-popup-item .menu-template {background-image:url(/bitrix/themes/.default/public/components/buttons/menu_templ.gif);}\ntd.bx-popup-menu div.bx-popup-item .nav-template {background-image:url(/bitrix/themes/.default/public/components/buttons/nav_templ.gif);}\ntd.bx-popup-menu div.bx-popup-item .parameters-2 {background-image:url(/bitrix/themes/.default/public/components/buttons2/parameters.gif);}\ntd.bx-popup-menu div.bx-popup-item .edit-2 {background-image:url(/bitrix/themes/.default/public/components/buttons2/edit.gif);}\ntd.bx-popup-menu div.bx-popup-item .edit-css {background-image:url(/bitrix/themes/.default/public/components/buttons2/edit_css.gif);}\ntd.bx-popup-menu div.bx-popup-item .copy-2 {background-image:url(/bitrix/themes/.default/public/components/buttons2/copy.gif);}\ntd.bx-popup-menu div.bx-popup-item .del-cache {background-image:url(/bitrix/themes/.default/public/components/buttons2/delcache.gif);}\n\n/*panel menu icons */\ntd.bx-popup-menu div.bx-popup-item .panel-new-file {background-image:url(/bitrix/themes/.default/public/panel_new/menus/new_file.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-new-file-template {background-image:url(/bitrix/themes/.default/public/panel_new/menus/create_template.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-new-folder {background-image:url(/bitrix/themes/.default/public/panel_new/menus/new_folder.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-new-folder-template {background-image:url(/bitrix/themes/.default/public/panel_new/menus/create_folder_template.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-edit-visual {background-image:url(/bitrix/themes/.default/public/panel_new/menus/edit_html.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-edit-text {background-image:url(/bitrix/themes/.default/public/panel_new/menus/edit_text.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-edit-php {background-image:url(/bitrix/themes/.default/public/panel_new/menus/edit_php.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-file-props {background-image:url(/bitrix/themes/.default/public/panel_new/menus/file_props.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-folder-props {background-image:url(/bitrix/themes/.default/public/panel_new/menus/folder_props.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-file-access {background-image:url(/bitrix/themes/.default/public/panel_new/menus/file_access.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-folder-access {background-image:url(/bitrix/themes/.default/public/panel_new/menus/folder_access.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-file-delete {background-image:url(/bitrix/themes/.default/public/panel_new/menus/delete_file.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-folder-delete {background-image:url(/bitrix/themes/.default/public/panel_new/menus/delete_folder.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-page-cache {background-image:url(/bitrix/themes/.default/public/panel_new/menus/page_cache.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-comp-cache {background-image:url(/bitrix/themes/.default/public/panel_new/menus/comp_cache.gif);}\ntd.bx-popup-menu div.bx-popup-item .icon-delete {background-image:url(/bitrix/themes/.default/public/panel_new/buttons/delete.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-key {background-image:url(/bitrix/themes/.default/public/panel_new/menus/key.gif);}\ntd.bx-popup-menu div.bx-popup-item .panel-user {background-image:url(/bitrix/themes/.default/public/panel_new/menus/user.gif);}\n\n\n/* Toolbar */\ndiv.bx-component-opener {position: absolute !important; z-index: 996 !important;}\n\nspan.bx-context-toolbar\n{\n    display: inline-block !important;\n    border: 1px solid #CFCFCF !important;\n    vertical-align: top !important;\n    margin:0 !important;\n    padding:0 !important;\n    position:static !important;\n}\n\nspan.bx-context-toolbar, span.bx-context-toolbar a\n{\n     /*Protection from user styles*/\n    letter-spacing:normal !important;\n    list-style:none !important;\n    text-align: left !important;\n    text-indent:0 !important;\n    text-transform: none !important;\n    visibility:visible !important;\n    white-space: normal !important;\n    word-spacing:normal !important;\n    float: none !important;\n    position:static !important;\n    text-decoration: none !important;\n    font: normal normal normal 11px/23px Tahoma, sans-serif !important;\n    outline: none !important;\n}\n\nspan.bx-context-toolbar-inner\n{\n    display:inline-block !important;\n    height:24px !important;\n    background: scroll #F8F8F4 url(../images/panel/sprite03.png) repeat-x 0 -791px !important;\n    vertical-align: top !important;\n    border: none !important;\n    margin:0 !important;\n    padding:0 !important;\n    position:static !important;\n\twhite-space: nowrap !important;\n}\n\nspan.bx-context-toolbar-drag-icon\n{\n    display: inline-block !important;\n    width: 12px !important;\n    height: 24px !important;\n    background: scroll transparent url(../images/panel/sprite03.png) no-repeat -26px -927px !important;\n    cursor:move !important;\n    vertical-align: top !important;\n    border: none !important;\n    margin:0 !important;\n    padding:0 !important;\n    position:static !important;\n}\n\nspan.bx-context-toolbar-button-wrapper, span.bx-context-toolbar-button\n{\n    display: inline-block !important;\n    vertical-align: top !important;\n    text-decoration: none !important;\n    height:24px !important;\n    margin: 0 !important;\n    padding: 0 !important;\n    outline: none !important;\n    cursor:default !important;\n    border: none !important;\n    background:scroll transparent none repeat-x 0 0 !important;\n    position:static !important;\n}\n\nspan.bx-context-toolbar-button-wrapper {  }\n\nspan.bx-context-toolbar-button-inner\n{\n    display: inline-block !important;\n    vertical-align: top !important;\n    height:24px !important;\n    border: none !important;\n    background:scroll transparent none repeat-x 0 0 !important;\n    margin:0 0 0 1px !important;\n    padding: 0 5px 0 0 !important;\n    text-align:left !important;\n    text-decoration: none !important;\n    outline:none !important;\n    position:static !important;\n}\n\nspan.bx-context-toolbar-button-inner a\n{\n    display: inline-block !important;\n    margin:0 !important;\n    padding:0 !important;\n    text-decoration:none !important;\n    outline:none !important;\n    cursor: pointer !important;\n    color: #484847 !important;\n    vertical-align: top !important;\n    height:24px !important;\n    text-align: left !important;\n    position:static !important;\n}\n\nspan.bx-context-toolbar-button-inner a:hover { color: #484847 !important;}\n\nspan.bx-context-toolbar-button-arrow, span.bx-context-toolbar-single-button-arrow\n{\n    display: inline-block !important;\n    width: 14px !important;\n    height: 24px !important;\n    background: scroll transparent url(../images/panel/sprite03.png) no-repeat -267px -256px !important;\n    vertical-align:top !important;\n    position:static !important;\n}\nspan.bx-context-toolbar a.bx-context-toolbar-button-arrow { margin: 0 -7px 0 0 !important; width:14px !important; display:inline-block !important; }\nspan.bx-context-toolbar-single-button-arrow { margin-right: -6px !important; }\n\n\nspan.bx-context-toolbar-button-hover { background: scroll transparent url(../images/panel/sprite03.png) no-repeat 0 -696px !important;}\nspan.bx-context-toolbar-button-hover span.bx-context-toolbar-button-inner { background: scroll transparent url(../images/panel/sprite03.png) no-repeat right -696px !important;}\nspan.bx-context-toolbar-button-arrow-hover { background: scroll transparent url(../images/panel/sprite03.png) no-repeat 0 -670px !important; }\nspan.bx-context-toolbar-button-arrow-hover span.bx-context-toolbar-button-inner { background: scroll transparent url(../images/panel/sprite03.png) no-repeat right -670px !important; }\nspan.bx-context-toolbar-button-text-hover {background: scroll transparent url(../images/panel/sprite03.png) no-repeat 0 -643px !important;}\nspan.bx-context-toolbar-button-text-hover span.bx-context-toolbar-button-inner {background: scroll transparent url(../images/panel/sprite03.png) no-repeat right -643px !important;}\n\n.bx-context-toolbar-button-icon\n{\n    display: inline-block !important;\n    vertical-align: top !important;\n    width: 20px !important;\n    height: 24px !important;\n    border: none !important;\n    margin:0 !important;\n    padding:0 !important;\n    background:scroll transparent url(\"../images/panel/sprite03.png\") no-repeat -68px -977px !important;\n    position:static !important;\n}\n\nspan.bx-context-toolbar-separator\n{\n    display: inline-block !important;\n    vertical-align: top !important;\n    width: 5px !important;\n    height: 24px !important;\n    background: scroll transparent url(../images/panel/sprite03.png) no-repeat -43px -927px !important;\n    border: none !important;\n    margin:0 !important;\n    padding:0 !important;\n    position:static !important;\n}\n\n.bx-context-toolbar-settings-icon {background: scroll transparent url(../images/panel/sprite03.png) no-repeat -49px -927px !important; }\n.bx-context-toolbar-create-icon {background: scroll transparent url(../images/panel/sprite03.png) no-repeat -43px -954px !important; }\n.bx-context-toolbar-edit-icon {background: scroll transparent url(../images/panel/sprite03.png) no-repeat -69px -954px !important; }\n.bx-context-toolbar-delete-icon {background: scroll transparent url(../images/panel/sprite03.png) no-repeat -92px -953px !important; }\n.bx-context-toolbar-empty-area { background: scroll transparent url(../images/panel/empty-area.gif) no-repeat 0 0 !important;}\n.bx-context-toolbar-edit-visual {background:scroll transparent url(/bitrix/themes/.default/public/panel_new/menus/edit_html.gif) no-repeat 0 0 !important;}\n\n\n\n.bx-popup-item .bx-context-toolbar-create-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -42px -956px !important; }\n.bx-popup-item .bx-context-toolbar-edit-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -67px -956px !important; }\n.bx-popup-item .bx-context-toolbar-delete-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -90px -955px !important; }\n.bx-popup-item .bx-context-toolbar-settings-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -92px -979px !important; }\n\n\n\nspan.bx-context-toolbar-button-text\n{\n    display: inline-block !important;\n    vertical-align: top !important;\n    color:#484847 !important;\n    font: normal normal normal 11px/23px Tahoma, sans-serif !important;\n    border: none !important;\n    margin:0 1px 0 0 !important;\n    padding:0 !important;\n    background:scroll transparent none repeat-x 0 0 !important;\n    position:static !important;\n\twhite-space: nowrap !important;\n}\n\nspan.bx-context-toolbar-icons { display:inline-block !important; position: static !important; top:auto !important; right: auto !important; white-space: nowrap !important;}\n\na.bx-context-toolbar-pin, a.bx-context-toolbar-pin-fixed\n{\n    display: inline-block !important;\n    height:24px !important;\n    width:15px !important;\n    margin:0 !important;\n    padding:0 !important;\n    outline: none !important;\n    vertical-align: top !important;\n    border: none !important;\n    background:scroll transparent none repeat-x 0 0 !important;\n    position:static !important;\n}\n\na.bx-context-toolbar-pin { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -229px -298px !important;}\na.bx-context-toolbar-pin-fixed { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -206px -298px !important; }\n\nspan.bx-context-toolbar-switcher-separator { display: inline-block !important; vertical-align: top !important; width: 3px !important; height: 24px !important;}\na.bx-context-toolbar-switcher\n{\n    display: inline-block !important;\n    vertical-align: top !important;\n    width: 12px !important;\n    height: 24px !important;\n    background: scroll transparent url(../images/panel/sprite03.png) no-repeat -68px -927px !important;\n    border: none !important;\n    margin:0 !important;\n    padding:0 !important;\n    position:static !important;\n}\na.bx-context-toolbar-switcher:hover { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -81px -927px !important; }\n\nspan.bx-context-toolbar br { display: none !important; margin:0 !important; padding:0 !important;}\nspan.bx-context-toolbar-vertical-mode br { display: inline !important; }\n\n/*span.bx-context-toolbar-break { display: none !important;}\nspan.bx-context-toolbar-vertical-mode span.bx-context-toolbar-break { display: block !important; }*/\n\nspan.bx-context-toolbar-vertical-mode span.bx-context-toolbar-button { position:relative !important; }\nspan.bx-context-toolbar-vertical-mode span.bx-context-toolbar-button-wrapper { height: 25px !important; margin: 0 2px !important; display: inline-block !important;}\nspan.bx-context-toolbar-vertical-mode span.bx-context-toolbar-inner { height: auto !important; background:scroll #F8F8F5 none repeat-x  0 0  !important; min-width: 85px; position:relative !important;}\nspan.bx-context-toolbar-vertical-mode span.bx-context-toolbar-icons { position: absolute !important; top:0 !important; right:0 !important; height: 24px !important; width: 75px !important; text-align: right !important;}\n\nspan.bx-context-toolbar-button-underlay { display: none !important;}\nspan.bx-context-toolbar-vertical-mode span.bx-context-toolbar-button-underlay\n{\n    position:absolute !important;\n    height:24px !important;\n    width:100% !important;\n    background: scroll #FFF url(../images/panel/sprite03.png) repeat-x 0 -789px !important;\n    display: block !important;\n    margin:0 !important;\n    padding:0 !important;\n}\n\nspan.bx-context-toolbar-vertical-mode span.bx-context-toolbar-separator { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -125px -927px !important; }\nspan.bx-context-toolbar-vertical-mode span.bx-context-toolbar-drag-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -134px -927px !important; }\nspan.bx-context-toolbar-vertical-mode a.bx-context-toolbar-menu { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -95px -927px !important; }\nspan.bx-context-toolbar-vertical-mode a.bx-context-toolbar-menu:hover { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -110px -927px !important; }\n\n/* Popup Icons*/\n.bx-popup-item-wizard-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -112px -958px !important; }\n.bx-popup-item-delete-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -90px -955px !important; }\n.bx-popup-item-create-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -42px -956px !important; }\n.bx-popup-item-edit-icon { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -67px -956px !important; }\n\n\ndiv.bx-debug-content-details {overflow: auto !important;}\n\n\n.bx-tooltip-simple{font-size:11px; font-family: Tahoma, Arial, Verdana, Sans-Serif; color:black; padding:5px; background-color: #ffffce;\nborder:1px solid black; overflow: visible; line-height:normal; font-weight:normal; letter-spacing:normal !important; font-variant:normal !important; font-style:normal !important; text-indent:0 !important; word-spacing:normal !important; text-align:left !important; z-index: 5000; position: absolute;}\n.bx-tooltip-simple p {display: inline!important;}\n\n\n.bx-dialog-notify-outer {position: absolute; top: 39px; left: 0pt; z-index: 1; width: 100%; margin-right: 0px;}\n.bx-dialog-notify {background:scroll #FFEB8D url(../images/panel/sprite03.png) repeat-x 0 -1178px !important; position:relative !important; margin:0 6px 0 0 !important; padding:0 !important;}\n.bx-dialog-notify-text { text-align:center !important; padding: 3px 20px 5px  !important; margin:0 !important; color: #000 !important;}\n.bx-dialog-notify-text, #bx-panel .bx-dialog-notify-text a {font: normal normal normal 12px/normal Tahoma, sans-serif !important; }\n.bx-dialog-notify-close { position:absolute !important; display:block !important; top:5px !important; right: 5px !important; width: 12px !important; height:12px !important; margin:0 !important; padding:0 !important;}\n.bx-dialog-notify-close a { background: scroll transparent url(../images/panel/sprite03.png) no-repeat -268px -243px !important; width:12px !important; height:12px !important; display: block !important; }\n.bx-dialog-notify-text a, #bx-panel .bx-dialog-notify-text a:hover { color: #0041d2 !important; text-decoration: underline !important;}\n\n.bx-dialog-notify-outer.bx-dialog-notify-hidden {display: none !important}\n\n/* Popup With Border */\n\n.bx-core-dialog-border .dialog-head div.l{background-position:left -254px;}\n.bx-core-dialog-border .dialog-head div.r {background-position:right -254px;}\n.bx-core-dialog-border .dialog-head div.c {background-position:0 -296px;}\n.bx-core-dialog-border .dialog-foot div.l {background-position:0 -337px;}\n.bx-core-dialog-border .dialog-foot div.r {background-position:right -387px;}\n.bx-core-dialog-border .dialog-foot div.c {background-position:0 -439px;}\n.bx-core-dialog-border .dialog-foot div.c img {left:3px !important;}\n.bx-core-dialog-border .dialog-head-icons {background-position:0 -296px;}\n.bx-core-dialog-border .dialog-center {background-image:url(\"/bitrix/js/main/core/images/dialog_borders_b.png\"); border-left:1px solid #d9d9d7;}\n"
          },
          "redirectURL": "",
          "headersSize": 321,
          "bodySize": 44471
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 1,
          "receive": 10
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 4,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/templates/corp_services_blue/components/bitrix/catalog.section/index/style.css?1302034920",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1302034920",
              "value": ""
            }
          ],
          "headersSize": 420,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "105"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:22:00 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 105,
            "text": ".catalog-price {\n\t color:red;\n}\ndiv.catalog-section table td {\n\tpadding-right:10px;\n\tpadding-top:10px;\n}\n"
          },
          "redirectURL": "",
          "headersSize": 319,
          "bodySize": 105
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 8,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/components/bitrix/news.list/templates/.default/style.css?1302034917",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1302034917",
              "value": ""
            }
          ],
          "headersSize": 398,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "108"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:21:57 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 108,
            "text": "div.news-list img.preview_picture\n{\n\tfloat:left;\n\tmargin:0 4px 6px 0;\n}\n.news-date-time {\n\tcolor:#486DAA;\n}\n"
          },
          "redirectURL": "",
          "headersSize": 319,
          "bodySize": 108
        },
        "cache": {},
        "timings": {
          "blocked": 4,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 4,
          "receive": 0
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 8,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/templates/corp_services_blue/styles.css?1337757879",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1337757879",
              "value": ""
            }
          ],
          "headersSize": 381,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "1211"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 23 May 2012 07:24:39 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 1211,
            "text": "/* Text */\nimg {border:0 none;}\n\nh1, h2, h3, h4, h5, h6\n{\n\tfont-family: Arial, Helvetica,sans-serif; \n\tmargin:1.3em 0 0.7em;\n\tfont-weight:normal;\n\tline-height:1.2;\n}\n\nh1 { font-size:190%; margin:0 0 1em; }\nh2 { font-size:150%; }\nh3 { font-size:130%; font-weight: bold;}\nh4 { font-size:120%;}\nh5 \n{ \n\tborder-bottom:1px solid #E5E5E5;\n\tfont-size:140%;\n\tfont-weight:normal;\n\tmargin:0 0 1.1em;\n\tpadding:0 0 1em;\n}\nh6 { font-size:100%; }\n\nhr, .hr \n{\n\tborder-top:1px solid;\n\tdisplay:block;\n\tfont-size:1px;\n\theight:1px;\n\tline-height:1px;\n\tmargin:12px 0;\n\toverflow:hidden;\n\tpadding:0;\n}\n\n#workarea ul { list-style-type: none;  padding:0; margin: 0 0 0 1.5em;}\n#workarea ul li:before { content:'\\2014\\a0'; }\n#workarea li\n{\n\tbehavior:expression( !this.before  ? this.before = this.innerHTML = '<span class=\"dash\">— </span>' + this.innerHTML :'' );\n\ttext-indent:-1.35em;\n\tmargin: 0.6em 0\n}\n\n#workarea ul ul { padding:0 0 0 1.5em; margin: 0.6em 0}\n\n\ntable.data-table { width: 100%; border-bottom: 1px solid #F0F0F0; border-top: 1px solid #F0F0F0}\ntable.data-table th { text-align: left;}\ntable.data-table td, table.data-table th { padding: 1em; font-size: 0.85em;}\ntable.data-table tr.alt-row { background-color: #F0F0F0; }"
          },
          "redirectURL": "",
          "headersSize": 320,
          "bodySize": 1211
        },
        "cache": {},
        "timings": {
          "blocked": 4,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 4,
          "receive": 0
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 10,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/templates/corp_services_blue/template_styles.css?1337757879",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1337757879",
              "value": ""
            }
          ],
          "headersSize": 390,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "8400"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 23 May 2012 07:24:39 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 8400,
            "text": "html { width:100%; height: 100%; }\n\nbody\n{\n\theight:100%;\n\tmargin:0;\n\tpadding:0;\n\tfont-size: 80.01%;\n\tfont-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\nform { margin:0; padding:0;}\nform.main-form\n{ \n\tdisplay: block;\n\tmargin:0; \n\tpadding:0;\n\twidth:100%;\n\theight:100%;\n}\n \n#page-wrapper\n{\t\n\tmin-height:100%;\t  \n\tmargin: 0 auto -85px;\n\tmin-width: 990px;\n}\n\n* html #page-wrapper { height: 100%; }\n\n#header { height: 120px; position: relative;}\n#header table { width: 80%; height: 77px;}\n#header td { padding: 0; vertical-align: middle; text-align: left;}\n\ntd#logo { padding-left: 32px;}\ntd#logo a { outline: none;}\ntd#slogan { padding-left: 32px; width: 100%;  font-size: 1.2em; font-style: italic; /*font-weight: bold;*/}\n\n#search { width: 23%; position: absolute; right:21px; top: 30px; }\n#search div.flat{height: 20px;}\t\t\t\t\t\t\t \n#search div.search-box\n{\n\tborder: 1px solid; \n\theight: 20px;\n\toverflow:hidden;\n\tpadding:0;\n\tposition: absolute;\n\tleft: 21px;\n\tright: 61px;\n\tfloat: left;\n}\n\n* html #search div.search-box { margin-right:-82px;\t}\n\n#search div.search-box input\n{\n\tborder:1px solid;\n\twidth:98%;\n\theight: 18px;\n\tpadding:0;\n\tmargin:0;\n}\n\n#search input { vertical-align: top;}\n#search-button { float: right; width:48px; border: 1px solid;}\n#search-button input::-moz-focus-inner { border: 0; padding: 0; }/*Remove button padding in FF*/\n#search-button input \n{\n\tdisplay: block;\n\tborder: none;\n\tbackground: none;\t\n\twidth:48px;\n\tpadding:0;\n\tmargin:0;\n\tfont-family: Georgia, serif;\n\tfont-size: 12px;\n\theight: 19px;\n\tcursor: pointer;\n\tcursor: hand;\n\toutline: none;\t\n}\n\ndiv.search-item h4 { margin-bottom: 0.4em;}\n\n#top-menu { margin: 0 0 0 32px; padding: 0; list-style-type: none; overflow: hidden; zoom:1;}\n#top-menu li { float: left; margin: 0 1.5em 0 0; }\n#top-menu a  \n{\n\tdisplay: block; \n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\n\ttext-decoration: none; \n\tfont-family: Verdana, Arial, Helvetica, sans-serif;\n\tfont-size: 1.2em;\n\toutline: none;\n\tpadding: 11px 0 7px;\t\n\tmargin: 0 16px 3px;\n}\n\n#top-menu li.selected a { padding: 11px 16px 10px; margin: 0;}\n#top-menu li.selected .r1 { border-left: 1px solid; border-right: 1px solid; }\n#top-menu li.selected .r0 { border-left: 1px solid; border-right: 1px solid; }\n\n* html #top-menu .r1 { width: 2px;}\n* html #top-menu .r0 { width: 2px;}\n\n#top-menu li.selected .r1 { width: expression(runtimeStyle.width = parentNode.offsetWidth - 4 + 'px'); }\n#top-menu li.selected .r0 { width: expression(runtimeStyle.width = parentNode.offsetWidth - 2 + 'px'); }\n\n#breadcrumb  {\tpadding:0; margin: 0 41px 32px 32px;}\n#breadcrumb p { margin: 0 10px;}\n\n#breadcrumb a, #breadcrumb span { font-size: 0.85em; padding:0 0.4em; text-decoration: none;}\n#breadcrumb a:hover { text-decoration: underline;}\n#breadcrumb b { border-right: 1px solid; border-left: 1px solid;}\n#breadcrumb b.top { margin-bottom: 2px;}\n#breadcrumb b.bottom { margin-top: 2px;}\n\n#content-wrapper { overflow: hidden; margin: 21px 0 50px; zoom:1;}\n#content { float: left; width: 77%; overflow: hidden; }\n#sidebar { float: right; width: 23%; overflow: hidden;  }\n#sidebar-inner { margin-right: 21px;}\n\n#workarea-wrapper { margin: 0 38px 0 25px;}\n#left-menu { float: left; width: 25%; }\n\nul.left-menu { font-weight: bold; list-style-type: none; margin: 0; padding: 0 0 0 1.5em;}\n\n/* Root */\nul.left-menu a { font-size: 1.1em; outline: none;}\nul.left-menu .selected a { text-decoration: none; }\n\nul.left-menu ul a { font-size: 0.85em !important; text-decoration: underline !important; outline: none; vertical-align:top; }\n\nul.left-menu li.current { padding: 0; overflow: hidden; zoom:1; display: block; margin-top: 0.3em;}\nul.left-menu .current i  \n{\n\tpadding: 1px 10px 2px 13px; \n\ttext-decoration: none !important;\n\tdisplay: block;\n\tzoom:1;\n\tfont-style:normal;\n\tfont-size: 0.85em !important;\n\tvertical-align:top;\n}\n\nul.left-menu .current b { border-left:1px solid; border-right:1px solid; }\nul.left-menu ul { font-weight: normal; margin: 0.5em 0 0 -4px; padding: 0; list-style-type: none;}\nul.left-menu ul ul { margin: 0.5em 0 0 1em; }\nul.left-menu li li\n{ \n\tmargin-bottom: 0.7em; \n\tpadding:0 13px 0;\n\ttext-indent: 0;\n\tbackground: url(images/left-menu-arrow.gif) no-repeat 5px 3px;\n\tlist-style-type: none; \n}\n\nul.left-menu li\n{\n\tbehavior:expression( !this.before ? this.before = this.innerHTML = '<span class=\"dash\">— </span>' + this.innerHTML :'' );\n\ttext-indent:-1.35em;\n\tbackground: none;\n\tpadding:0;\n\tmargin-bottom: 1.5em;\n}\nul.left-menu li li { behavior: '';}\n\nul.left-menu li:before { content:'\\2014\\a0'; }\nul.left-menu li li:before { content:'';}\n\nul.left-menu li li li { margin-bottom: 0.3em; }\n\n#workarea { float: right; width: 75%; clear:right; }\n#workarea-inner { margin-left: 25px;}\n\n#banner \n{ \n\theight: 175px; \n\tmargin: 0 28px 40px 19px; \n\toverflow:hidden; \n\tposition:relative; \n}\n\n#banner-image { height:175px; width: 425px; overflow:hidden; text-decoration: none; display: block; }\n#banner-text \n{ \n\tpadding: 0; \n\tfont-family: Arial, Helvetica, sans-serif;\n\tfont-size: 2em;\n\tposition: absolute;\n\tleft: 35%;\n\ttop: 0;\n\tleft:0;\n\twidth: 100%;\n\theight: 175px;\n\tz-index:10;\n\t\n}\n\n#banner-text td {padding:0;}\n#banner-text a { text-decoration: none; display: block;}\n\n#banner-text small { font-size: 0.5em; padding-top: 1em; display: block; padding-left: 30px;}\n#banner-text big { font-size: 1.4em; display: block; }\n#banner-text span { padding-left: 30px; display:block;}\n#banner-overlay\n{ \n\tz-index:5; \n\theight: 175px; \n\twidth: 100%; \n\tposition: absolute; \n\ttop: 0;\n\tleft: 0; \n\toutline: none;\n\tdisplay: block;\n\tcursor: pointer;\n\tcursor: hand;\n}\n\n\n\n#footer, #space-for-footer  { height: 85px; }\n#footer { position: relative;}\n\n#copyright { padding:21px 0 0 35px; font-size: 0.85em; width: 49%;}\n#copyright p { margin:0;}\n\n#footer-links { margin:0; padding:0; list-style: none;}\n#bottom-menu { width:50%; position:absolute; right:25px; top: 20px;  text-align: right;}\n#footer-links li { display: inline; padding-left:1.5em;}\n\n/* Navigation */\ndiv.navigation { font-size:100%; line-height:200%; }\nspan.navigation-title { padding-right:0.65em; font-weight: bold;}\ndiv.navigation a { text-decoration:underline; padding:0.2em 0.3em;}\nspan.nav-current-page { padding:0.2em 0.3em; }\ndiv.navigation span.arrow { font-size:100%; font-family:Times, serif; }\ndiv.navigation span.ctrl { font-size:85%; }\n\n/*Site Map */\ntable.map-columns { width: 100%;}\ntable.map-columns td { vertical-align: top; padding: 0;}\ntable.map-columns ul { padding:0 0 2em 0; font-weight: bold;}\ntable.map-columns li { margin: 0 0 1.5em 0 !important;}\ntable.map-columns li li { margin: 0 0 0.6em 0 !important;}\ntable.map-columns ul ul { font-weight: normal; padding:0 0 0 1.5em; margin: 0.6em 0}\n\n\n/* Ask a question */\n#support {position: relative; margin:0 0 3em; padding-top: 3px;}\n#support-question { position: absolute; width: 30px; height: 30px; top: 0; left:0;}\n#support-text { height: 20px; margin-left: 15px; padding-left: 22px; padding-top: 2px; overflow:hidden;}\n#support-text a { font-size: 14px; font-weight: bold; text-decoration: none;}\n#support b { border-right:1px solid; margin-left: 15px;}\n\n/* Schedule */\n#schedule { margin: 0 0 3em; }\n#schedule div.schedule { font-size: 0.85em; }\n#schedule p { margin: 0 0 1em; }\n\n/* Telephone*/\n#telephone  \n{\n\tpadding: 0 0 0 37px;\n\tmargin: 0 0 1.5em;\n\tmin-height: 30px;\n}\n\n* html #telephone { padding-top: 6px;}\n\n#telephone nobr { font-family: Georgia, serif;  font-size: 1.6em;}\n\n/* Content Block List */\ndl.block-list { margin: 0 0 3.2em 0; padding:0; }\ndl.block-list dt { margin: 0; padding: 0 0 0.3em; font-size: 1em;}\ndl.block-list dd { margin:0 0 1.8em; padding:0; font-size: 0.85em;}\n\n/* Information Box*/\ndiv.information-box .r1 { border-left:1px solid; border-right:1px solid; }\ndiv.information-box .r0 { border-left:1px solid; border-right:1px solid; }\ndiv.information-box-content { font-size: 0.9em; padding: 12px 15px;}\n\n/* News List */\ndiv.news-list { margin: 0 0 2em;}\ndiv.news-item { margin: 0 0 1.3em; }\ndiv.news-date { margin: 0 0 0.5em; }\ndiv.news-title { font-size: 1.2em; margin: 0 0 0.5em; }\na.news-detail-link { display: block; margin: 1em 0 0; outline: none;}\n\n/* Forms */\ndiv.content-form div.form-input input, div.content-form div.form-input textarea, div.content-form div.form-input select \n{ \t\n\tborder:1px solid;  \n\tborder-color: #777 #CCCCCC #CCCCCC #777\n}\n \ndiv.content-form div.field label.field-title { font-size: 1.117em; }"
          },
          "redirectURL": "",
          "headersSize": 320,
          "bodySize": 8400
        },
        "cache": {},
        "timings": {
          "blocked": 4,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 1
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 25,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/js/main/core/core.js?1331322852",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1331322852",
              "value": ""
            }
          ],
          "headersSize": 347,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Content-Length",
              "value": "54219"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 09 Mar 2012 19:54:12 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 54219,
            "text": "/**********************************************************************/\n/*********** Bitrix JS Core library ver 0.9.0 beta ********************/\n/**********************************************************************/\n\n;(function(window){\nif (window.BX) return;\n\n\nvar BX = function(node, bCache)\n{\n\tif (BX.type.isNotEmptyString(node))\n\t{\n\t\tvar ob;\n\n\t\tif (!!bCache && null != NODECACHE[node]) ob = NODECACHE[node];\n\t\tob = ob || document.getElementById(node);\n\t\tif (!!bCache) NODECACHE[node] = ob;\n\n\t\treturn ob;\n\t}\n\telse if (BX.type.isDomNode(node))\n\t\treturn node;\n\telse if (BX.type.isFunction(node))\n\t\treturn BX.ready(node);\n\n\treturn null;\n},\n\n/* language messages */\nMESS = {},\n\n/* ready */\n__readyHandler = null,\nreadyBound = false,\nreadyList = [],\n\n/* list of registered proxy functions */\nproxyId = 1,\nproxyList = [],\n\n/* getElementById cache */\nNODECACHE = {},\n\n/* List of denied event handlers */\ndeniedEvents = [],\n\n/* list of registered event handlers */\neventsList = [],\n\n/* list of registered custom events */\ncustomEvents = {},\n\n/* list of external garbage collectors */\ngarbageCollectors = [],\n\n/* browser detection */\nbOpera = navigator.userAgent.toLowerCase().indexOf('opera') != -1,\nbSafari = navigator.userAgent.toLowerCase().indexOf('webkit') != -1,\nbIE = document.attachEvent && !bOpera,\n\n/* regexps */\nr = {\n\tscript: /<script([^>]*)>/i,\n\tscript_src: /src=[\"\\']([^\"\\']+)[\"\\']/i,\n\tspace: /\\s+/,\n\tltrim: /^[\\s\\r\\n]+/g,\n\trtrim: /[\\s\\r\\n]+$/g,\n\tstyle: /<link.*?(rel=\"stylesheet\"|type=\"text\\/css\")[^>]*/i,\n\tstyle_href: /href=[\"\\']([^\"\\']+)[\"\\']/i\n},\n\neventTypes = {\n\tclick: 'MouseEvent',\n\tdblclick: 'MouseEvent',\n\tmousedown: 'MouseEvent',\n\tmousemove: 'MouseEvent',\n\tmouseout: 'MouseEvent',\n\tmouseover: 'MouseEvent',\n\tmouseup: 'MouseEvent'\n},\n\nlastWait = [];\n\nBX.ext = function(ob) {for (var i in ob) this[i] = ob[i];}\n\n/* OO emulation utility */\nBX.extend = function(child, parent)\n{\n\tvar f = function() {};\n\tf.prototype = parent.prototype;\n\n\tchild.prototype = new f();\n\tchild.prototype.constructor = child;\n\n\tchild.superclass = parent.prototype;\n\tif(parent.prototype.constructor == Object.prototype.constructor)\n\t{\n\t\tparent.prototype.constructor = parent;\n\t}\n}\n\nBX.is_subclass_of = function(ob, parent_class)\n{\n\tif (ob instanceof parent_class)\n\t\treturn true;\n\n\tif (parent_class.superclass)\n\t\treturn BX.is_subclass_of(ob, parent_class.superclass);\n\n\treturn false;\n}\n\n// language utility\nBX.message = function(mess)\n{\n\tif (BX.type.isString(mess))\n\t\treturn MESS[mess];\n\telse\n\t{\n\t\tfor (var i in mess)\n\t\t{\n\t\t\tMESS[i] = mess[i];\n\t\t}\n\t\treturn true;\n\t}\n}\n\nBX.bitrix_sessid = function() {return MESS.bitrix_sessid;}\n\n/* DOM manipulation */\nBX.create = function(tag, data, context)\n{\n\tcontext = context || document;\n\n\tif (null == data && typeof tag == 'object' && tag.constructor !== String)\n\t{\n\t\tdata = tag; tag = tag.tag;\n\t}\n\n\tvar elem;\n\tif (BX.browser.IsIE() && !BX.browser.IsIE9() && null != data && null != data.props && (data.props.name || data.props.id))\n\t{\n\t\telem = context.createElement('<' + tag + (data.props.name ? ' name=\"' + data.props.name + '\"' : '') + (data.props.id ? ' id=\"' + data.props.id + '\"' : '') + '>');\n\t}\n\telse\n\t{\n\t\telem = context.createElement(tag);\n\t}\n\n\treturn data ? BX.adjust(elem, data) : elem;\n}\n\nBX.adjust = function(elem, data)\n{\n\tvar j,len;\n\n\tif (!elem.nodeType)\n\t\treturn null;\n\n\tif (elem.nodeType == 9)\n\t\telem = elem.body;\n\n\tif (data.attrs)\n\t{\n\t\tfor (j in data.attrs)\n\t\t{\n\t\t\tif (j == 'class' || j == 'className')\n\t\t\t\telem.className = data.attrs[j];\n\t\t\telse if(data.attrs[j] == \"\")\n\t\t\t\telem.removeAttribute(j);\n\t\t\telse\n\t\t\t\telem.setAttribute(j, data.attrs[j]);\n\t\t}\n\t}\n\n\tif (data.style)\n\t{\n\t\tfor (j in data.style)\n\t\t\telem.style[j] = data.style[j];\n\t}\n\n\tif (data.props)\n\t{\n\t\tfor (j in data.props)\n\t\t\telem[j] = data.props[j];\n\t}\n\n\tif (data.events)\n\t{\n\t\tfor (j in data.events)\n\t\t\tBX.bind(elem, j, data.events[j]);\n\t}\n\n\tif (data.children && data.children.length > 0)\n\t{\n\t\tfor (j=0,len=data.children.length; j<len; j++)\n\t\t{\n\t\t\tif (BX.type.isNotEmptyString(data.children[j]))\n\t\t\t\telem.innerHTML += data.children[j];\n\t\t\telse if (BX.type.isElementNode(data.children[j]))\n\t\t\t\telem.appendChild(data.children[j]);\n\t\t}\n\t}\n\telse if (data.text)\n\t{\n\t\tBX.cleanNode(elem);\n\t\telem.appendChild((elem.ownerDocument || document).createTextNode(data.text));\n\t}\n\telse if (data.html)\n\t{\n\t\telem.innerHTML = data.html;\n\t}\n\n\treturn elem;\n}\n\nBX.remove = function(ob)\n{\n\tif (null != ob.parentNode)\n\t\tob.parentNode.removeChild(ob);\n\tob = null;\n\treturn null;\n}\n\nBX.cleanNode = function(node, bSuicide)\n{\n\tnode = BX(node);\n\tbSuicide = !!bSuicide;\n\n\tif (node && node.childNodes)\n\t{\n\t\twhile(node.childNodes.length > 0)\n\t\t\tnode.removeChild(node.firstChild);\n\t}\n\n\tif (node && bSuicide)\n\t{\n\t\tnode = BX.remove(node);\n\t}\n\n\treturn node;\n}\n\nBX.addClass = function(ob, value)\n{\n\tvar classNames;\n\tob = BX(ob)\n\n\tif (ob)\n\t{\n\t\tif (!ob.className)\n\t\t{\n\t\t\tob.className = value\n\t\t}\n\t\telse\n\t\t{\n\t\t\tclassNames = (value || \"\").split(r.space);\n\n\t\t\tvar className = \" \" + ob.className + \" \";\n\t\t\tfor (var j = 0, cl = classNames.length; j < cl; j++)\n\t\t\t{\n\t\t\t\tif (className.indexOf(\" \" + classNames[j] + \" \") < 0)\n\t\t\t\t{\n\t\t\t\t\tob.className += \" \" + classNames[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ob;\n}\n\nBX.removeClass = function(ob, value)\n{\n\tob = BX(ob);\n\tif (ob)\n\t{\n\t\tif (ob.className)\n\t\t{\n\t\t\tif (BX.type.isString(value))\n\t\t\t{\n\t\t\t\tvar classNames = value.split(r.space), className = \" \" + ob.className + \" \";\n\t\t\t\tfor (var j = 0, cl = classNames.length; j < cl; j++)\n\t\t\t\t{\n\t\t\t\t\tclassName = className.replace(\" \" + classNames[j] + \" \", \" \");\n\t\t\t\t}\n\n\t\t\t\tob.className = BX.util.trim(className);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tob.className = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ob;\n}\n\nBX.toggleClass = function(ob, value)\n{\n\tvar className;\n\tif (BX.type.isArray(value))\n\t{\n\t\tclassName = ' ' + ob.className + ' ';\n\t\tfor (var j = 0, len = value.length; j < len; j++)\n\t\t{\n\t\t\tif (BX.hasClass(ob, value[j]))\n\t\t\t{\n\t\t\t\tclassName = (' ' + className + ' ').replace(' ' + value[j] + ' ', ' ');\n\t\t\t\tclassName += ' ' + value[j >= len-1 ? 0 : j+1];\n\n\t\t\t\tj--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (j == len)\n\t\t\tob.className += ' ' + value[0];\n\t\telse\n\t\t\tob.className = className;\n\n\t\tob.className = BX.util.trim(ob.className);\n\t}\n\telse if (BX.type.isNotEmptyString(value))\n\t{\n\t\tclassName = ob.className;\n\t\tif (BX.hasClass(ob, value))\n\t\t{\n\t\t\tclassName = (' ' + className + ' ').replace(' ' + value + ' ', ' ');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tclassName += ' ' + value;\n\t\t}\n\n\t\tob.className = BX.util.trim(className);\n\t}\n\n\treturn ob;\n}\n\nBX.hasClass = function(el, className)\n{\n\tif (!el.className)\n\t\treturn false;\n\treturn ((\" \" + el.className + \" \").indexOf(\" \" + className + \" \")) >= 0;\n}\n\nBX.hoverEvents = function(el)\n{\n\tif (el)\n\t\treturn BX.adjust(el, {events: BX.hoverEvents()});\n\telse\n\t\treturn {mouseover: BX.hoverEventsHover, mouseout: BX.hoverEventsHout};\n}\n\nBX.hoverEventsHover = function(){BX.addClass(this,'bx-hover');this.BXHOVER=true;}\nBX.hoverEventsHout = function(){BX.removeClass(this,'bx-hover');this.BXHOVER=false;}\n\nBX.focusEvents = function(el)\n{\n\tif (el)\n\t\treturn BX.adjust(el, {events: BX.focusEvents()});\n\telse\n\t\treturn {mouseover: BX.focusEventsFocus, mouseout: BX.focusEventsBlur};\n}\n\nBX.focusEventsFocus = function(){BX.addClass(this,'bx-focus');this.BXFOCUS=true;}\nBX.focusEventsBlur = function(){BX.removeClass(this,'bx-focus');this.BXFOCUS=false;}\n\nBX.setUnselectable = function(node)\n{\n\tBX.addClass(node, 'bx-unselectable');\n\tnode.setAttribute('unSelectable', 'on');\n}\n\nBX.setSelectable = function(node)\n{\n\tBX.removeClass(node, 'bx-unselectable');\n\tnode.removeAttribute('unSelectable');\n}\n\nBX.styleIEPropertyName = function(name)\n{\n\tif (name == 'float')\n\t\tname = BX.browser.IsIE() ? 'styleFloat' : 'cssFloat';\n\telse\n\t{\n\t\tvar reg = /(\\-([a-z]){1})/g;\n\t\tif (reg.test(name))\n\t\t{\n\t\t\tname = name.replace(reg, function () {return arguments[2].toUpperCase();});\n\t\t}\n\t}\n\treturn name;\n}\n\n/* CSS-notation should be used here */\nBX.style = function(el, property, value)\n{\n\tif (!BX.type.isElementNode(el))\n\t\treturn null;\n\n\tif (value == null)\n\t{\n\t\tvar res;\n\t\tif(el.currentStyle)\n\t\t\tres = el.currentStyle[BX.styleIEPropertyName(property)];\n\t\telse if(window.getComputedStyle)\n\t\t\tres = BX.GetContext(el).getComputedStyle(el, null).getPropertyValue(property);\n\n\t\tif(!res)\n\t\t\tres = '';\n\t\treturn res;\n\t}\n\telse\n\t{\n\t\tel.style[BX.styleIEPropertyName(property)] = value;\n\t\treturn el;\n\t}\n}\n\nBX.focus = function(el)\n{\n\ttry\n\t{\n\t\tel.focus();\n\t\treturn true;\n\t}\n\tcatch (e)\n\t{\n\t\treturn false;\n\t}\n}\n\n/*\n\tparams: {\n\t\ttagName|tag : 'tagName',\n\t\tclassName|class : 'className',\n\t\tattribute : {attribute : value, attribute : value} | attribute | [attribute, attribute....],\n\t\tproperty : {prop: value, prop: value} | prop | [prop, prop]\n\t}\n\n\tall values can be RegExps or strings\n*/\nBX.findChildren = function(obj, params, recursive)\n{\n\treturn BX.findChild(obj, params, recursive, true);\n}\n\nBX.findChild = function(obj, params, recursive, get_all)\n{\n\tif(!obj || !obj.childNodes) return null;\n\n\trecursive = !!recursive; get_all = !!get_all;\n\n\tvar n = obj.childNodes.length, result = [];\n\n\tfor (var j=0; j<n; j++)\n\t{\n\t\tvar child = obj.childNodes[j];\n\n\t\tif (_checkNode(child, params))\n\t\t{\n\t\t\tif (get_all)\n\t\t\t\tresult.push(child)\n\t\t\telse\n\t\t\t\treturn child;\n\t\t}\n\n\t\tif(recursive == true)\n\t\t{\n\t\t\tvar res = BX.findChild(child, params, recursive, get_all);\n\t\t\tif (res)\n\t\t\t{\n\t\t\t\tif (get_all)\n\t\t\t\t\tresult = BX.util.array_merge(result, res);\n\t\t\t\telse\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (get_all && result.length > 0)\n\t\treturn result;\n\telse\n\t\treturn null;\n}\n\nBX.findParent = function(obj, params)\n{\n\tif(!obj)\n\t\treturn null;\n\n\tvar o = obj;\n\twhile(o.parentNode)\n\t{\n\t\tvar parent = o.parentNode;\n\n\t\tif (_checkNode(parent, params))\n\t\t\treturn parent;\n\n\t\to = parent;\n\t}\n\treturn null;\n}\n\nBX.findNextSibling = function(obj, params)\n{\n\tif(!obj)\n\t\treturn null;\n\tvar o = obj;\n\twhile(o.nextSibling)\n\t{\n\t\tvar sibling = o.nextSibling;\n\t\tif (_checkNode(sibling, params))\n\t\t\treturn sibling;\n\t\to = sibling;\n\t}\n\treturn null;\n}\n\nBX.findPreviousSibling = function(obj, params)\n{\n\tif(!obj)\n\t\treturn null;\n\n\tvar o = obj;\n\twhile(o.previousSibling)\n\t{\n\t\tvar sibling = o.previousSibling;\n\t\tif(_checkNode(sibling, params))\n\t\t\treturn sibling;\n\t\to = sibling;\n\t}\n\treturn null;\n}\n\nBX.clone = function(obj, bCopyObj)\n{\n\tvar _obj, i, l;\n\tif (bCopyObj !== false)\n\t\tbCopyObj = true;\n\n\tif (obj === null)\n\t\treturn null;\n\n\tif (BX.type.isDomNode(obj))\n\t{\n\t\t_obj = obj.cloneNode(bCopyObj);\n\t}\n\telse if (typeof obj == 'object')\n\t{\n\t\tif (BX.type.isArray(obj))\n\t\t{\n\t\t\t_obj = [];\n\t\t\tfor (i=0,l=obj.length;i<l;i++)\n\t\t\t{\n\t\t\t\tif (typeof obj[i] == \"object\" && bCopyObj)\n\t\t\t\t\t_obj[i] = BX.clone(obj[i], bCopyObj);\n\t\t\t\telse\n\t\t\t\t\t_obj[i] = obj[i];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t_obj =  {};\n\t\t\tif (obj.constructor)\n\t\t\t{\n\t\t\t\tif (obj.constructor === Date)\n\t\t\t\t\t_obj = new Date(obj);\n\t\t\t\telse\n\t\t\t\t\t_obj = new obj.constructor();\n\t\t\t}\n\n\t\t\tfor (i in obj)\n\t\t\t{\n\t\t\t\tif (typeof obj[i] == \"object\" && bCopyObj)\n\t\t\t\t\t_obj[i] = BX.clone(obj[i], bCopyObj);\n\t\t\t\telse\n\t\t\t\t\t_obj[i] = obj[i];\n\t\t\t}\n\t\t}\n\n\t}\n\telse\n\t{\n\t\t_obj = obj;\n\t}\n\n\treturn _obj;\n}\n\n/* events */\nBX.bind = function(el, evname, func)\n{\n\tif (!el)\n\t\treturn;\n\n\tif (evname === 'mousewheel')\n\t\tBX.bind(el, 'DOMMouseScroll', func);\n\n\tif (el.addEventListener)\n\t\tel.addEventListener(evname, func, false);\n\telse if(el.attachEvent) // IE\n\t\tel.attachEvent(\"on\" + evname, BX.proxy(func, el));\n\telse\n\t\tel[\"on\" + evname] = func;\n\n\teventsList[eventsList.length] = {'element': el, 'event': evname, 'fn': func};\n}\n\nBX.unbind = function(el, evname, func)\n{\n\tif (!el)\n\t\treturn;\n\n\tif (evname === 'mousewheel')\n\t\tBX.unbind(el, 'DOMMouseScroll', func);\n\n\tif(el.removeEventListener) // Gecko / W3C\n\t\tel.removeEventListener(evname, func, false);\n\telse if(el.detachEvent) // IE\n\t\tel.detachEvent(\"on\" + evname, BX.proxy(func, el));\n\telse\n\t\tel[\"on\" + evname] = null;\n}\n\nBX.unbindAll = function(el)\n{\n\tif (!el)\n\t\treturn;\n\n\tfor (var i=0,len=eventsList.length; i<len; i++)\n\t{\n\t\ttry\n\t\t{\n\t\t\tif (eventsList[i] && (null==el || el==eventsList[i].element))\n\t\t\t{\n\t\t\t\tBX.unbind(eventsList[i].element, eventsList[i].event, eventsList[i].fn);\n\t\t\t\teventsList[i] = null;\n\t\t\t}\n\t\t}\n\t\tcatch(e){}\n\t}\n\n\tif (null==el)\n\t{\n\t\teventsList = [];\n\t}\n}\n\nvar captured_events = null, _bind = null;\nBX.CaptureEvents = function(el_c, evname_c)\n{\n\tif (_bind)\n\t\treturn false;\n\n\t_bind = BX.bind; captured_events = [];\n\n\tBX.bind = function(el, evname, func)\n\t{\n\t\tif (el === el_c && evname === evname_c)\n\t\t\tcaptured_events.push(func);\n\n\t\t_bind.apply(this, arguments);\n\t}\n}\n\nBX.CaptureEventsGet = function()\n{\n\tif (_bind)\n\t{\n\t\tBX.bind = _bind;\n\n\t\tvar captured = captured_events;\n\n\t\t_bind = null; captured_events = null;\n\t\treturn captured;\n\t}\n}\n\nBX.fireEvent = function(ob,ev)\n{\n\tvar result = true;\n\tif (document.createEventObject)\n\t{\n\t\t// IE\n\t\tvar e = document.createEventObject();\n\t\tresult = ob.fireEvent('on' + ev, e)\n\t\tif (ob[ev])\n\t\t\tob[ev]();\n\t}\n\telse\n\t{\n\t\t// non-IE\n\t\tvar e = null;\n\n\t\tswitch (eventTypes[ev])\n\t\t{\n\t\t\tcase 'MouseEvent':\n\t\t\t\te = document.createEvent('MouseEvent');\n\t\t\t\te.initMouseEvent(ev, true, true, top, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, null);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\te = document.createEvent('Event');\n\t\t\t\te.initEvent(ev, true, true);\n\t\t}\n\n\t\tresult = ob.dispatchEvent(e);\n    }\n\treturn result;\n}\n\nBX.getWheelData = function(e)\n{\n\te = e || window.event;\n\treturn wheelData = e.detail ? e.detail * -1 : e.wheelDelta / 40;\n}\n\nBX.proxy_context = null;\n\nBX.delegate = function (func, thisObject)\n{\n\tif (!func || !thisObject)\n\t\treturn func;\n\n\treturn function() {\n\t\tvar cur = BX.proxy_context;\n\t\tBX.proxy_context = this;\n\t\tvar res = func.apply(thisObject, arguments);\n\t\tBX.proxy_context = cur;\n\t\treturn res;\n\t}\n}\n\nBX.delegateLater = function (func_name, thisObject, contextObject)\n{\n\treturn function()\n\t{\n\t\tif (thisObject[func_name])\n\t\t{\n\t\t\tvar cur = BX.proxy_context;\n\t\t\tBX.proxy_context = this;\n\t\t\tvar res = thisObject[func_name].apply(contextObject||thisObject, arguments);\n\t\t\tBX.proxy_context = cur;\n\t\t\treturn res;\n\t\t}\n\t}\n}\n\nBX.proxy = function(func, thisObject)\n{\n\tif (!func || !thisObject)\n\t\treturn func;\n\n\tif (null == thisObject.__proxy_id)\n\t{\n\t\tproxyList[thisObject.__proxy_id = proxyList.length] = {};\n\t}\n\n\tif (null == func.__proxy_id)\n\t\tfunc.__proxy_id = proxyId++;\n\n\tif (null == proxyList[thisObject.__proxy_id][func.__proxy_id])\n\t\tproxyList[thisObject.__proxy_id][func.__proxy_id] = BX.delegate(func, thisObject);\n\n\treturn proxyList[thisObject.__proxy_id][func.__proxy_id];\n}\n\nBX.bindDelegate = function (elem, eventName, isTarget, handler)\n{\n\tvar h = BX.delegateEvent(elem, isTarget, handler);\n\tBX.bind(elem, eventName, h);\n\treturn h;\n}\n\nBX.delegateEvent = function(el, isTarget, handler)\n{\n\treturn function(e)\n\t{\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\twhile (target != this)\n\t\t{\n\t\t\tif (_checkNode(target, isTarget))\n\t\t\t{\n\t\t\t\treturn handler.call(target, e);\n\t\t\t}\n\n\t\t\ttarget = target.parentNode;\n\t\t}\n\t}\n}\n\nBX.False = function() {return false;}\nBX.DoNothing = function() {}\n\n// TODO: also check event handlers set via BX.bind()\nBX.denyEvent = function(el, ev)\n{\n\tdeniedEvents.push([el, ev, el['on' + ev]]);\n\tel['on' + ev] = BX.DoNothing;\n}\n\nBX.allowEvent = function(el, ev)\n{\n\tfor(var i=0, len=deniedEvents.length; i<len; i++)\n\t{\n\t\tif (deniedEvents[i][0] == el && deniedEvents[i][1] == ev)\n\t\t{\n\t\t\tel['on' + ev] = deniedEvents[i][2];\n\t\t\tBX.util.deleteFromArray(deniedEvents, i);\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nBX.fixEventPageXY = function(event)\n{\n\tBX.fixEventPageX(event);\n\tBX.fixEventPageY(event);\n\treturn event;\n};\n\nBX.fixEventPageX = function(event)\n{\n\tif (event.pageX == null && event.clientX != null)\n\t{\n    \tevent.pageX =\n\t\t\tevent.clientX +\n\t\t\t(document.documentElement && document.documentElement.scrollLeft || document.body && document.body.scrollLeft || 0) -\n\t\t\t(document.documentElement.clientLeft || 0);\n\t}\n\n\treturn event;\n};\n\nBX.fixEventPageY = function(event)\n{\n\tif (event.pageY == null && event.clientY != null)\n\t{\n\t\tevent.pageY =\n\t\t\tevent.clientY +\n\t\t\t(document.documentElement && document.documentElement.scrollTop || document.body && document.body.scrollTop || 0) -\n\t\t\t(document.documentElement.clientTop || 0);\n\t}\n\n\treturn event;\n};\n\nBX.PreventDefault = function(e)\n{\n\tif(!e) e = window.event;\n\tif(e.stopPropagation)\n\t{\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t}\n\telse\n\t{\n\t\te.cancelBubble = true;\n\t\te.returnValue = false;\n\t}\n\treturn false;\n}\n\nBX.eventReturnFalse = function(e)\n{\n\te=e||window.event;\n\tif (e && e.preventDefault) e.preventDefault();\n\telse e.returnValue = false;\n\treturn false;\n}\n\nBX.eventCancelBubble = function(e)\n{\n\te=e||window.event;\n\tif(e && e.stopPropagation)\n\t\te.stopPropagation();\n\telse\n\t\te.cancelBubble = true;\n}\n\n/* custom events */\n/*\n\tBX.addCustomEvent(eventObject, eventName, eventHandler) - set custom event handler for particular object\n\tBX.addCustomEvent(eventName, eventHandler) - set custom event handler for all objects\n*/\nBX.addCustomEvent = function(eventObject, eventName, eventHandler)\n{\n\t/* shift parameters for short version */\n\tif (BX.type.isString(eventObject))\n\t{\n\t\teventHandler = eventName;\n\t\teventName = eventObject;\n\t\teventObject = window;\n\t}\n\n\teventName = eventName.toUpperCase();\n\n\tif (!customEvents[eventName])\n\t\tcustomEvents[eventName] = [];\n\n\tcustomEvents[eventName].push(\n\t\t{\n\t\t\thandler: eventHandler,\n\t\t\tobj: eventObject\n\t\t}\n\t);\n}\n\nBX.removeCustomEvent = function(eventObject, eventName, eventHandler)\n{\n\t/* shift parameters for short version */\n\tif (BX.type.isString(eventObject))\n\t{\n\t\teventHandler = eventName;\n\t\teventName = eventObject;\n\t\teventObject = window;\n\t}\n\n\teventName = eventName.toUpperCase();\n\n\tif (!customEvents[eventName])\n\t\treturn;\n\n\tfor (var i = 0, l = customEvents[eventName].length; i < l; i++)\n\t{\n\t\tif (!customEvents[eventName][i])\n\t\t\tcontinue;\n\t\tif (customEvents[eventName][i].handler == eventHandler && customEvents[eventName][i].obj == eventObject)\n\t\t{\n\t\t\tdelete customEvents[eventName][i];\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nBX.onCustomEvent = function(eventObject, eventName, arEventParams)\n{\n\t/* shift parameters for short version */\n\tif (BX.type.isString(eventObject))\n\t{\n\t\tarEventParams = eventName;\n\t\teventName = eventObject;\n\t\teventObject = window;\n\t}\n\n\teventName = eventName.toUpperCase();\n\n\tif (!customEvents[eventName])\n\t\treturn;\n\n\tif (!arEventParams)\n\t\tarEventParams = [];\n\n\tvar h;\n\tfor (var i = 0, l = customEvents[eventName].length; i < l; i++)\n\t{\n\t\th = customEvents[eventName][i];\n\t\tif (!h || !h.handler)\n\t\t\tcontinue;\n\n\t\tif (h.obj == window || /*eventObject == window || */h.obj == eventObject) //- only global event handlers will be called\n\t\t{\n\t\t\th.handler.apply(eventObject, arEventParams);\n\t\t}\n\t}\n}\n\nBX.parseJSON = function(data)\n{\n\tvar result = null;\n\tif (BX.type.isString(data))\n\t{\n\t\ttry {\n\t\t\tif (data.indexOf(\"\\n\") >= 0)\n\t\t\t\teval('result = ' + data);\n\t\t\telse\n\t\t\t\tresult = (new Function(\"return \" + data))();\n\t\t}catch(e){}\n\t}\n\n\treturn result;\n}\n\n/* ready */\nBX.isReady = false;\nBX.ready = function(handler)\n{\n\tbindReady();\n\n\tif (BX.isReady)\n\t\thandler.call(document);\n\telse if (readyList)\n\t\treadyList.push(handler);\n}\n\nBX.submit = function(obForm, action_name, action_value)\n{\n\taction_name = action_name || 'save';\n\tif (!obForm['BXFormSubmit_' + action_name])\n\t{\n\t\tobForm['BXFormSubmit_' + action_name] = obForm.appendChild(BX.create('INPUT', {\n\t\t\t'props': {\n\t\t\t\t'type': 'submit',\n\t\t\t\t'name': action_name,\n\t\t\t\t'value': action_value || 'Y'\n\t\t\t},\n\t\t\t'style': {\n\t\t\t\t'display': 'none'\n\t\t\t}\n\t\t}));\n\t}\n\n\tBX.fireEvent(obForm['BXFormSubmit_' + action_name], 'click');\n}\n\n\n/* browser detection */\nBX.browser = {\n\tIsMac: function()\n\t{\n\t\treturn (/Macintosh/i.test(navigator.userAgent));\n\t},\n\t\n\tIsIE: function()\n\t{\n\t\treturn bIE;\n\t},\n\n\tIsIE6: function()\n\t{\n\t\treturn (/MSIE 6/i.test(navigator.userAgent));\n\t},\n\n\tIsIE9: function()\n\t{\n\t\treturn !!document.documentMode && document.documentMode >= 9;\n\t},\n\n\tIsOpera: function()\n\t{\n\t\treturn bOpera;\n\t},\n\n\tIsSafari: function()\n\t{\n\t\treturn bSafari;\n\t},\n\n\tIsDoctype: function(pDoc)\n\t{\n\t\tpDoc = pDoc || document;\n\n\t\tif (pDoc.compatMode)\n\t\t\treturn (pDoc.compatMode == \"CSS1Compat\");\n\n\t\tif (pDoc.documentElement && pDoc.documentElement.clientHeight)\n\t\t\treturn true;\n\n\t\treturn false;\n\t},\n\n\tSupportLocalStorage: function() {\n\t\treturn !!BX.localStorage && !!BX.localStorage.checkBrowser()\n\t}\n}\n\n/* low-level fx funcitons*/\nBX.show = function(ob)\n{\n\tif (ob.BXDISPLAY || !_checkDisplay(ob))\n\t{\n\t\tob.style.display = ob.BXDISPLAY;\n\t}\n}\n\nBX.hide = function(ob)\n{\n\tif (!ob.BXDISPLAY)\n\t\t_checkDisplay(ob);\n\n\tob.style.display = 'none';\n}\n\nBX.toggle = function(ob, values)\n{\n\tif (!values && BX.type.isElementNode(ob))\n\t{\n\t\tvar bShow = true;\n\t\tif (ob.BXDISPLAY)\n\t\t\tbShow = !_checkDisplay(ob);\n\t\telse\n\t\t\tbShow = ob.style.display == 'none';\n\n\t\tif (bShow)\n\t\t\tBX.show(ob);\n\t\telse\n\t\t\tBX.hide(ob);\n\t}\n\telse if (BX.type.isArray(values))\n\t{\n\t\tfor (var i=0,len=values.length; i<len; i++)\n\t\t{\n\t\t\tif (ob == values[i])\n\t\t\t{\n\t\t\t\tob = values[i==len-1 ? 0 : i+1]\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (i==len)\n\t\t\tob = values[0];\n\t}\n\n\treturn ob;\n}\n\n/* some useful util functions */\n\nBX.util = {\n\tarray_values: function(ar)\n\t{\n\t\tif (!BX.type.isArray(ar))\n\t\t\treturn BX.util._array_values_ob(ar);\n\t\tvar arv = [];\n\t\tfor(var i=0,l=ar.length;i<l;i++)\n\t\t\tif (ar[i] !== null && typeof ar[i] != 'undefined')\n\t\t\t\tarv.push(ar[i]);\n\t\treturn arv;\n\t},\n\n\t_array_values_ob: function(ar)\n\t{\n\t\tvar arv = [];\n\t\tfor(var i in ar)\n\t\t\tif (ar[i] !== null && typeof ar[i] != 'undefined')\n\t\t\t\tarv.push(ar[i]);\n\t\treturn arv;\n\t},\n\n\tarray_keys: function(ar)\n\t{\n\t\tif (!BX.type.isArray(ar))\n\t\t\treturn BX.util._array_keys_ob(ar);\n\t\tvar arv = [];\n\t\tfor(var i=0,l=ar.length;i<l;i++)\n\t\t\tif (ar[i] !== null && typeof ar[i] != 'undefined')\n\t\t\t\tarv.push(i);\n\t\treturn arv;\n\t},\n\n\t_array_keys_ob: function(ar)\n\t{\n\t\tvar arv = [];\n\t\tfor(var i in ar)\n\t\t\tif (ar[i] !== null && typeof ar[i] != 'undefined')\n\t\t\t\tarv.push(i);\n\t\treturn arv;\n\t},\n\n\tarray_merge: function(first, second)\n\t{\n\t\tif (!BX.type.isArray(first)) first = [];\n\t\tif (!BX.type.isArray(second)) second = [];\n\n\t\tvar i = first.length, j = 0;\n\n\t\tif (typeof second.length === \"number\")\n\t\t{\n\t\t\tfor (var l = second.length; j < l; j++)\n\t\t\t{\n\t\t\t\tfirst[i++] = second[j];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\twhile (second[j] !== undefined)\n\t\t\t{\n\t\t\t\tfirst[i++] = second[j++];\n\t\t\t}\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tarray_unique: function(ar)\n\t{\n\t\tvar i=0,j,len=ar.length;\n\t\tif(len<2) return ar;\n\n\t\tfor (; i<len-1;i++)\n\t\t{\n\t\t\tfor (j=i+1; j<len;j++)\n\t\t\t{\n\t\t\t\tif (ar[i]==ar[j])\n\t\t\t\t{\n\t\t\t\t\tar.splice(j--,1); len--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn ar;\n\t},\n\n\tin_array: function(needle, haystack)\n\t{\n\t\tfor(var i=0; i<haystack.length; i++)\n\t\t{\n\t\t\tif(haystack[i] == needle)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tarray_search: function(needle, haystack)\n\t{\n\t\tfor(var i=0; i<haystack.length; i++)\n\t\t{\n\t\t\tif(haystack[i] == needle)\n\t\t\t\treturn i;\n\t\t}\n\t\treturn -1;\n\t},\n\n\ttrim: function(s)\n\t{\n\t\tif (BX.type.isString(s))\n\t\t\treturn s.replace(r.ltrim, '').replace(r.rtrim, '');\n\t\telse\n\t\t\treturn s;\n\t},\n\n\turlencode: function(s){return encodeURIComponent(s);},\n\n\t// it may also be useful. via sVD.\n\tdeleteFromArray: function(ar, ind) {return ar.slice(0, ind).concat(ar.slice(ind + 1));},\n\tinsertIntoArray: function(ar, ind, el) {return ar.slice(0, ind).concat([el]).concat(ar.slice(ind));},\n\n\thtmlspecialchars: function(str)\n\t{\n\t\tif(!str.replace) return str;\n\n\t\treturn str.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t},\n\n\thtmlspecialcharsback: function(str)\n\t{\n\t\tif(!str.replace) return str;\n\n\t\treturn str.replace(/\\&quot;/g, '\"').replace(/&#39;/g, \"'\").replace(/\\&lt;/g, '<').replace(/\\&gt;/g, '>').replace(/\\&amp;/g, '&');\n\t},\n\n\t// Quote regular expression characters plus an optional character\n\tpreg_quote: function(str, delimiter)\n\t{\n\t\tif(!str.replace)\n\t\t\treturn str;\n\t\treturn str.replace(new RegExp('[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\' + (delimiter || '') + '-]', 'g'), '\\\\$&');\n\t},\n\n\tjsencode: function(str)\n\t{\n\t\tif (!str || !str.replace)\n\t\t\treturn str;\n\n\t\tvar escapes =\n\t\t[\n\t\t\t{ c: \"\\\\\\\\\", r: \"\\\\\\\\\" }, // should be first\n\t\t\t{ c: \"\\\\t\", r: \"\\\\t\" },\n\t\t\t{ c: \"\\\\n\", r: \"\\\\n\" },\n\t\t\t{ c: \"\\\\r\", r: \"\\\\r\" },\n\t\t\t{ c: \"\\\"\", r: \"\\\\\\\"\" },\n\t\t\t{ c: \"'\", r: \"\\\\'\" },\n\t\t\t{ c: \"<\", r: \"\\\\x3C\" },\n\t\t\t{ c: \">\", r: \"\\\\x3E\" },\n\t\t\t{ c: \"\\\\u2028\", r: \"\\\\u2028\" },\n\t\t\t{ c: \"\\\\u2029\", r: \"\\\\u2029\" }\n\t\t];\n\t\tfor (var i = 0; i < escapes.length; i++)\n\t\t\tstr = str.replace(new RegExp(escapes[i].c, 'g'), escapes[i].r);\n\t\treturn str;\n\t},\n\n\tstr_pad: function(input, pad_length, pad_string, pad_type)\n\t{\n\t\tpad_string = pad_string || ' ';\n\t\tpad_type = pad_type || 'right';\n\t\tinput = input.toString();\n\n\t\tif (pad_type == 'left')\n\t\t\treturn BX.util.str_pad_left(input, pad_length, pad_string);\n\t\telse\n\t\t\treturn BX.util.str_pad_right(input, pad_length, pad_string);\n\n\t},\n\n\tstr_pad_left: function(input, pad_length, pad_string)\n\t{\n\t\tvar i = input.length, q=pad_string.length;\n\t\tif (i >= pad_length) return input;\n\n\t\tfor(;i<pad_length;i+=q)\n\t\t\tinput = pad_string + input;\n\n\t\treturn input;\n\t},\n\n\tstr_pad_right: function(input, pad_length, pad_string)\n\t{\n\t\tvar i = input.length, q=pad_string.length;\n\t\tif (i >= pad_length) return input;\n\n\t\tfor(;i<pad_length;i+=q)\n\t\t\tinput += pad_string;\n\n\t\treturn input;\n\t},\n\n\tpopup: function(url, width, height)\n\t{\n\t\tvar w, h;\n\t\tif(BX.browser.IsOpera())\n\t\t{\n\t\t\tw = document.body.offsetWidth;\n\t\t\th = document.body.offsetHeight;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tw = screen.width;\n\t\t\th = screen.height;\n\t\t}\n\t\twindow.open(url, '', 'status=no,scrollbars=yes,resizable=yes,width='+width+',height='+height+',top='+Math.floor((h - height)/2-14)+',left='+Math.floor((w - width)/2-5));\n\t}\n}\n\nBX.type = {\n\tisString: function(item) {\n\t\treturn item === '' ? true : (item ? (typeof (item) == \"string\" || item instanceof String) : false);\n\t},\n\tisNotEmptyString: function(item) {\n\t\treturn BX.type.isString(item) ? item.length > 0 : false;\n\t},\n\tisBoolean: function(item) {\n\t\treturn item === false || item === false;\n\t},\n\tisNumber: function(item) {\n\t\treturn item === 0 ? true : (item ? (typeof (item) == \"number\" || item instanceof Number) : false);\n\t},\n\tisFunction: function(item) {\n\t\treturn item === null ? false : (typeof (item) == \"function\" || item instanceof Function);\n\t},\n\tisElementNode: function(item) {\n\t\treturn item && typeof (item) == \"object\" && \"nodeType\" in item && item.nodeType == 1; //document.body.ELEMENT_NODE;\n\t},\n\tisDomNode: function(item) {\n\t\treturn item && typeof (item) == \"object\" && \"nodeType\" in item;\n\t},\n\tisArray: function(item) {\n\t\treturn item && Object.prototype.toString.call(item) == \"[object Array]\";\n\t},\n\tisDate : function(item) {\n\t\treturn item && Object.prototype.toString.call(item) == \"[object Date]\";\n\t}\n}\n\nBX.isNodeInDom = function(node)\n{\n\treturn node === document ? true :\n\t\t(node.parentNode ? BX.isNodeInDom(node.parentNode) : false);\n}\n\nBX.evalPack = function(code)\n{\n\twhile (code.length > 0)\n\t{\n\t\tvar c = code.shift();\n\n\t\tif (c.TYPE == 'SCRIPT_EXT' || c.TYPE == 'SCRIPT_SRC')\n\t\t{\n\t\t\tBX.loadScript(c.DATA, function() {BX.evalPack(code)});\n\t\t}\n\t\telse if (c.TYPE == 'SCRIPT')\n\t\t\tBX.evalGlobal(c.DATA);\n\t}\n}\n\nBX.evalGlobal = function(data)\n{\n\tif (data)\n\t{\n\t\tvar head = document.getElementsByTagName(\"head\")[0] || document.documentElement,\n\t\t\tscript = document.createElement(\"script\");\n\n\t\tscript.type = \"text/javascript\";\n\n\t\tif (!BX.browser.IsIE())\n\t\t{\n\t\t\tscript.appendChild(document.createTextNode(data));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tscript.text = data;\n\t\t}\n\n\t\thead.insertBefore(script, head.firstChild);\n\t\thead.removeChild(script);\n\t}\n}\n\nBX.processHTML = function(HTML, scriptsRunFirst)\n{\n\tvar matchScript, scripts = [], data = HTML;\n\n\twhile ((matchScript = data.match(r.script)) !== null)\n\t{\n\t\tvar end = data.search('<\\/script>', 'i');\n\t\tif (end == -1)\n\t\t\tbreak;\n\n\t\tvar bRunFirst = scriptsRunFirst || (matchScript[1].indexOf('bxrunfirst') != '-1');\n\n\t\tvar matchSrc;\n\t\tif ((matchSrc = matchScript[1].match(r.script_src)) !== null)\n\t\t\tscripts.push({\"bRunFirst\": bRunFirst, \"isInternal\": false, \"JS\": matchSrc[1]});\n\t\telse\n\t\t{\n\t\t\tvar start = matchScript.index + matchScript[0].length;\n\t\t\tvar js = data.substr(start, end-start);\n\n\t\t\tscripts.push({\"bRunFirst\": bRunFirst, \"isInternal\": true, \"JS\": js});\n\t\t}\n\n\t\tdata = data.substr(0, matchScript.index) + data.substr(end+9);\n\t}\n\n\tvar res = {'HTML': data, 'SCRIPT': scripts, 'STYLE': []};\n\n\tif (BX.browser.IsIE()/* && !BX.browser.IsIE9()*/)\n\t{\n\t\twhile ((matchStyle = data.match(r.style)) !== null)\n\t\t{\n\t\t\tvar matchHref;\n\t\t\tif ((matchHref = matchStyle[0].match(r.style_href)) !== null)\n\t\t\t{\n\t\t\t\tres.STYLE.push(matchHref[1]);\n\t\t\t}\n\t\t\tdata = data.replace(matchStyle[0], '');\n\t\t}\n\t}\n\n\treturn res;\n}\n\nBX.garbage = function(call, thisObject)\n{\n\tgarbageCollectors.push({callback: call, context: thisObject});\n}\n\n/* window pos functions */\n\nBX.GetDocElement = function (pDoc)\n{\n\tpDoc = pDoc || document;\n\treturn (BX.browser.IsDoctype(pDoc) ? pDoc.documentElement : pDoc.body);\n}\n\nBX.GetContext = function(node)\n{\n\tif (BX.type.isElementNode(node))\n\t\treturn node.ownerDocument.parentWindow || node.ownerDocument.defaultView || window;\n\telse if (BX.type.isDomNode(node))\n\t\treturn node.parentWindow || node.defaultView || window;\n\telse\n\t\treturn window;\n}\n\nBX.GetWindowInnerSize = function(pDoc)\n{\n\tvar width, height;\n\n\tpDoc = pDoc || document;\n\n\tif (self.innerHeight) // all except Explorer\n\t{\n\t\twidth = BX.GetContext(pDoc).innerWidth;\n\t\theight = BX.GetContext(pDoc).innerHeight;\n\t}\n\telse if (pDoc.documentElement && (pDoc.documentElement.clientHeight || pDoc.documentElement.clientWidth)) // Explorer 6 Strict Mode\n\t{\n\t\twidth = pDoc.documentElement.clientWidth;\n\t\theight = pDoc.documentElement.clientHeight;\n\t}\n\telse if (pDoc.body) // other Explorers\n\t{\n\t\twidth = pDoc.body.clientWidth;\n\t\theight = pDoc.body.clientHeight;\n\t}\n\treturn {innerWidth : width, innerHeight : height};\n}\n\nBX.GetWindowScrollPos = function(pDoc)\n{\n\tvar left, top;\n\n\tpDoc = pDoc || document;\n\n\tif (self.pageYOffset) // all except Explorer\n\t{\n\t\tleft = BX.GetContext(pDoc).pageXOffset;\n\t\ttop = BX.GetContext(pDoc).pageYOffset;\n\t}\n\telse if (pDoc.documentElement && (pDoc.documentElement.scrollTop || pDoc.documentElement.scrollLeft)) // Explorer 6 Strict\n\t{\n\t\tleft = pDoc.documentElement.scrollLeft;\n\t\ttop = pDoc.documentElement.scrollTop;\n\t}\n\telse if (pDoc.body) // all other Explorers\n\t{\n\t\tleft = pDoc.body.scrollLeft;\n\t\ttop = pDoc.body.scrollTop;\n\t}\n\treturn {scrollLeft : left, scrollTop : top};\n}\n\nBX.GetWindowScrollSize = function(pDoc)\n{\n\tvar width, height;\n\tif (!pDoc)\n\t\tpDoc = document;\n\n\tif ( (pDoc.compatMode && pDoc.compatMode == \"CSS1Compat\"))\n\t{\n\t\twidth = pDoc.documentElement.scrollWidth;\n\t\theight = pDoc.documentElement.scrollHeight;\n\t}\n\telse\n\t{\n\t\tif (pDoc.body.scrollHeight > pDoc.body.offsetHeight)\n\t\t\theight = pDoc.body.scrollHeight;\n\t\telse\n\t\t\theight = pDoc.body.offsetHeight;\n\n\t\tif (pDoc.body.scrollWidth > pDoc.body.offsetWidth ||\n\t\t\t(pDoc.compatMode && pDoc.compatMode == \"BackCompat\") ||\n\t\t\t(pDoc.documentElement && !pDoc.documentElement.clientWidth)\n\t\t)\n\t\t\twidth = pDoc.body.scrollWidth;\n\t\telse\n\t\t\twidth = pDoc.body.offsetWidth;\n\t}\n\treturn {scrollWidth : width, scrollHeight : height};\n}\n\nBX.GetWindowSize = function(pDoc)\n{\n\tvar innerSize = this.GetWindowInnerSize(pDoc);\n\tvar scrollPos = this.GetWindowScrollPos(pDoc);\n\tvar scrollSize = this.GetWindowScrollSize(pDoc);\n\n\treturn  {\n\t\tinnerWidth : innerSize.innerWidth, innerHeight : innerSize.innerHeight,\n\t\tscrollLeft : scrollPos.scrollLeft, scrollTop : scrollPos.scrollTop,\n\t\tscrollWidth : scrollSize.scrollWidth, scrollHeight : scrollSize.scrollHeight\n\t};\n}\n\nBX.hide_object = function(ob)\n{\n\tob = BX(ob);\n\tob.style.position = 'absolute';\n\tob.style.top = '-1000px';\n\tob.style.left = '-1000px';\n\tob.style.height = '10px';\n\tob.style.width = '10px';\n};\n\nBX.is_relative = function(el)\n{\n\tvar p = BX.style(el, 'position');\n\treturn p == 'relative' || p == 'absolute';\n}\n\nBX.is_float = function(el)\n{\n\tvar p = BX.style(el, 'float');\n\treturn p == 'right' || p == 'left';\n}\n\nBX.pos = function(el, bRelative)\n{\n\tvar r = { top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 };\n\tbRelative = !!bRelative;\n\tif (!el)\n\t\treturn r;\n\tif (typeof (el.getBoundingClientRect) != \"undefined\" && el.ownerDocument == document && !bRelative)\n\t{\n\t\tvar clientRect = el.getBoundingClientRect();\n\t\tvar root = document.documentElement;\n\t\tvar body = document.body;\n\n\t\tr.top = clientRect.top + root.scrollTop + body.scrollTop;\n\t\tr.left = clientRect.left + root.scrollLeft + body.scrollLeft;\n\t\tr.width = clientRect.right - clientRect.left;\n\t\tr.height = clientRect.bottom - clientRect.top;\n\t\tr.right = clientRect.right + root.scrollLeft + body.scrollLeft;\n\t\tr.bottom = clientRect.bottom + root.scrollTop + body.scrollTop;\n\t}\n\telse\n\t{\n\t\tvar x = 0, y = 0, w = el.offsetWidth, h = el.offsetHeight;\n\t\tvar first = true;\n\t\tfor (; el != null; el = el.offsetParent)\n\t\t{\n\t\t\tif (!first && bRelative && BX.is_relative(el))\n\t\t\t\tbreak;\n\n\t\t\tx += el.offsetLeft;\n\t\t\ty += el.offsetTop;\n\t\t\tif (first)\n\t\t\t{\n\t\t\t\tfirst = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar elBorderLeftWidth = parseInt(BX.style(el, 'border-left-width')),\n\t\t\t\telBorderTopWidth = parseInt(BX.style(el, 'border-top-width'));\n\n\t\t\tif (!isNaN(elBorderLeftWidth) && elBorderLeftWidth > 0)\n\t\t\t\tx += elBorderLeftWidth;\n\t\t\tif (!isNaN(elBorderTopWidth) && elBorderTopWidth > 0)\n\t\t\t\ty += elBorderTopWidth;\n\t\t}\n\n\t\tr.top = y;\n\t\tr.left = x;\n\t\tr.width = w;\n\t\tr.height = h;\n\t\tr.right = r.left + w;\n\t\tr.bottom = r.top + h;\n\t}\n\n\tfor (var i in r) r[i] = parseInt(r[i]);\n\n\treturn r;\n}\n\nBX.align = function(pos, w, h)\n{\n\tvar pDoc = document;\n\tif (BX.type.isElementNode(pos))\n\t{\n\t\tpDoc = pos.ownerDocument;\n\t\tpos = BX.pos(pos);\n\t}\n\n\tvar x = pos[\"left\"], y = pos[\"bottom\"];\n\n\tvar scroll = BX.GetWindowScrollPos(pDoc);\n\tvar size = BX.GetWindowInnerSize(pDoc);\n\n\tif((size.innerWidth + scroll.scrollLeft) - (pos[\"left\"] + w) < 0)\n\t{\n\t\tif(pos[\"right\"] - w >= 0 )\n\t\t\tx = pos[\"right\"] - w;\n\t\telse\n\t\t\tx = scroll.scrollLeft;\n\t}\n\n\tif((size.innerHeight + scroll.scrollTop) - (pos[\"bottom\"] + h) < 0)\n\t{\n\t\tif(pos[\"top\"] - h >= 0)\n\t\t\ty = pos[\"top\"] - h;\n\t\telse\n\t\t\ty = scroll.scrollTop;\n\t}\n\n\treturn {'left':x, 'top':y};\n}\n\nBX.scrollToNode = function(node)\n{\n\tvar obNode = BX(node);\n\n\tif (obNode.scrollIntoView)\n\t\tobNode.scrollIntoView(true);\n\telse\n\t{\n\t\tvar arNodePos = BX.pos(obNode);\n\t\twindow.scrollTo(arNodePos.left, arNodePos.top);\n\t}\n}\n\n/* non-xhr loadings */\nBX.showWait = function(node, msg)\n{\n\tnode = BX(node) || document.body || document.documentElement;\n\tmsg = msg || BX.message('JS_CORE_LOADING');\n\n\tvar container_id = node.id || Math.random();\n\n\tvar obMsg = node.bxmsg = document.body.appendChild(BX.create('DIV', {\n\t\tprops: {\n\t\t\tid: 'wait_' + container_id,\n\t\t\tclassName: 'bx-core-waitwindow'\n\t\t},\n\t\ttext: msg\n\t}));\n\n\tsetTimeout(BX.delegate(_adjustWait, node), 10);\n\n\tlastWait[lastWait.length] = obMsg;\n\treturn obMsg;\n}\n\nBX.closeWait = function(node, obMsg)\n{\n\tobMsg = obMsg || node && (node.bxmsg || BX('wait_' + node.id)) || lastWait.pop();\n\tif (obMsg && obMsg.parentNode)\n\t{\n\t\tfor (var i=0,len=lastWait.length;i<len;i++)\n\t\t{\n\t\t\tif (obMsg == lastWait[i])\n\t\t\t{\n\t\t\t\tlastWait = BX.util.deleteFromArray(lastWait, i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tobMsg.parentNode.removeChild(obMsg);\n\t\tif (node) node.bxmsg = null;\n\t\tBX.cleanNode(obMsg, true);\n\t}\n}\n\nBX.loadScript = function(script, callback, doc)\n{\n\tif (!BX.isReady)\n\t{\n\t\tvar _args = arguments;\n\t\tBX.ready(function() {\n\t\t\tBX.loadScript.apply(this, _args);\n\t\t});\n\t\treturn;\n\t}\n\n\tdoc = doc || document;\n\n\tif (BX.type.isString(script))\n\t\tscript = [script];\n\tvar _callback = function()\n\t{\n\t\treturn (callback && BX.type.isFunction(callback)) ? callback() : null\n\t}\n\tvar load_js = function(ind)\n\t{\n\t\tif (ind >= script.length)\n\t\t\treturn _callback();\n\n\t\tvar oHead = doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n\t\tvar oScript = doc.createElement('script');\n\t\toScript.src = script[ind];\n\n\t\tvar bLoaded = false;\n\t\toScript.onload = oScript.onreadystatechange = function()\n\t\t{\n\t\t\tif (!bLoaded && (!oScript.readyState || oScript.readyState == \"loaded\" || oScript.readyState == \"complete\"))\n\t\t\t{\n\t\t\t\tbLoaded = true;\n\t\t\t\tsetTimeout(function (){load_js(++ind);}, 50);\n\n\t\t\t\toScript.onload = oScript.onreadystatechange = null;\n\t\t\t\tif (oHead && oScript.parentNode)\n\t\t\t\t{\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn oHead.insertBefore(oScript, oHead.firstChild);\n\t}\n\n\tload_js(0);\n}\n\nBX.loadCSS = function(arCSS, doc, win)\n{\n\tif (!BX.isReady)\n\t{\n\t\tvar _args = arguments;\n\t\tBX.ready(function() {\n\t\t\tBX.loadCSS.apply(this, _args);\n\t\t});\n\t\treturn null;\n\t}\n\n\tif (BX.type.isString(arCSS))\n\t{\n\t\tvar bSingle = true;\n\t\tarCSS = [arCSS];\n\t}\n\tvar i, l = arCSS.length, pLnk = [];\n\n\tif (l == 0)\n\t\treturn null;\n\n\tdoc = doc || document;\n\twin = win ||window;\n\n\tif (!win.bxhead)\n\t{\n\t\tvar heads = doc.getElementsByTagName('HEAD');\n\t\twin.bxhead = heads[0];\n\t}\n\n\tif (!win.bxhead)\n\t\treturn null;\n\n\tfor (i = 0; i < l; i++)\n\t{\n\t\tvar lnk = document.createElement('LINK');\n\t\tlnk.href = arCSS[i];\n\t\tlnk.rel = 'stylesheet';\n\t\tlnk.type = 'text/css';\n\t\twin.bxhead.appendChild(lnk);\n\t\tpLnk.push(lnk);\n\t}\n\n\tif (bSingle)\n\t\treturn lnk;\n\n\treturn pLnk;\n}\n\nBX.reload = function(back_url, bAddClearCache)\n{\n\tif (back_url === true)\n\t{\n\t\tbAddClearCache = true;\n\t\tback_url = null;\n\t}\n\n\tvar new_href = back_url || top.location.href;\n\n\tvar hashpos = new_href.indexOf('#'), hash = '';\n\n\tif (hashpos != -1)\n\t{\n\t\thash = new_href.substr(hashpos);\n\t\tnew_href = new_href.substr(0, hashpos);\n\t}\n\n\tif (bAddClearCache && new_href.indexOf('clear_cache=Y') < 0)\n\t\tnew_href += (new_href.indexOf('?') == -1 ? '?' : '&') + 'clear_cache=Y';\n\n\tif (hash)\n\t{\n\t\t// hack for clearing cache in ajax mode components with history emulation\n\t\tif (bAddClearCache && (hash.substr(0, 5) == 'view/' || hash.substr(0, 6) == '#view/') && hash.indexOf('clear_cache%3DY') < 0)\n\t\t\thash += (hash.indexOf('%3F') == -1 ? '%3F' : '%26') + 'clear_cache%3DY'\n\n\t\tnew_href = new_href.replace(/(\\?|\\&)_r=[\\d]*/, '');\n\t\tnew_href += (new_href.indexOf('?') == -1 ? '?' : '&') + '_r='+Math.round(Math.random()*10000) + hash;\n\t}\n\n\ttop.location.href = new_href;\n}\n\nBX.clearCache = function()\n{\n\tBX.showWait();\n\tBX.reload(true);\n}\n\nBX.formatDate = function(date, format)\n{\n\tdate = date || new Date();\n\n\tvar bTime = date.getHours() || date.getMinutes() || date.getSeconds(),\n\t\tstr = !!format\n\t\t\t? format :\n\t\t\t(bTime ? BX.message('FORMAT_DATETIME') : BX.message('FORMAT_DATE')\n\t\t);\n\n\treturn str.replace(/YYYY/ig, date.getFullYear())\n\t\t.replace(/MM/ig, BX.util.str_pad_left((date.getMonth()+1).toString(), 2, '0'))\n\t\t.replace(/DD/ig, BX.util.str_pad_left(date.getDate().toString(), 2, '0'))\n\t\t.replace(/HH/ig, BX.util.str_pad_left(date.getHours().toString(), 2, '0'))\n\t\t.replace(/MI/ig, BX.util.str_pad_left(date.getMinutes().toString(), 2, '0'))\n\t\t.replace(/SS/ig, BX.util.str_pad_left(date.getSeconds().toString(), 2, '0'));\n}\n\nBX.parseDate = function(str)\n{\n\tvar aDate = str.split(/\\D/ig);\n\tvar aFormat = BX.message('FORMAT_DATE').split(/\\W/ig);\n\tif(aDate.length > aFormat.length)\n\t\taFormat = BX.message('FORMAT_DATETIME').split(/\\W/ig);\n\n\tvar i, cnt;\n\tvar aDateArgs=[], aFormatArgs=[];\n\tfor(i = 0, cnt = aDate.length; i < cnt; i++)\n\t\tif(BX.util.trim(aDate[i]) != '')\n\t\t\taDateArgs[aDateArgs.length] = aDate[i];\n\tfor(i = 0, cnt = aFormat.length; i < cnt; i++)\n\t\tif(BX.util.trim(aFormat[i]) != '')\n\t\t\taFormatArgs[aFormatArgs.length] = aFormat[i];\n\n\tvar aResult={};\n\tfor(i = 0, cnt = aFormatArgs.length; i < cnt; i++)\n\t\taResult[aFormatArgs[i].toUpperCase()] = parseInt(aDateArgs[i], 10);\n\n\tif(aResult['DD'] > 0 && aResult['MM'] > 0 && aResult['YYYY'] > 0)\n\t{\n\t\tvar d = new Date();\n\t\td.setDate(1);\n\t\td.setFullYear(aResult['YYYY']);\n\t\td.setMonth(aResult['MM']-1);\n\t\td.setDate(aResult['DD']);\n\t\td.setHours(0, 0, 0);\n\t\tif(!isNaN(aResult['HH']) && !isNaN(aResult['MI']) && !isNaN(aResult['SS']))\n\t\t{\n\t\t\td.setHours(aResult['HH'], aResult['MI'], aResult['SS']);\n\t\t}\n\t\treturn d;\n\t}\n\treturn null;\n}\n\n/******* HINT ***************/\n// if function has 2 params - the 2nd one is hint html. otherwise hint_html is third and hint_title - 2nd;\n// '<div onmouseover=\"BX.hint(this, 'This is &lt;b&gt;Hint&lt;/b&gt;')\"'>;\n// BX.hint(el, 'This is <b>Hint</b>') - this won't work, use constructor\nBX.hint = function(el, hint_title, hint_html, hint_id)\n{\n\tif (null == hint_html)\n\t{\n\t\thint_html = hint_title;\n\t\thint_title = '';\n\t}\n\n\tif (null == el.BXHINT)\n\t{\n\t\tel.BXHINT = new BX.CHint({\n\t\t\tparent: el, hint: hint_html, title: hint_title, id: hint_id\n\t\t});\n\t\tel.BXHINT.Show();\n\t}\n}\n\nBX.hint_replace = function(el, hint_title, hint_html)\n{\n\tif (null == hint_html)\n\t{\n\t\thint_html = hint_title;\n\t\thint_title = '';\n\t}\n\n\tif (!el || !el.parentNode || !hint_html)\n\t\t\treturn null;\n\n\tvar obHint = new BX.CHint({\n\t\thint: hint_html,\n\t\ttitle: hint_title\n\t});\n\n\tobHint.CreateParent();\n\n\tel.parentNode.insertBefore(obHint.PARENT, el);\n\tel.parentNode.removeChild(el);\n\n\tobHint.PARENT.style.marginLeft = '5px';\n\n\treturn el;\n}\n\nBX.CHint = function(params)\n{\n\tthis.PARENT = BX(params.parent);\n\n\tthis.HINT = params.hint;\n\tthis.HINT_TITLE = params.title;\n\n\tthis.PARAMS = {}\n\tfor (var i in this.defaultSettings)\n\t{\n\t\tif (null == params[i])\n\t\t\tthis.PARAMS[i] = this.defaultSettings[i];\n\t\telse\n\t\t\tthis.PARAMS[i] = params[i];\n\t}\n\n\tif (null != params.id)\n\t\tthis.ID = params.id;\n\n\tthis.timer = null;\n\tthis.bInited = false;\n\tthis.msover = true;\n\n\tif (this.PARAMS.showOnce)\n\t{\n\t\tthis.__show();\n\t\tthis.msover = false;\n\t\tthis.timer = setTimeout(BX.proxy(this.__hide, this), this.PARAMS.hide_timeout);\n\t}\n\telse if (this.PARENT)\n\t{\n\t\tBX.bind(this.PARENT, 'mouseover', BX.proxy(this.Show, this));\n\t\tBX.bind(this.PARENT, 'mouseout', BX.proxy(this.Hide, this));\n\t}\n\n\tBX.addCustomEvent('onMenuOpen', BX.delegate(this.disable, this));\n\tBX.addCustomEvent('onMenuClose', BX.delegate(this.enable, this));\n}\n\nBX.CHint.prototype.defaultSettings = {\n\tshow_timeout: 1000,\n\thide_timeout: 500,\n\tdx: 2,\n\tshowOnce: false,\n\tpreventHide: true,\n\tmin_width: 250\n}\n\nBX.CHint.prototype.CreateParent = function(element, params)\n{\n\tif (this.PARENT)\n\t{\n\t\tBX.unbind(this.PARENT, 'mouseover', BX.proxy(this.Show, this));\n\t\tBX.unbind(this.PARENT, 'mouseout', BX.proxy(this.Hide, this));\n\t}\n\n\tif (!params) params = {}\n\tvar type = 'icon';\n\n\tif (params.type && (params.type == \"link\" || params.type == \"icon\"))\n\t\ttype = params.type;\n\n\tif (element)\n\t\ttype = \"element\";\n\n\tif (type == \"icon\")\n\t{\n\t\telement = BX.create('IMG', {\n\t\t\tprops: {\n\t\t\t\tsrc: params.iconSrc\n\t\t\t\t\t? params.iconSrc\n\t\t\t\t\t: \"/bitrix/js/main/core/images/hint.gif\"\n\t\t\t}\n\t\t});\n\t}\n\telse if (type == \"link\")\n\t{\n\t\telement = BX.create(\"A\", {\n\t\t\tprops: {href: 'javascript:void(0)'},\n\t\t\thtml: '[?]'\n\t\t});\n\t}\n\n\tthis.PARENT = element;\n\n\tBX.bind(this.PARENT, 'mouseover', BX.proxy(this.Show, this));\n\tBX.bind(this.PARENT, 'mouseout', BX.proxy(this.Hide, this));\n\n\treturn this.PARENT;\n}\n\nBX.CHint.prototype.Show = function()\n{\n\tthis.msover = true;\n\n\tif (null != this.timer)\n\t\tclearTimeout(this.timer);\n\n\tthis.timer = setTimeout(BX.proxy(this.__show, this), this.PARAMS.show_timeout);\n}\n\nBX.CHint.prototype.Hide = function()\n{\n\tthis.msover = false;\n\n\tif (null != this.timer)\n\t\tclearTimeout(this.timer);\n\n\tthis.timer = setTimeout(BX.proxy(this.__hide, this), this.PARAMS.hide_timeout);\n}\n\nBX.CHint.prototype.__show = function()\n{\n\tif (!this.msover || this.disabled) return;\n\tif (!this.bInited) this.Init();\n\n\tthis.prepareAdjustPos();\n\tthis.DIV.style.display = 'block';\n\tthis.adjustPos();\n\n\tBX.bind(window, 'scroll', BX.proxy(this.__onscroll, this));\n\n\tif (this.PARAMS.showOnce)\n\t{\n\t\tthis.timer = setTimeout(BX.proxy(this.__hide, this), this.PARAMS.hide_timeout);\n\t}\n}\n\nBX.CHint.prototype.__onscroll = function()\n{\n\tif (!BX.admin || !BX.admin.panel || !BX.admin.panel.isFixed()) return;\n\n\tif (this.scrollTimer) clearTimeout(this.scrollTimer);\n\n\tthis.DIV.style.display = 'none';\n\tthis.scrollTimer = setTimeout(BX.proxy(this.Reopen, this), this.PARAMS.show_timeout);\n}\n\nBX.CHint.prototype.Reopen = function()\n{\n\tif (null != this.timer) clearTimeout(this.timer);\n\tthis.timer = setTimeout(BX.proxy(this.__show, this), 50);\n}\n\nBX.CHint.prototype.__hide = function()\n{\n\tif (this.msover) return;\n\tif (!this.bInited) return;\n\n\tBX.unbind(window, 'scroll', BX.proxy(this.Reopen, this));\n\n\tif (this.PARAMS.showOnce)\n\t{\n\t\tthis.Destroy();\n\t}\n\telse\n\t{\n\t\tthis.DIV.style.display = 'none';\n\t}\n}\n\nBX.CHint.prototype.__hide_immediately = function()\n{\n\tthis.msover = false;\n\tthis.__hide();\n}\n\nBX.CHint.prototype.Init = function()\n{\n\tthis.DIV = document.body.appendChild(BX.create('DIV', {\n\t\tprops: {className: 'bx-panel-tooltip'},\n\t\tstyle: {display: 'none'},\n\t\tchildren: [\n\t\t\tBX.create('DIV', {\n\t\t\t\tprops: {className: 'bx-panel-tooltip-top-border'},\n\t\t\t\thtml: '<div class=\"bx-panel-tooltip-corner bx-panel-tooltip-left-corner\"></div><div class=\"bx-panel-tooltip-border\"></div><div class=\"bx-panel-tooltip-corner bx-panel-tooltip-right-corner\"></div>'\n\t\t\t}),\n\t\t\t(this.CONTENT = BX.create('DIV', {\n\t\t\t\tprops: {className: 'bx-panel-tooltip-content'},\n\t\t\t\tchildren: [\n\t\t\t\t\tBX.create('DIV', {\n\t\t\t\t\t\tprops: {className: 'bx-panel-tooltip-underlay'},\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\tBX.create('DIV', {props: {className: 'bx-panel-tooltip-underlay-bg'}})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t})),\n\n\t\t\tBX.create('DIV', {\n\t\t\t\tprops: {className: 'bx-panel-tooltip-bottom-border'},\n\t\t\t\thtml: '<div class=\"bx-panel-tooltip-corner bx-panel-tooltip-left-corner\"></div><div class=\"bx-panel-tooltip-border\"></div><div class=\"bx-panel-tooltip-corner bx-panel-tooltip-right-corner\"></div>'\n\t\t\t})\n\t\t]\n\t}));\n\n\tif (this.ID)\n\t{\n\t\tthis.CONTENT.insertBefore(BX.create('A', {\n\t\t\tattrs: {href: 'javascript:void(0)'},\n\t\t\tprops: {className: 'bx-panel-tooltip-close'},\n\t\t\tevents: {click: BX.delegate(this.Close, this)}\n\t\t}), this.CONTENT.firstChild)\n\t}\n\n\tif (this.HINT_TITLE)\n\t{\n\t\tthis.CONTENT.appendChild(\n\t\t\tBX.create('DIV', {\n\t\t\t\tprops: {className: 'bx-panel-tooltip-title'},\n\t\t\t\ttext: this.HINT_TITLE\n\t\t\t})\n\t\t)\n\t}\n\n\tif (this.HINT)\n\t{\n\t\tthis.CONTENT_TEXT = this.CONTENT.appendChild(BX.create('DIV', {props: {className: 'bx-panel-tooltip-text'}})).appendChild(BX.create('SPAN', {html: this.HINT}));\n\t}\n\n\tif (this.PARAMS.preventHide)\n\t{\n\t\tBX.bind(this.DIV, 'mouseout', BX.proxy(this.Hide, this));\n\t\tBX.bind(this.DIV, 'mouseover', BX.proxy(this.Show, this));\n\t}\n\n\tthis.bInited = true;\n}\n\nBX.CHint.prototype.setContent = function(content)\n{\n\tthis.HINT = content;\n\n\tif (this.CONTENT_TEXT)\n\t\tthis.CONTENT_TEXT.innerHTML = this.HINT;\n\telse\n\t\tthis.CONTENT_TEXT = this.CONTENT.appendChild(BX.create('DIV', {props: {className: 'bx-panel-tooltip-text'}})).appendChild(BX.create('SPAN', {html: this.HINT}));\n}\n\nBX.CHint.prototype.prepareAdjustPos = function()\n{\n\tthis._wnd = {scrollPos: BX.GetWindowScrollPos(),scrollSize:BX.GetWindowScrollSize()};\n}\n\nBX.CHint.prototype.getAdjustPos = function()\n{\n\tvar res = {}, pos = BX.pos(this.PARENT);\n\n\tres.top = pos.bottom + this.PARAMS.dx;\n\n\tif (BX.admin && BX.admin.panel.DIV)\n\t{\n\t\tvar min_top = BX.admin.panel.DIV.offsetHeight + this.PARAMS.dx;\n\n\t\tif (BX.admin.panel.isFixed())\n\t\t{\n\t\t\tmin_top += this._wnd.scrollPos.scrollTop;\n\t\t}\n\t}\n\n\tif (res.top < min_top)\n\t\tres.top = min_top;\n\telse\n\t{\n\t\tif (res.top + this.DIV.offsetHeight > this._wnd.scrollSize.scrollHeight)\n\t\t\tres.top = pos.top - this.PARAMS.dx - this.DIV.offsetHeight;\n\t}\n\n\tres.left = pos.left;\n\tif (pos.left < this.PARAMS.dx) pos.left = this.PARAMS.dx;\n\telse\n\t{\n\t\tfloatWidth = this.DIV.offsetWidth;\n\n\t\tvar max_left = this._wnd.scrollSize.scrollWidth - floatWidth - this.PARAMS.dx;\n\n\t\tif (res.left > max_left)\n\t\t\tres.left = max_left;\n\t}\n\n\treturn res;\n}\n\nBX.CHint.prototype.adjustWidth = function()\n{\n\tif (this.bWidthAdjusted) return;\n\n\tvar w = this.DIV.offsetWidth, h = this.DIV.offsetHeight;\n\n\tif (w > this.PARAMS.min_width)\n\t\tw = Math.round(Math.sqrt(1.618*w*h));\n\n\tif (w < this.PARAMS.min_width)\n\t\tw = this.PARAMS.min_width;\n\n\tthis.DIV.style.width = w + \"px\";\n\n\tif (this._adjustWidthInt)\n\t\tclearInterval(this._adjustWidthInt);\n\tthis._adjustWidthInt = setInterval(BX.delegate(this._adjustWidthInterval, this), 5);\n\n\tthis.bWidthAdjusted = true;\n}\n\nBX.CHint.prototype._adjustWidthInterval = function()\n{\n\tif (!this.DIV || this.DIV.style.display == 'none')\n\t\tclearInterval(this._adjustWidthInt);\n\n\tvar\n\t\tdW = 20,\n\t\tmaxWidth = 1500,\n\t\tw = this.DIV.offsetWidth,\n\t\tw1 = this.CONTENT_TEXT.offsetWidth;\n\n\tif (w > 0 && w1 > 0 && w - w1 < dW && w < maxWidth)\n\t{\n\t\tthis.DIV.style.width = (w + dW) + \"px\";\n\t\treturn;\n\t}\n\n\tclearInterval(this._adjustWidthInt);\n}\n\nBX.CHint.prototype.adjustPos = function()\n{\n\tthis.adjustWidth();\n\n\tvar pos = this.getAdjustPos();\n\n\tthis.DIV.style.top = pos.top + 'px';\n\tthis.DIV.style.left = pos.left + 'px';\n}\n\nBX.CHint.prototype.Close = function()\n{\n\tif (this.ID && BX.WindowManager)\n\t\tBX.WindowManager.saveWindowOptions(this.ID, {display: 'off'});\n\tthis.__hide_immediately();\n\tthis.Destroy();\n}\n\nBX.CHint.prototype.Destroy = function()\n{\n\tif (this.PARENT)\n\t{\n\t\tBX.unbind(this.PARENT, 'mouseover', BX.proxy(this.Show, this));\n\t\tBX.unbind(this.PARENT, 'mouseout', BX.proxy(this.Hide, this));\n\t}\n\n\tif (this.DIV)\n\t{\n\t\tBX.unbind(this.DIV, 'mouseover', BX.proxy(this.Show, this));\n\t\tBX.unbind(this.DIV, 'mouseout', BX.proxy(this.Hide, this));\n\n\t\tBX.cleanNode(this.DIV, true);\n\t}\n}\n\nBX.CHint.prototype.enable = function(){this.disabled = false;}\nBX.CHint.prototype.disable = function(){this.__hide_immediately(); this.disabled = true;}\n\n/* ready */\nif (document.addEventListener)\n{\n\t__readyHandler = function()\n\t{\n\t\tdocument.removeEventListener(\"DOMContentLoaded\", __readyHandler, false);\n\t\trunReady();\n\t}\n}\nelse if (document.attachEvent)\n{\n\t__readyHandler = function()\n\t{\n\t\tif (document.readyState === \"complete\")\n\t\t{\n\t\t\tdocument.detachEvent(\"onreadystatechange\", __readyHandler);\n\t\t\trunReady();\n\t\t}\n\t}\n}\n\nfunction bindReady()\n{\n\tif (!readyBound)\n\t{\n\t\treadyBound = true;\n\n\t\tif (document.readyState === \"complete\")\n\t\t{\n\t\t\treturn runReady();\n\t\t}\n\n\t\tif (document.addEventListener)\n\t\t{\n\t\t\tdocument.addEventListener(\"DOMContentLoaded\", __readyHandler, false);\n\t\t\twindow.addEventListener(\"load\", runReady, false);\n\t\t}\n\t\telse if (document.attachEvent) // IE\n\t\t{\n\t\t\tdocument.attachEvent(\"onreadystatechange\", __readyHandler);\n\t\t\twindow.attachEvent(\"onload\", runReady);\n\n\t\t\tvar toplevel = false;\n\t\t\ttry {toplevel = (window.frameElement == null);} catch(e) {}\n\n\t\t\tif (document.documentElement.doScroll && toplevel)\n\t\t\t\tdoScrollCheck();\n\t\t}\n\t}\n\n\treturn null;\n}\n\n\nfunction runReady()\n{\n\tif (!BX.isReady)\n\t{\n\t\tif (!document.body)\n\t\t\treturn setTimeout(runReady, 15);\n\n\t\tBX.isReady = true;\n\n\n\t\tif (readyList && readyList.length > 0)\n\t\t{\n\t\t\tvar fn, i = 0;\n\t\t\twhile (readyList && (fn = readyList[i++]))\n\t\t\t{\n\t\t\t\tfn.call(document);\n\t\t\t}\n\n\t\t\treadyList = null;\n\t\t}\n\t\t// TODO: check ready handlers binded some other way;\n\t}\n\treturn null;\n}\n\n// hack for IE\nfunction doScrollCheck()\n{\n\tif (BX.isReady)\n\t\treturn;\n\n\ttry {document.documentElement.doScroll(\"left\");} catch( error ) {setTimeout(doScrollCheck, 1); return;}\n\n\trunReady();\n}\n/* \\ready */\n\n/* garbage collector */\nfunction Trash()\n{\n\tvar i,len;\n\n\tfor (i = 0, len = garbageCollectors.length; i<len; i++)\n\t{\n\t\tgarbageCollectors[i].callback.apply(garbageCollectors[i].context || window);\n\n\t\ttry {\n\t\t\tdelete garbageCollectors[i];\n\t\t\tgarbageCollectors[i] = null;\n\t\t} catch (e) {}\n\t}\n\n\tfor (i = 0, len = proxyList.length; i < len; i++)\n\t{\n\t\ttry {\n\t\t\tdelete proxyList[i];\n\t\t\tproxyList[i] = null;\n\t\t} catch (e) {}\n\t}\n\n\ttry {BX.unbindAll();} catch(e) {}\n\n\tNODECACHE = null;\n\tgarbageCollectors = null;\n\tproxyList = null;\n\teventsList = null;\n\treadyList = null;\n\tdeniedEvents = null;\n\tcustomEvents = null;\n\t__readyHandler = null;\n}\n\nfunction _adjustWait()\n{\n\tif (!this.bxmsg) return;\n\n\tvar arContainerPos = BX.pos(this),\n\t\tdiv_top = arContainerPos.top;\n\n\tif (div_top < BX.GetDocElement().scrollTop)\n\t\tdiv_top = BX.GetDocElement().scrollTop + 5;\n\n\tthis.bxmsg.style.top = (div_top + 5) + 'px';\n\n\tif (this == BX.GetDocElement())\n\t{\n\t\tthis.bxmsg.style.right = '5px';\n\t}\n\telse\n\t{\n\t\tthis.bxmsg.style.left = (arContainerPos.right - this.bxmsg.offsetWidth - 5) + 'px';\n\t}\n}\n\nfunction _checkDisplay(ob)\n{\n\tvar d = ob.style.display || BX.style(ob, 'display');\n\tif (d != 'none')\n\t{\n\t\tob.BXDISPLAY = d;\n\t\treturn true;\n\t}\n\telse\n\t{\n\t\tob.BXDISPLAY = 'block';\n\t\treturn false;\n\t}\n}\n\nfunction _checkNode(obj, params)\n{\n\tparams = params || {};\n\n\tif (BX.type.isFunction(params))\n\t\treturn params.call(window, obj);\n\n\tif (!params.allowTextNodes && !BX.type.isElementNode(obj))\n\t\treturn false;\n\tvar i,j,len;\n\tfor (i in params)\n\t{\n\t\tswitch(i)\n\t\t{\n\t\t\tcase 'tag':\n\t\t\tcase 'tagName':\n\t\t\t\tif (BX.type.isString(params[i]))\n\t\t\t\t{\n\t\t\t\t\tif (obj.tagName.toUpperCase() != params[i].toUpperCase())\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse if (params[i] instanceof RegExp)\n\t\t\t\t{\n\t\t\t\t\tif (!params[i].test(obj.tagName))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase 'class':\n\t\t\tcase 'className':\n\t\t\t\tif (BX.type.isString(params[i]))\n\t\t\t\t{\n\t\t\t\t\tif (!BX.hasClass(obj, params[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse if (params[i] instanceof RegExp)\n\t\t\t\t{\n\t\t\t\t\tif (!BX.type.isString(obj.className) || !params[i].test(obj.className))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase 'attr':\n\t\t\tcase 'attribute':\n\t\t\t\tif (BX.type.isString(params[i]))\n\t\t\t\t{\n\t\t\t\t\tif (!obj.getAttribute(params[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse if (BX.type.isArray(params[i]))\n\t\t\t\t{\n\t\t\t\t\tfor (j = 0, len = params[i].length; j < len; j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (params[i] && !obj.getAttribute(params[i]))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfor (j in params[i])\n\t\t\t\t\t{\n\t\t\t\t\t\tvar q = obj.getAttribute(j);\n\t\t\t\t\t\tif (params[i][j] instanceof RegExp)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!BX.type.isString(q) || !params[i][j].test(q))\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (q != '' + params[i][j])\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase 'property':\n\t\t\t\tif (BX.type.isString(params[i]))\n\t\t\t\t{\n\t\t\t\t\tif (!obj[params[i]])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse if (BX.type.isArray(params[i]))\n\t\t\t\t{\n\t\t\t\t\tfor (j = 0, len = params[i].length; j < len; j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (params[i] && !obj[params[i]])\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfor (j in params[i])\n\t\t\t\t\t{\n\t\t\t\t\t\tif (BX.type.isString(params[i][j]))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (obj[j] != params[i][j])\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (params[i][j] instanceof RegExp)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!BX.type.isString(obj[j]) || !params[i][j].test(obj[j]))\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase 'callback':\n\t\t\t\treturn params[i](obj);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nif(window.attachEvent) // IE\n\twindow.attachEvent(\"onunload\", Trash);\nelse if(window.addEventListener) // Gecko / W3C\n\twindow.addEventListener('unload', Trash, false);\nelse\n\twindow.onunload = Trash;\n/* \\garbage collector */\n\n// set empty ready handler\nBX(BX.DoNothing);\n\nwindow.BX = BX;\n})(window)\n"
          },
          "redirectURL": "",
          "headersSize": 337,
          "bodySize": 54219
        },
        "cache": {},
        "timings": {
          "blocked": 4,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 6,
          "receive": 15
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 18,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/js/main/core/core_ajax.js?1331322852",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1331322852",
              "value": ""
            }
          ],
          "headersSize": 352,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Content-Length",
              "value": "25309"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 09 Mar 2012 19:54:12 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 25309,
            "text": "(function(window){\nif (window.BX.ajax) return;\n\nvar\n\tBX = window.BX,\n\n\ttempDefaultConfig = {},\n\tdefaultConfig = {\n\t\tmethod: 'GET', // request method: GET|POST\n\t\tdataType: 'html', // type of data loading: html|json|script\n\t\ttimeout: 0, // request timeout in seconds. 0 for browser-default\n\t\tasync: true, // whether request is asynchronous or not\n\t\tprocessData: true, // any data processing is disabled if false, only callback call\n\t\tscriptsRunFirst: false, // whether to run _all_ found scripts before onsuccess call. script tag can have an attribute \"bxrunfirst\" to turn  this flag on only for itself\n\t\temulateOnload: true,\n\t\tstart: true, // send request immediately (if false, request can be started manually via XMLHttpRequest object returned)\n\t\tcache: true, // whether NOT to add random addition to URL\n\t\tpreparePost: true, // whether set Content-Type x-www-form-urlencoded in POST\n\n\t\tlsTimeout: 30, //local storage data TTL. useless without lsId.\n\t\tlsForce: false //wheter to force query instead of using localStorage data. useless without lsId.\n/*\nother parameters:\n\turl: url to get/post\n\tdata: data to post\n\tonsuccess: successful request callback. BX.proxy may be used.\n\tonfailure: request failure callback. BX.proxy may be used.\n\n\tlsId: local storage id - for constantly updating queries which can communicate via localStorage. core_ls.js needed\n\nany of the default parameters can be overridden. defaults can be changed by BX.ajax.Setup() - for all further requests!\n*/\n\t},\n\tajax_session = null,\n\tloadedScripts = {},\n\tr = {\n\t\t'url_utf': /[^\\034-\\254]+/g,\n\t\t'script_self': /\\/bitrix\\/js\\/main\\/core\\/core(_ajax)*.js$/i,\n\t\t'script_self_window': /\\/bitrix\\/js\\/main\\/core\\/core_window.js$/i,\n\t\t'script_self_admin': /\\/bitrix\\/js\\/main\\/core\\/core_admin.js$/i,\n\t\t'script_onload': /window.onload/g\n\t};\n\n// low-level method\nBX.ajax = function(config)\n{\n\tvar status, data;\n\n\tif (!config || !config.url || !BX.type.isString(config.url))\n\t{\n\t\treturn false;\n\t}\n\n\tfor (var i in tempDefaultConfig)\n\t\tif (typeof (config[i]) == \"undefined\") config[i] = tempDefaultConfig[i];\n\n\ttempDefaultConfig = {};\n\n\tfor (var i in defaultConfig)\n\t\tif (typeof (config[i]) == \"undefined\") config[i] = defaultConfig[i];\n\n\tconfig.method = config.method.toUpperCase();\n\n\tif (!BX.localStorage)\n\t\tconfig.lsId = null;\n\n\tif (BX.browser.IsIE())\n\t{\n\t\tvar result = r.url_utf.exec(config.url);\n\t\tif (result)\n\t\t{\n\t\t\tdo\n\t\t\t{\n\t\t\t\tconfig.url = config.url.replace(result, BX.util.urlencode(result));\n\t\t\t\tresult = r.url_utf.exec(config.url);\n\t\t\t} while (result);\n\t\t}\n\t}\n\n\tif (!config.cache && config.method == 'GET')\n\t\tconfig.url = BX.ajax._uncache(config.url);\n\n\tif (config.method == 'POST' && config.preparePost)\n\t{\n\t\tconfig.data = BX.ajax.prepareData(config.data);\n\t}\n\n\tvar bXHR = true;\n\tif (config.lsId && !config.lsForce)\n\t{\n\t\tvar v = BX.localStorage.get('ajax-' + config.lsId);\n\t\tif (v !== null)\n\t\t{\n\t\t\tbXHR = false;\n\n\t\t\tvar lsHandler = function(lsData) {\n\t\t\t\tif (lsData.key == 'ajax-' + config.lsId)\n\t\t\t\t{\n\t\t\t\t\tvar data = lsData.value, \n\t\t\t\t\t\tbRemove = !!lsData.oldValue && data == null;\n\n\t\t\t\t\tif (!bRemove)\n\t\t\t\t\t\tBX.ajax.__run(config, data);\n\t\t\t\t\telse if (config.onfailure)\n\t\t\t\t\t\tconfig.onfailure(\"timeout\");\n\n\t\t\t\t\tBX.removeCustomEvent('onLocalStorageChange', lsHandler);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (v == 'BXAJAXWAIT')\n\t\t\t{\n\t\t\t\tBX.addCustomEvent('onLocalStorageChange', lsHandler);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsetTimeout(function() {lsHandler({key: 'ajax-' + config.lsId, value: v})}, 10);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (bXHR)\n\t{\n\t\tconfig.xhr = BX.ajax.xhr();\n\t\tif (!config.xhr) return;\n\n\t\tif (config.lsId)\n\t\t{\n\t\t\tBX.localStorage.set('ajax-' + config.lsId, 'BXAJAXWAIT', config.lsTimeout);\n\t\t}\n\n\t\tconfig.xhr.open(config.method, config.url, config.async);\n\t\tif (config.method == 'POST' && config.preparePost)\n\t\t{\n\t\t\tconfig.xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t}\n\n\t\tvar bRequestCompleted = false;\n\t\tvar onreadystatechange = config.xhr.onreadystatechange = function(additional)\n\t\t{\n\t\t\tif (bRequestCompleted)\n\t\t\t\treturn;\n\n\t\t\tif (additional === 'timeout')\n\t\t\t{\n\t\t\t\tif (config.onfailure)\n\t\t\t\t\tconfig.onfailure(\"timeout\");\n\n\t\t\t\tBX.onCustomEvent(config.xhr, 'onAjaxFailure', ['timeout', '', config]);\n\n\t\t\t\tconfig.xhr.onreadystatechange = BX.DoNothing;\n\t\t\t\tconfig.xhr.abort();\n\n\t\t\t\tif (config.async)\n\t\t\t\t{\n\t\t\t\t\tconfig.xhr = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (config.xhr.readyState == 4 || additional == 'run')\n\t\t\t\t{\n\t\t\t\t\tstatus = BX.ajax.xhrSuccess(config.xhr) ? \"success\" : \"error\";\n\t\t\t\t\tbRequestCompleted = true;\n\t\t\t\t\tconfig.xhr.onreadystatechange = BX.DoNothing;\n\n\t\t\t\t\t// var status = oAjax.arThreads[TID].httpRequest.getResponseHeader('X-Bitrix-Ajax-Status');\n\t\t\t\t\t// var bRedirect = (status == 'Redirect');\n\n\t\t\t\t\tif (status == 'success')\n\t\t\t\t\t{\n\t\t\t\t\t\tvar data = config.xhr.responseText;\n\n\t\t\t\t\t\tif (config.lsId)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.localStorage.set('ajax-' + config.lsId, data, config.lsTimeout);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tBX.ajax.__run(config, data);\n\t\t\t\t\t}\n\t\t\t\t\telse if (config.onfailure)\n\t\t\t\t\t{\n\t\t\t\t\t\tconfig.onfailure(\"status\", config.xhr.status);\n\t\t\t\t\t\tBX.onCustomEvent(config.xhr, 'onAjaxFailure', ['status', config.xhr.status, config]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (config.async)\n\t\t\t\t\t{\n\t\t\t\t\t\tconfig.xhr = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (config.async && config.timeout > 0)\n\t\t{\n\t\t\tsetTimeout(function() {\n\t\t\t\tif (config.xhr && !bRequestCompleted)\n\t\t\t\t{\n\t\t\t\t\tonreadystatechange(\"timeout\");\n\t\t\t\t}\n\t\t\t}, config.timeout * 1000);\n\t\t}\n\n\t\tif (config.start)\n\t\t{\n\t\t\tconfig.xhr.send(config.data);\n\n\t\t\tif (!config.async)\n\t\t\t{\n\t\t\t\tonreadystatechange('run');\n\t\t\t}\n\t\t}\n\n\t\treturn config.xhr;\n\t}\n}\n\nBX.ajax.xhr = function()\n{\n\tif (window.XMLHttpRequest)\n\t{\n\t\ttry {return new XMLHttpRequest();} catch(e){}\n\t}\n\telse if (window.ActiveXObject)\n\t{\n\t\ttry { return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\"); }\n\t\t\tcatch(e) {}\n\t\ttry { return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"); }\n\t\t\tcatch(e) {}\n\t\ttry { return new ActiveXObject(\"Msxml2.XMLHTTP\"); }\n\t\t\tcatch(e) {}\n\t\ttry { return new ActiveXObject(\"Microsoft.XMLHTTP\"); }\n\t\t\tcatch(e) {}\n\t\tthrow new Error(\"This browser does not support XMLHttpRequest.\");\n\t}\n\n\treturn null;\n}\n\nBX.ajax.__prepareOnload = function(scripts)\n{\n\tif (scripts.length > 0)\n\t{\n\t\tBX.ajax['onload_' + ajax_session] = null;\n\n\t\tfor (var i=0,len=scripts.length;i<len;i++)\n\t\t{\n\t\t\tif (scripts[i].isInternal)\n\t\t\t{\n\t\t\t\tscripts[i].JS = scripts[i].JS.replace(r.script_onload, 'BX.ajax.onload_' + ajax_session);\n\t\t\t}\n\t\t}\n\t}\n\n\tBX.CaptureEventsGet();\n\tBX.CaptureEvents(window, 'load');\n}\n\nBX.ajax.__runOnload = function()\n{\n\tif (null != BX.ajax['onload_' + ajax_session])\n\t{\n\t\tBX.ajax['onload_' + ajax_session].apply(window);\n\t\tBX.ajax['onload_' + ajax_session] = null;\n\t}\n\n\tvar h = BX.CaptureEventsGet();\n\n\tif (h)\n\t{\n\t\tfor (var i=0; i<h.length; i++)\n\t\t\th[i].apply(window);\n\t}\n}\n\nBX.ajax.__run = function(config, data)\n{\n\tif (!config.processData)\n\t{\n\t\tif (config.onsuccess)\n\t\t{\n\t\t\tconfig.onsuccess(data);\n\t\t}\n\n\t\tBX.onCustomEvent(config.xhr, 'onAjaxSuccess', [data, config]);\n\t}\n\telse\n\t{\n\t\ttry\n\t\t{\n\t\t\tdata = BX.ajax.processRequestData(data, config);\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\tif (config.onfailure)\n\t\t\t\tconfig.onfailure(\"processing\", e);\n\t\t\tBX.onCustomEvent(config.xhr, 'onAjaxFailure', ['processing', e, config]);\n\t\t}\n\t}\n}\n\nBX.ajax.processRequestData = function(data, config)\n{\n\tvar result, scripts = [], styles = [];\n\tswitch (config.dataType.toUpperCase())\n\t{\n\t\tcase 'JSON':\n\t\t\tresult = BX.parseJSON(data);\n\t\tbreak;\n\t\tcase 'SCRIPT':\n\t\t\tscripts.push({\"isInternal\": true, \"JS\": data, bRunFirst: config.scriptsRunFirst});\n\t\t\tresult = data;\n\t\tbreak;\n\n\t\tdefault: // HTML\n\t\t\tvar ob = BX.processHTML(data, config.scriptsRunFirst);\n\t\t\tresult = ob.HTML; scripts = ob.SCRIPT; styles = ob.STYLE\n\t\tbreak;\n\t}\n\n\tvar bSessionCreated = false;\n\tif (null == ajax_session)\n\t{\n\t\tajax_session = parseInt(Math.random() * 1000000);\n\t\tbSessionCreated = true;\n\t}\n\n\tif (styles.length > 0)\n\t\tBX.loadCSS(styles);\n\n\tif (config.emulateOnload)\n\t\tBX.ajax.__prepareOnload(scripts);\n\n\tBX.ajax.processScripts(scripts, true);\n\n\tif (config.onsuccess)\n\t{\n\t\tconfig.onsuccess(result);\n\t}\n\n\tBX.onCustomEvent(config.xhr, 'onAjaxSuccess', [result, config]);\n\n\tBX.ajax.processScripts(scripts, false);\n\n\tsetTimeout(function()\n\t{\n\t\tif (config.emulateOnload)\n\t\t\tBX.ajax.__runOnload();\n\t\tif (bSessionCreated)\n\t\t\tajax_session = null;\n\t}, 10);\n}\n\nBX.ajax.processScripts = function(scripts, bRunFirst)\n{\n\tfor (var i = 0, length = scripts.length; i < length; i++)\n\t{\n\t\tif (null != bRunFirst && bRunFirst != !!scripts[i].bRunFirst)\n\t\t\tcontinue;\n\n\t\tif (scripts[i].isInternal)\n\t\t{\n\t\t\tBX.evalGlobal(scripts[i].JS);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.ajax.loadScriptAjax([scripts[i].JS]);\n\t\t}\n\t}\n}\n\n// TODO: extend this function to use with any data objects or forms\nBX.ajax.prepareData = function(arData, prefix)\n{\n\tvar data = '';\n\tif (BX.type.isString(arData))\n\t\tdata = arData;\n\telse if (null != arData)\n\t{\n\t\tfor(var i in arData)\n\t\t{\n\t\t\tif (data.length > 0) data += '&';\n\t\t\tvar name = BX.util.urlencode(i);\n\t\t\tif(prefix)\n\t\t\t\tname = prefix + '[' + name + ']';\n\t\t\tif(typeof arData[i] == 'object')\n\t\t\t\tdata += BX.ajax.prepareData(arData[i], name)\n\t\t\telse\n\t\t\t\tdata += name + '=' + BX.util.urlencode(arData[i])\n\t\t}\n\t}\n\treturn data;\n}\n\nBX.ajax.xhrSuccess = function(xhr)\n{\n\treturn (xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || xhr.status === 1223 || xhr.status === 0;\n}\n\nBX.ajax.Setup = function(config, bTemp)\n{\n\tbTemp = !!bTemp;\n\n\tfor (var i in config)\n\t{\n\t\tif (bTemp)\n\t\t\ttempDefaultConfig[i] = config[i];\n\t\telse\n\t\t\tdefaultConfig[i] = config[i];\n\t}\n}\n\nBX.ajax.replaceLocalStorageValue = function(lsId, data, ttl)\n{\n\tif (!!BX.localStorage)\n\t\tBX.localStorage.set('ajax-' + lsId, data, ttl);\n}\n\n\nBX.ajax._uncache = function(url)\n{\n\treturn url + ((url.indexOf('?') !== -1 ? \"&\" : \"?\") + '_=' + (new Date).getTime());\n}\n\n/* simple interface */\nBX.ajax.get = function(url, data, callback)\n{\n\tif (BX.type.isFunction(data))\n\t{\n\t\tcallback = data;\n\t\tdata = '';\n\t}\n\n\tdata = BX.ajax.prepareData(data);\n\n\tif (data)\n\t{\n\t\turl += (url.indexOf('?') !== -1 ? \"&\" : \"?\") + data;\n\t\tdata = '';\n\t}\n\n\treturn BX.ajax({\n\t\t'method': 'GET',\n\t\t'dataType': 'html',\n\t\t'url': url,\n\t\t'data':  '',\n\t\t'onsuccess': callback\n\t});\n}\n\nBX.ajax.getCaptcha = function(callback)\n{\n\treturn BX.ajax.loadJSON('/bitrix/tools/ajax_captcha.php', callback);\n}\n\nBX.ajax.insertToNode = function(url, node)\n{\n\tif (node = BX(node))\n\t{\n\t\tBX.onCustomEvent('onAjaxInsertToNode', [{url: url, node: node}]);\n\n\t\tvar show = null;\n\t\tif (!tempDefaultConfig.denyShowWait)\n\t\t{\n\t\t\tshow = BX.showWait(node);\n\t\t\tdelete tempDefaultConfig.denyShowWait;\n\t\t}\n\n\t\treturn BX.ajax.get(url, function(data) {\n\t\t\tnode.innerHTML = data;\n\t\t\tBX.closeWait(node, show);\n\t\t});\n\t}\n}\n\nBX.ajax.post = function(url, data, callback)\n{\n\tdata = BX.ajax.prepareData(data);\n\n\treturn BX.ajax({\n\t\t'method': 'POST',\n\t\t'dataType': 'html',\n\t\t'url': url,\n\t\t'data':  data,\n\t\t'onsuccess': callback\n\t});\n}\n\n/* load and execute external file script with onload emulation */\nBX.ajax.loadScriptAjax = function(script_src, callback)\n{\n\tif (BX.type.isArray(script_src))\n\t{\n\t\tfor (var i=0,len=script_src.length;i<len;i++)\n\t\t\tBX.ajax.loadScriptAjax(script_src[i], callback);\n\t}\n\telse\n\t{\n\t\tif (r.script_self.test(script_src)) return;\n\t\tif (r.script_self_window.test(script_src) && BX.CWindow) return;\n\t\tif (r.script_self_admin.test(script_src) && BX.admin) return;\n\n\t\tif (!loadedScripts[script_src])\n\t\t{\n\t\t\treturn BX.ajax({\n\t\t\t\turl: script_src,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tdataType: 'script',\n\t\t\t\tprocessData: true,\n\t\t\t\temulateOnload: false,\n\t\t\t\tasync: false,\n\t\t\t\tstart: true,\n\t\t\t\tonsuccess: function(result) {\n\t\t\t\t\tloadedScripts[script_src] = result;\n\t\t\t\t\tif (callback)\n\t\t\t\t\t\tcallback(result);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (callback)\n\t\t{\n\t\t\tcallback(loadedScripts[script_src]);\n\t\t}\n\t}\n}\n\n/* non-xhr loadings */\nBX.ajax.loadJSON = function(url, data, callback)\n{\n\tif (BX.type.isFunction(data))\n\t{\n\t\tcallback = data;\n\t\tdata = '';\n\t}\n\n\tdata = BX.ajax.prepareData(data);\n\n\tif (data)\n\t{\n\t\turl += (url.indexOf('?') !== -1 ? \"&\" : \"?\") + data;\n\t\tdata = '';\n\t}\n\n\treturn BX.ajax({\n\t\t'method': 'GET',\n\t\t'dataType': 'json',\n\t\t'url': url,\n\t\t'onsuccess': callback\n\t});\n}\n\n/*\narObs = [{\n\turl: url,\n\ttype: html|script|json|css,\n\tcallback: function\n}]\n*/\nBX.ajax.load = function(arObs, callback)\n{\n\tif (!BX.type.isArray(arObs))\n\t\tarObs = [arObs];\n\n\tvar cnt = 0;\n\n\tif (!BX.type.isFunction(callback))\n\t\tcallback = BX.DoNothing;\n\n\tvar handler = function(data)\n\t\t{\n\t\t\tif (BX.type.isFunction(this.callback))\n\t\t\t\tthis.callback(data);\n\n\t\t\tif (++cnt >= len)\n\t\t\t\tcallback();\n\t\t};\n\n\tfor (var i = 0, len = arObs.length; i<len; i++)\n\t{\n\t\tswitch(arObs.type.toUpperCase())\n\t\t{\n\t\t\tcase 'SCRIPT':\n\t\t\t\tBX.loadScript([arObs[i].url], jsBX.proxy(handler, arObs[i]));\n\t\t\tbreak;\n\t\t\tcase 'CSS':\n\t\t\t\tBX.loadCSS([arObs[i].url]);\n\n\t\t\t\tif (++cnt >= len)\n\t\t\t\t\tcallback();\n\t\t\tbreak;\n\t\t\tcase 'JSON':\n\t\t\t\tBX.ajax.loadJSON(arObs.url, jsBX.proxy(handler, arObs[i]));\n\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tBX.ajax.get(arObs.url, '', jsBX.proxy(handler, arObs[i]));\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\n/* ajax form sending */\nBX.ajax.submit = function(obForm, callback)\n{\n\tif (!obForm.target)\n\t{\n\t\tif (null == obForm.BXFormTarget)\n\t\t{\n\t\t\tvar frame_name = 'formTarget_' + Math.random();\n\t\t\tobForm.BXFormTarget = document.body.appendChild(BX.create('IFRAME', {\n\t\t\t\tprops: {\n\t\t\t\t\tname: frame_name,\n\t\t\t\t\tid: frame_name,\n\t\t\t\t\tsrc: 'javascript:void(0)'\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tobForm.target = obForm.BXFormTarget.name;\n\t}\n\n\tobForm.BXFormCallback = callback;\n\tBX.bind(obForm.BXFormTarget, 'load', BX.proxy(BX.ajax._submit_callback, obForm));\n\n\tBX.submit(obForm);\n\n\treturn false;\n}\n\nBX.ajax.submitComponentForm = function(obForm, container)\n{\n\tif (!obForm.target)\n\t{\n\t\tif (null == obForm.BXFormTarget)\n\t\t{\n\t\t\tvar frame_name = 'formTarget_' + Math.random();\n\t\t\tobForm.BXFormTarget = document.body.appendChild(BX.create('IFRAME', {\n\t\t\t\tprops: {\n\t\t\t\t\tname: frame_name,\n\t\t\t\t\tid: frame_name,\n\t\t\t\t\tsrc: 'javascript:void(0)'\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tobForm.target = obForm.BXFormTarget.name;\n\t}\n\n\tobForm.BXFormCallback = function(d) {\n\t\tBX(container).innerHTML = d;\n\t\tif (window.bxcompajaxframeonload){\n\t\t\tsetTimeout(\"window.bxcompajaxframeonload();window.bxcompajaxframeonload=null;\", 10)\n\t\t};\n\t\tBX.onCustomEvent('onAjaxSuccess', []);\n\t};\n\n\tBX.bind(obForm.BXFormTarget, 'load', BX.proxy(BX.ajax._submit_callback, obForm));\n\n\treturn true;\n}\n\n// func will be executed in form context\nBX.ajax._submit_callback = function()\n{\n\t//opera triggers onload event even on empty iframe\n\tif(this.BXFormTarget.contentWindow.location.href.indexOf('http') != 0)\n\t\treturn;\n\n\tif (this.BXFormCallback)\n\t\tthis.BXFormCallback.apply(this, [this.BXFormTarget.contentWindow.document.body.innerHTML]);\n\n\tBX.unbindAll(this.BXFormTarget);\n}\n\n// TODO: currently in window extension. move it here.\nBX.ajax.submitAjax = function(obForm, callback)\n{\n\n}\n\nBX.ajax.UpdatePageData = function (arData)\n{\n\tif (arData.TITLE)\n\t\tBX.ajax.UpdatePageTitle(arData.TITLE);\n\tif (arData.NAV_CHAIN)\n\t\tBX.ajax.UpdatePageNavChain(arData.NAV_CHAIN);\n\tif (arData.CSS && arData.CSS.length > 0)\n\t\tBX.loadCSS(arData.CSS);\n\tif (arData.SCRIPTS && arData.SCRIPTS.length > 0)\n\t\tBX.loadScript(arData.SCRIPTS);\n}\n\nBX.ajax.UpdatePageTitle = function(title)\n{\n\tvar obTitle = BX('pagetitle');\n\tif (obTitle)\n\t{\n\t\tobTitle.removeChild(obTitle.firstChild);\n\t\tif (!obTitle.firstChild)\n\t\t\tobTitle.appendChild(document.createTextNode(title));\n\t\telse\n\t\t\tobTitle.insertBefore(document.createTextNode(title), obTitle.firstChild);\n\t}\n\n\tdocument.title = title;\n}\n\nBX.ajax.UpdatePageNavChain = function(nav_chain)\n{\n\tvar obNavChain = BX('navigation');\n\tif (obNavChain)\n\t{\n\t\tobNavChain.innerHTML = nav_chain;\n\t}\n}\n\n/* user options handling */\nBX.userOptions = {\n\toptions: null,\n\tbSend: false,\n\tdelay: 5000\n}\n\nBX.userOptions.save = function(sCategory, sName, sValName, sVal, bCommon)\n{\n\tif (null == BX.userOptions.options)\n\t\tBX.userOptions.options = {};\n\n\tbCommon = !!bCommon;\n\tBX.userOptions.options[sCategory+'.'+sName+'.'+sValName] = [sCategory, sName, sValName, sVal, bCommon];\n\n\tvar sParam = BX.userOptions.__get();\n\tif (sParam != '')\n\t\tdocument.cookie = BX.message('COOKIE_PREFIX')+\"_LAST_SETTINGS=\" + sParam + \"&sessid=\"+BX.bitrix_sessid()+\"; expires=Thu, 31 Dec 2020 23:59:59 GMT; path=/;\";\n\n\tif(!BX.userOptions.bSend)\n\t{\n\t\tBX.userOptions.bSend = true;\n\t\tsetTimeout(function(){BX.userOptions.send(null)}, BX.userOptions.delay);\n\t}\n}\n\nBX.userOptions.send = function(callback)\n{\n\tvar sParam = BX.userOptions.__get();\n\tBX.userOptions.options = null;\n\tBX.userOptions.bSend = false;\n\n\tif (sParam != '')\n\t{\n\t\tdocument.cookie = BX.message('COOKIE_PREFIX') + \"_LAST_SETTINGS=; path=/;\";\n\t\tBX.ajax({\n\t\t\t'method': 'GET',\n\t\t\t'dataType': 'html',\n\t\t\t'processData': false,\n\t\t\t'cache': false,\n\t\t\t'url': '/bitrix/admin/user_options.php?'+sParam+'&sessid='+BX.bitrix_sessid(),\n\t\t\t'onsuccess': callback\n\t\t});\n\t}\n}\n\nBX.userOptions.del = function(sCategory, sName, bCommon, callback)\n{\n\tBX.ajax.get('/bitrix/admin/user_options.php?action=delete&c='+sCategory+'&n='+sName+(bCommon == true? '&common=Y':'')+'&sessid='+BX.bitrix_sessid(), callback);\n}\n\nBX.userOptions.__get = function()\n{\n\tif (!BX.userOptions.options) return '';\n\n\tvar sParam = '', n = -1, prevParam = '', arOpt, i;\n\n\tfor (i in BX.userOptions.options)\n\t{\n\t\taOpt = BX.userOptions.options[i];\n\n\t\tif (prevParam != aOpt[0]+'.'+aOpt[1])\n\t\t{\n\t\t\tn++;\n\t\t\tsParam += '&p['+n+'][c]='+BX.util.urlencode(aOpt[0]);\n\t\t\tsParam += '&p['+n+'][n]='+BX.util.urlencode(aOpt[1]);\n\t\t\tif (aOpt[4] == true)\n\t\t\t\tsParam += '&p['+n+'][d]=Y';\n\t\t\tprevParam = aOpt[0]+'.'+aOpt[1];\n\t\t}\n\n\t\tsParam += '&p['+n+'][v]['+BX.util.urlencode(aOpt[2])+']='+BX.util.urlencode(aOpt[3]);\n\t}\n\n\treturn sParam.substr(1);\n}\n\nBX.ajax.history = {\n\texpected_hash: '',\n\n\tobParams: null,\n\n\tobFrame: null,\n\tobImage: null,\n\n\tobTimer: null,\n\n\tbInited: false,\n\tbHashCollision: false,\n\tbPushState: !!(history.pushState && BX.type.isFunction(history.pushState)),\n\n\tinit: function(obParams)\n\t{\n\t\tif (BX.ajax.history.bInited)\n\t\t\treturn;\n\n\t\tthis.obParams = obParams;\n\t\tvar obCurrentState = this.obParams.getState();\n\n\t\tif (BX.ajax.history.bPushState)\n\t\t{\n\t\t\tBX.ajax.history.expected_hash = window.location.pathname;\n\t\t\tif (window.location.search)\n\t\t\t\tBX.ajax.history.expected_hash += window.location.search;\n\n\t\t\tBX.ajax.history.put(obCurrentState, BX.ajax.history.expected_hash);\n\t\t\tBX.bind(window, 'popstate', BX.ajax.history.__hashListener);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.ajax.history.expected_hash = window.location.hash;\n\n\t\t\tif (!BX.ajax.history.expected_hash || BX.ajax.history.expected_hash == '#')\n\t\t\t\tBX.ajax.history.expected_hash = '__bx_no_hash__';\n\n\t\t\tjsAjaxHistoryContainer.put(BX.ajax.history.expected_hash, obCurrentState);\n\t\t\tBX.ajax.history.obTimer = setTimeout(BX.ajax.history.__hashListener, 500);\n\n\t\t\tif (BX.browser.IsIE())\n\t\t\t{\n\t\t\t\tBX.ajax.history.obFrame = document.createElement('IFRAME');\n\t\t\t\tBX.hide_object(BX.ajax.history.obFrame);\n\n\t\t\t\tdocument.body.appendChild(BX.ajax.history.obFrame);\n\n\t\t\t\tBX.ajax.history.obFrame.contentWindow.document.open();\n\t\t\t\tBX.ajax.history.obFrame.contentWindow.document.write(BX.ajax.history.expected_hash);\n\t\t\t\tBX.ajax.history.obFrame.contentWindow.document.close();\n\t\t\t}\n\t\t\telse if (BX.browser.IsOpera())\n\t\t\t{\n\t\t\t\tBX.ajax.history.obImage = document.createElement('IMG');\n\t\t\t\tBX.hide_object(BX.ajax.history.obImage);\n\n\t\t\t\tdocument.body.appendChild(BX.ajax.history.obImage);\n\n\t\t\t\tBX.ajax.history.obImage.setAttribute('src', 'javascript:location.href = \\'javascript:BX.ajax.history.__hashListener();\\';');\n\t\t\t}\n\t\t}\n\n\t\tBX.ajax.history.bInited = true;\n\t},\n\n\t__hashListener: function(e)\n\t{\n\t\te = e || window.event || {state:false};\n\n\t\tif (BX.ajax.history.bPushState && e.state)\n\t\t{\n\t\t\tBX.ajax.history.obParams.setState(e.state);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (BX.ajax.history.obTimer)\n\t\t\t{\n\t\t\t\twindow.clearTimeout(BX.ajax.history.obTimer);\n\t\t\t\tBX.ajax.history.obTimer = null;\n\t\t\t}\n\n\t\t\tif (null != BX.ajax.history.obFrame)\n\t\t\t\tvar current_hash = BX.ajax.history.obFrame.contentWindow.document.body.innerText;\n\t\t\telse\n\t\t\t\tvar current_hash = window.location.hash;\n\n\t\t\tif (!current_hash || current_hash == '#')\n\t\t\t\tcurrent_hash = '__bx_no_hash__';\n\n\t\t\tif (current_hash.indexOf('#') == 0)\n\t\t\t\tcurrent_hash = current_hash.substring(1);\n\n\t\t\tif (current_hash != BX.ajax.history.expected_hash)\n\t\t\t{\n\t\t\t\tvar state = jsAjaxHistoryContainer.get(current_hash);\n\t\t\t\tif (state)\n\t\t\t\t{\n\t\t\t\t\tBX.ajax.history.obParams.setState(state);\n\n\t\t\t\t\tBX.ajax.history.expected_hash = current_hash;\n\t\t\t\t\tif (null != BX.ajax.history.obFrame)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar __hash = current_hash == '__bx_no_hash__' ? '' : current_hash;\n\t\t\t\t\t\tif (window.location.hash != __hash && window.location.hash != '#' + __hash)\n\t\t\t\t\t\t\twindow.location.hash = __hash;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tBX.ajax.history.obTimer = setTimeout(BX.ajax.history.__hashListener, 500);\n\t\t}\n\t},\n\n\tput: function(state, new_hash, new_hash1)\n\t{\n\t\tif (this.bPushState)\n\t\t{\n\t\t\thistory.pushState(state, '', new_hash);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (typeof new_hash1 != 'undefined')\n\t\t\t\tnew_hash = new_hash1;\n\t\t\telse\n\t\t\t\tnew_hash = 'view' + new_hash;\n\n\t\t\tjsAjaxHistoryContainer.put(new_hash, state);\n\t\t\tBX.ajax.history.expected_hash = new_hash;\n\n\t\t\twindow.location.hash = BX.util.urlencode(new_hash);\n\n\t\t\tif (null != BX.ajax.history.obFrame)\n\t\t\t{\n\t\t\t\tBX.ajax.history.obFrame.contentWindow.document.open();\n\t\t\t\tBX.ajax.history.obFrame.contentWindow.document.write(new_hash);\n\t\t\t\tBX.ajax.history.obFrame.contentWindow.document.close();\n\t\t\t}\n\t\t}\n\t},\n\n\tcheckRedirectStart: function(param_name, param_value)\n\t{\n\t\tvar current_hash = window.location.hash;\n\t\tif (current_hash.substring(0, 1) == '#') current_hash = current_hash.substring(1);\n\n\t\tvar test = current_hash.substring(0, 5);\n\t\tif (test == 'view/' || test == 'view%')\n\t\t{\n\t\t\tBX.ajax.history.bHashCollision = true;\n\t\t\tdocument.write('<' + 'div id=\"__ajax_hash_collision_' + param_value + '\" style=\"display: none;\">');\n\t\t}\n\t},\n\n\tcheckRedirectFinish: function(param_name, param_value)\n\t{\n\t\tdocument.write('</div>');\n\n\t\tvar current_hash = window.location.hash;\n\t\tif (current_hash.substring(0, 1) == '#') current_hash = current_hash.substring(1);\n\n\t\tBX.ready(function ()\n\t\t{\n\t\t\tvar test = current_hash.substring(0, 5);\n\t\t\tif (test == 'view/' || test == 'view%')\n\t\t\t{\n\t\t\t\tvar obColNode = BX('__ajax_hash_collision_' + param_value);\n\t\t\t\tvar obNode = obColNode.firstChild;\n\t\t\t\tBX.cleanNode(obNode);\n\t\t\t\tobColNode.style.display = 'block';\n\n\t\t\t\t// IE, Opera and Chrome automatically modifies hash with urlencode, but FF doesn't ;-(\n\t\t\t\tif (test != 'view%')\n\t\t\t\t\tcurrent_hash = BX.util.urlencode(current_hash);\n\n\t\t\t\tcurrent_hash += (current_hash.indexOf('%3F') == -1 ? '%3F' : '%26') + param_name + '=' + param_value;\n\n\t\t\t\tvar url = '/bitrix/tools/ajax_redirector.php?hash=' + current_hash;\n\n\t\t\t\tBX.ajax.insertToNode(url, obNode);\n\t\t\t}\n\t\t});\n\t}\n}\n\nBX.ajax.component = function(node)\n{\n\tthis.node = node;\n}\n\nBX.ajax.component.prototype.getState = function()\n{\n\tvar state = {\n\t\t'node': this.node,\n\t\t'title': window.document.title,\n\t\t'data': BX(this.node).innerHTML\n\t};\n\n\tvar obNavChain = BX('navigation');\n\tif (null != obNavChain)\n\t\tstate.nav_chain = obNavChain.innerHTML;\n\n\treturn state;\n}\n\nBX.ajax.component.prototype.setState = function(state)\n{\n\tBX(state.node).innerHTML = state.data;\n\tBX.ajax.UpdatePageTitle(state.title);\n\n\tif (state.nav_chain)\n\t\tBX.ajax.UpdatePageNavChain(state.nav_chain);\n}\n\nvar jsAjaxHistoryContainer = {\n\tarHistory: {},\n\n\tput: function(hash, state)\n\t{\n\t\tthis.arHistory[hash] = state;\n\t},\n\n\tget: function(hash)\n\t{\n\t\treturn this.arHistory[hash];\n\t}\n}\n\n\nBX.ajax.FormData = function()\n{\n\tthis.elements = [];\n\tthis.files = [];\n\tthis.features = {};\n\tthis.isSupported();\n\tthis.log('BX FormData init');\n}\n\nBX.ajax.FormData.isSupported = function()\n{\n\tvar f = new BX.ajax.FormData()\n\tvar result = f.features.supported;\n\tf = null;\n\treturn result;\n}\n\nBX.ajax.FormData.prototype.log = function(o)\n{\n\tif (false) {\n\t\ttry {\n\t\t\tif (BX.browser.IsIE()) o = JSON.stringify(o);\n\t\t\tconsole.log(o);\n\t\t} catch(e) {}\n\t}\n}\n\nBX.ajax.FormData.prototype.isSupported = function()\n{\n\tvar f = {};\n\tf.fileReader = (window.FileReader && window.FileReader.prototype.readAsBinaryString);\n\tf.readFormData = f.sendFormData = !!(window.FormData);\n\tf.supported = !!(f.readFormData && f.sendFormData);\n\tthis.features = f;\n\tthis.log('features:');\n\tthis.log(f);\n\n\treturn f.supported;\n}\n\nBX.ajax.FormData.prototype.append = function(name, value)\n{\n\tif (typeof(value) === 'object') { // seems to be files element\n\t\tthis.files.push({'name': name, 'value':value});\n\t} else {\n\t\tthis.elements.push({'name': name, 'value':value});\n\t}\n}\n\nBX.ajax.FormData.prototype.send = function(url, callbackOk, callbackProgress, callbackError)\n{\n\tthis.log('FD send');\n\tthis.xhr = BX.ajax({\n\t\t\t'method': 'POST',\n\t\t\t'dataType': 'html',\n\t\t\t'url': url,\n\t\t\t'onsuccess': callbackOk,\n\t\t\t'onerror': callbackError,\n\t\t\t'start': false,\n\t\t\t'preparePost':false\n\t\t});\n\n\tif (callbackProgress)\n\t{\n\t\tthis.xhr.upload.addEventListener(\n\t\t\t'progress', \n\t\t\tfunction(e) {\n\t\t\t\tif (e.lengthComputable)\n\t\t\t\t\tcallbackProgress(e.loaded / e.totalSize);\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t}\n\n\tif (this.features.readFormData && this.features.sendFormData)\n\t{\n\t\tvar fd = new FormData();\n\t\tthis.log('use browser formdata');\n\t\tfor (i in this.elements)\n\t\t\tfd.append(this.elements[i].name,this.elements[i].value);\n\t\tfor (i in this.files)\n\t\t\tfd.append(this.files[i].name, this.files[i].value);\n\t\tthis.xhr.send(fd);\n\t}\n\n\treturn this.xhr;\n}\n})(window)\n"
          },
          "redirectURL": "",
          "headersSize": 337,
          "bodySize": 25309
        },
        "cache": {},
        "timings": {
          "blocked": 8,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 5
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 14,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/js/main/session.js?1302034906",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1302034906",
              "value": ""
            }
          ],
          "headersSize": 345,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Content-Length",
              "value": "3157"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:21:46 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 3157,
            "text": "function CBXSession()\n{\n\tvar _this = this;\n\tthis.mess = {};\n\tthis.timeout = null;\n\tthis.sessid = null;\n\tthis.bShowMess = true;\n\tthis.dateStart = new Date();\n\tthis.dateInput = new Date();\n\tthis.dateCheck = new Date();\n\tthis.activityInterval = 0;\n\tthis.notifier = null;\n\t\n\tthis.Expand = function(timeout, sessid, bShowMess, key)\n\t{\n\t\tthis.timeout = timeout;\n\t\tthis.sessid = sessid;\n\t\tthis.bShowMess = bShowMess;\n\t\tthis.key = key;\n\t\t\n\t\tBX.ready(function(){\n\t\t\tBX.bind(document, \"keypress\", _this.OnUserInput);\n\t\t\tBX.bind(document.body, \"mousemove\", _this.OnUserInput);\n\t\t\tBX.bind(document.body, \"click\", _this.OnUserInput);\n\t\t\t\n\t\t\tsetTimeout(_this.CheckSession, (_this.timeout-60)*1000);\n\t\t})\n\t},\n\t\t\n\tthis.OnUserInput = function()\n\t{\n\t\tvar curr = new Date();\n\t\t_this.dateInput.setTime(curr.valueOf());\n\t}\n\t\n\tthis.CheckSession = function()\n\t{\n\t\tvar curr = new Date();\n\t\tif(curr.valueOf() - _this.dateCheck.valueOf() < 30000)\n\t\t\treturn;\n\n\t\t_this.activityInterval = Math.round((_this.dateInput.valueOf() - _this.dateStart.valueOf())/1000);\n\t\t_this.dateStart.setTime(_this.dateInput.valueOf());\n\t\tvar interval = (_this.activityInterval > _this.timeout? (_this.timeout-60) : _this.activityInterval);\n\t\tBX.ajax.get('/bitrix/tools/public_session.php?sessid='+_this.sessid+'&interval='+interval+'&k='+_this.key, function(data){_this.CheckResult(data)});\n\t}\n\t\n\tthis.CheckResult = function(data)\n\t{\n\t\tif(data == 'SESSION_EXPIRED')\n\t\t{\n\t\t\tif(_this.bShowMess)\n\t\t\t{\n\t\t\t\t_this.notifier = document.body.appendChild(BX.create('DIV', {\n\t\t\t\t\tprops: {className: 'bx-session-message'},\n\t\t\t\t\tstyle: {top: '-1000px'},\n\t\t\t\t\thtml: '<a class=\"bx-session-message-close\" href=\"javascript:bxSession.Close()\"></a>'+_this.mess.messSessExpired\n\t\t\t\t}));\n\t\n\t\t\t\tvar windowScroll = BX.GetWindowScrollPos();\n\t\t\t\tvar windowSize = BX.GetWindowInnerSize();\n\n\t\t\t\t_this.notifier.style.left = parseInt(windowScroll.scrollLeft + windowSize.innerWidth / 2 - parseInt(_this.notifier.clientWidth) / 2) + 'px';\n\n\t\t\t\tvar fxStart = windowScroll.scrollTop - _this.notifier.offsetHeight;\n\t\t\t\tvar fxFinish = windowScroll.scrollTop;\n\t\n\t\t\t\t(new BX.fx({\n\t\t\t\t\ttime: 0.5,\n\t\t\t\t\tstep: 0.01,\n\t\t\t\t\ttype: 'accelerated',\n\t\t\t\t\tstart: fxStart,\n\t\t\t\t\tfinish: fxFinish,\n\t\t\t\t\tcallback: function(top){_this.notifier.style.top = top + 'px';},\n\t\t\t\t\tcallback_complete: function()\n\t\t\t\t\t{\n\t\t\t\t\t\tif(BX.browser.IsIE())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.bind(window, 'scroll', function()\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar windowScroll = BX.GetWindowScrollPos();\n\t\t\t\t\t\t\t\t_this.notifier.style.top = windowScroll.scrollTop + 'px';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t_this.notifier.style.top='0px';\n\t\t\t\t\t\t\t_this.notifier.style.position='fixed';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})).start();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar timeout;\n\t\t\tif(data == 'SESSION_CHANGED')\n\t\t\t\ttimeout = (_this.timeout-60);\n\t\t\telse\n\t\t\t\ttimeout = (_this.activityInterval < 60? 60 : (_this.activityInterval > _this.timeout? (_this.timeout-60) : _this.activityInterval));\n\n\t\t\tvar curr = new Date();\n\t\t\t_this.dateCheck.setTime(curr.valueOf());\n\t\t\tsetTimeout(_this.CheckSession, timeout*1000);\n\t\t}\n\t}\n\t\n\tthis.Close = function()\n\t{\n\t\tthis.notifier.style.display = 'none';\n\t}\n}\n\nvar bxSession = new CBXSession();"
          },
          "redirectURL": "",
          "headersSize": 336,
          "bodySize": 3157
        },
        "cache": {},
        "timings": {
          "blocked": 8,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 1
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 39,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/js/main/core/core_window.js?1330597344",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [
            {
              "name": "1330597344",
              "value": ""
            }
          ],
          "headersSize": 354,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Content-Length",
              "value": "78654"
            },
            {
              "name": "Last-Modified",
              "value": "Thu, 01 Mar 2012 10:22:24 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 78654,
            "text": "(function(window) {\nif (BX.WindowManager) return;\n\n\n/* windows manager */\nBX.WindowManager = {\n\t_stack: [],\n\t_runtime_resize: {},\n\t_delta: 5,\n\t_delta_start: 1000,\n\tcurrently_loaded: null,\n\n\tsettings_category: 'BX.WindowManager.9.5',\n\n\tregister: function (w)\n\t{\n\t\tthis.currently_loaded = null;\n\t\tvar div = w.Get();\n\n\t\tdiv.style.zIndex = w.zIndex = this.GetZIndex();\n\n\t\tw.WM_REG_INDEX = this._stack.length;\n\t\tthis._stack.push(w);\n\n\t\tif (this._stack.length < 2)\n\t\t{\n\t\t\tBX.bind(document, 'keyup', BX.proxy(this.__checkKeyPress, this));\n\t\t}\n\t},\n\n\tunregister: function (w)\n\t{\n\t\tif (null == w.WM_REG_INDEX)\n\t\t\treturn;\n\n\t\tvar _current;\n\t\tif (this._stack.length > 0)\n\t\t{\n\t\t\twhile ((_current = this.__pop_stack()) != w)\n\t\t\t{\n\t\t\t\tif (!_current)\n\t\t\t\t{\n\t\t\t\t\t_current = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._stack.length <= 0)\n\t\t\t{\n\t\t\t\tthis.enableKeyCheck();\n\t\t\t}\n\n\t\t\treturn _current;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn null;\n\t\t}\n\t},\n\n\t__pop_stack: function(clean)\n\t{\n\t\tif (this._stack.length > 0)\n\t\t{\n\t\t\tvar _current = this._stack.pop();\n\t\t\t_current.WM_REG_INDEX = null;\n\t\t\tBX.onCustomEvent(_current, 'onWindowUnRegister', [clean === true])\n\n\t\t\treturn _current;\n\t\t}\n\t\telse\n\t\t\treturn null;\n\t},\n\n\tclean: function()\n\t{\n\t\twhile (this.__pop_stack(true)){};\n\t\tthis._stack = null;\n\t\tthis.disableKeyCheck();\n\t},\n\n\tGet: function()\n\t{\n\t\tif (this.currently_loaded)\n\t\t\treturn this.currently_loaded;\n\t\telse if (this._stack.length > 0)\n\t\t\treturn this._stack[this._stack.length-1];\n\t\telse\n\t\t\treturn null;\n\t},\n\n\tsetStartZIndex: function(value)\n\t{\n\t\tthis._delta_start = value;\n\t},\n\n\trestoreStartZIndex: function()\n\t{\n\t\tthis._delta_start = 1000;\n\t},\n\n\tGetZIndex: function()\n\t{\n\t\tvar val =\n\t\t\t(null != (_current = this._stack[this._stack.length-1]))\n\t\t\t? parseInt(_current.Get().style.zIndex) + this._delta\n\t\t\t: this._delta_start;\n\t\treturn val;\n\t},\n\n\t__get_check_url: function(url)\n\t{\n\t\tvar pos = url.indexOf('?');\n\t\treturn pos == -1 ? url : url.substring(0, pos);\n\t},\n\n\tsaveWindowSize: function(url, params)\n\t{\n\t\tvar check_url = this.__get_check_url(url);\n\t\tif (BX.userOptions)\n\t\t{\n\t\t\tBX.userOptions.save(this.settings_category, 'size_' + check_url, 'width', params.width);\n\t\t\tBX.userOptions.save(this.settings_category, 'size_' + check_url, 'height', params.height);\n\t\t}\n\n\t\tthis._runtime_resize[check_url] = params;\n\t},\n\n\tsaveWindowOptions: function(wnd_id, opts)\n\t{\n\t\tif (BX.userOptions)\n\t\t{\n\t\t\tfor (var i in opts)\n\t\t\t{\n\t\t\t\tBX.userOptions.save(this.settings_category, 'options_' + wnd_id, i, opts[i]);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetRuntimeWindowSize: function(url)\n\t{\n\t\treturn this._runtime_resize[this.__get_check_url(url)];\n\t},\n\n\tdisableKeyCheck: function()\n\t{\n\t\tBX.unbind(document, 'keyup', BX.proxy(this.__checkKeyPress, this));\n\t},\n\n\tenableKeyCheck: function()\n\t{\n\t\tBX.bind(document, 'keyup', BX.proxy(this.__checkKeyPress, this));\n\t},\n\n\t__checkKeyPress: function(e)\n\t{\n\t\tif (null == e)\n\t\t\te = window.event;\n\n\t\tif (e.keyCode == 27)\n\t\t{\n\t\t\tvar wnd = BX.WindowManager.Get();\n\t\t\tif (wnd && !wnd.unclosable) wnd.Close();\n\t\t}\n\t}\n}\n\nBX.garbage(BX.WindowManager.clean, BX.WindowManager);\n\n/* base button class */\nBX.CWindowButton = function(params)\n{\n\tif (params.btn)\n\t{\n\t\tthis.btn = params.btn;\n\t\tthis.parentWindow = params.parentWindow;\n\n\t\tif (/save|apply/i.test(this.btn.name))\n\t\t{\n\t\t\tBX.bind(this.btn, 'click', BX.delegate(this.disableUntilError, this));\n\t\t}\n\t}\n\telse\n\t{\n\t\tthis.title = params.title; // html value attr\n\t\tthis.hint = params.hint; // html title attr\n\t\tthis.id = params.id; // html name and id attrs\n\t\tthis.name = params.name // html name or value attrs when id and title 're absent\n\n\t\tthis.action = params.action;\n\t\tthis.onclick = params.onclick;\n\n\t\t// you can override button creation method\n\t\tif (params.Button && BX.type.isFunction(params.Button))\n\t\t\tthis.Button = params.Button;\n\n\t\tthis.btn = null;\n\t}\n}\n\nBX.CWindowButton.prototype.disable = function(){if (this.btn) this.btn.disabled = true;};\nBX.CWindowButton.prototype.enable = function(){if (this.btn) this.btn.disabled = false;};\n\nBX.CWindowButton.prototype.emulate = function()\n{\n\tif (this.btn && this.btn.disabled)\n\t\treturn;\n\n\tvar act =\n\t\tthis.action\n\t\t? BX.delegate(this.action, this)\n\t\t: (\n\t\t\tthis.onclick\n\t\t\t? this.onclick\n\t\t\t: (\n\t\t\t\tthis.btn\n\t\t\t\t? this.btn.getAttribute('onclick')\n\t\t\t\t: ''\n\t\t\t)\n\t\t);\n\n\tif (act)\n\t{\n\t\tsetTimeout(act, 50);\n\t\tif (this.btn && /save|apply/i.test(this.btn.name) && !this.action)\n\t\t{\n\t\t\tthis.disableUntilError();\n\t\t}\n\t}\n}\n\nBX.CWindowButton.prototype.Button = function(parentWindow)\n{\n\tthis.parentWindow = parentWindow;\n\n\tvar btn = {\n\t\tprops: {\n\t\t\t'type': 'button',\n\t\t\t'name': this.id ? this.id : this.name,\n\t\t\t'value': this.title ? this.title : this.name,\n\t\t\t'id': this.id\n\t\t}\n\t};\n\n\tif (this.hint)\n\t\tbtn.props.title = this.hint;\n\n\tif (this.action)\n\t{\n\t\tbtn.events = {\n\t\t\t'click': BX.delegate(this.action, this)\n\t\t};\n\t}\n\telse if (this.onclick)\n\t{\n\t\tif (BX.browser.IsIE())\n\t\t{\n\t\t\tbtn.events = {\n\t\t\t\t'click': BX.delegate(function() {eval(this.onclick)}, this)\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbtn.attrs = {\n\t\t\t\t'onclick': this.onclick\n\t\t\t};\n\t\t}\n\t}\n\n\tthis.btn = BX.create('INPUT', btn);\n\n\treturn this.btn;\n}\n\nBX.CWindowButton.prototype.disableUntilError = function() {\n\tthis.disable();\n\tif (!this.__window_error_handler_set)\n\t{\n\t\tBX.addCustomEvent(this.parentWindow, 'onWindowError', BX.delegate(this.enable, this));\n\t\tthis.__window_error_handler_set = true;\n\t}\n}\n\n/* base window class */\nBX.CWindow = function(div, type)\n{\n\tthis.DIV = div || document.createElement('DIV');\n\n\tthis.SETTINGS = {\n\t\tresizable: false,\n\t\tmin_height: 0,\n\t\tmin_width: 0,\n\t\tdraggable: false,\n\t\tdrag_restrict: true,\n\t\tresize_restrict: true\n\t};\n\n\tthis.ELEMENTS = {\n\t\tdraggable: [],\n\t\tresizer: [],\n\t\tclose: []\n\t};\n\n\tthis.type = type == 'float' ? 'float' : 'dialog';\n\n\tBX.adjust(this.DIV, {\n\t\tprops: {\n\t\t\tclassName: 'bx-core-window'\n\t\t},\n\t\tstyle: {\n\t\t\t'zIndex': 0,\n\t\t\t'position': 'absolute',\n\t\t\t'display': 'none',\n\t\t\t'top': '0px',\n\t\t\t'left': '0px',\n\t\t\t'height': '100px',\n\t\t\t'width': '100px'\n\t\t}\n\t});\n\n\tthis.isOpen = false;\n\n\tBX.addCustomEvent(this, 'onWindowRegister', BX.delegate(this.onRegister, this));\n\tBX.addCustomEvent(this, 'onWindowUnRegister', BX.delegate(this.onUnRegister, this));\n\n\tthis.MOUSEOVER = null;\n\tBX.bind(this.DIV, 'mouseover', BX.delegate(this.__set_msover, this));\n\tBX.bind(this.DIV, 'mouseout', BX.delegate(this.__unset_msover, this));\n\n\tBX.ready(BX.delegate(function() {\n\t\tdocument.body.appendChild(this.DIV);\n\t}, this));\n}\n\nBX.CWindow.prototype.Get = function () {return this.DIV};\nBX.CWindow.prototype.visible = function() {return this.isOpen;}\n\nBX.CWindow.prototype.Show = function(bNotRegister)\n{\n\tthis.DIV.style.display = 'block';\n\n\tif (!bNotRegister)\n\t{\n\t\tBX.WindowManager.register(this);\n\t\tBX.onCustomEvent(this, 'onWindowRegister');\n\t}\n}\n\nBX.CWindow.prototype.Hide = function()\n{\n\tBX.WindowManager.unregister(this);\n\tthis.DIV.style.display = 'none';\n}\n\nBX.CWindow.prototype.onRegister = function()\n{\n\tthis.isOpen = true;\n}\n\nBX.CWindow.prototype.onUnRegister = function(clean)\n{\n\tthis.isOpen = false;\n\n\tif (clean || (this.PARAMS && this.PARAMS.content_url))\n\t{\n\t\tif (clean) {BX.onCustomEvent(this, 'onWindowClose', [this, true]);}\n\n\t\tif (this.DIV.parentNode)\n\t\t\tthis.DIV.parentNode.removeChild(this.DIV);\n\t}\n\telse\n\t{\n\t\tthis.DIV.style.display = 'none';\n\t}\n}\n\nBX.CWindow.prototype.CloseDialog = // compatibility\nBX.CWindow.prototype.Close = function(bImmediately)\n{\n\tBX.onCustomEvent(this, 'onBeforeWindowClose', [this]);\n\tif (bImmediately !== true)\n\t{\n\t\tif (this.denyClose) return false;\n\t}\n\n\tBX.onCustomEvent(this, 'onWindowClose', [this]);\n\n\t//this crashes vis editor in ie via onWindowResizeExt event handler\n\t//if (this.bExpanded) this.__expand();\n\t// alternative version:\n\tif (this.bExpanded)\n\t{\n\t\tvar pDocElement = BX.GetDocElement();\n\t\tBX.unbind(window, 'resize', BX.proxy(this.__expand_onresize, this));\n\t\tpDocElement.style.overflow = this.__expand_settings.overflow;\n\t}\n\n\tBX.WindowManager.unregister(this);\n}\n\nBX.CWindow.prototype.SetResize = function(elem)\n{\n\telem.style.cursor = 'se-resize';\n\tBX.bind(elem, 'mousedown', BX.proxy(this.__startResize, this));\n\n\tthis.ELEMENTS.resizer.push(elem);\n\tthis.SETTINGS.resizable = true;\n}\n\nBX.CWindow.prototype.SetExpand = function(elem, event_name)\n{\n\tevent_name = event_name || 'click';\n\tBX.bind(elem, event_name, BX.proxy(this.__expand, this));\n}\n\nBX.CWindow.prototype.__expand_onresize = function()\n{\n\tvar windowSize = BX.GetWindowInnerSize();\n\tthis.DIV.style.width = windowSize.innerWidth + \"px\";\n\tthis.DIV.style.height = windowSize.innerHeight + \"px\";\n\n\tBX.onCustomEvent(this, 'onWindowResize');\n}\n\nBX.CWindow.prototype.__expand = function()\n{\n\tvar pDocElement = BX.GetDocElement();\n\n\tif (!this.bExpanded)\n\t{\n\t\tvar wndScroll = BX.GetWindowScrollPos();\n\n\t\tthis.__expand_settings = {\n\t\t\tresizable: this.SETTINGS.resizable,\n\t\t\tdraggable: this.SETTINGS.draggable,\n\t\t\twidth: this.DIV.style.width,\n\t\t\theight: this.DIV.style.height,\n\t\t\tleft: this.DIV.style.left,\n\t\t\ttop: this.DIV.style.top,\n\t\t\tscroll: wndScroll.scrollTop,\n\t\t\toverflow: BX.style(pDocElement, 'overflow')\n\t\t}\n\n\t\tthis.SETTINGS.resizable = false;\n\t\tthis.SETTINGS.draggable = false;\n\n\t\tpDocElement.style.overflow = 'hidden';\n\n\t\tvar wndSize = BX.GetWindowInnerSize();\n\n\t\tpDocElement.scrollTop = 0;\n\n\t\tthis.DIV.style.top = '0px';\n\t\tthis.DIV.style.left = '0px';\n\n\t\tthis.DIV.style.width = wndSize.innerWidth + 'px';\n\t\tthis.DIV.style.height = wndSize.innerHeight + 'px';\n\n\t\tthis.bExpanded = true;\n\n\t\tBX.onCustomEvent(this, 'onWindowExpand');\n\t\tBX.onCustomEvent(this, 'onWindowResize');\n\n\t\tBX.bind(window, 'resize', BX.proxy(this.__expand_onresize, this));\n\n\t}\n\telse\n\t{\n\t\tBX.unbind(window, 'resize', BX.proxy(this.__expand_onresize, this));\n\n\t\tthis.SETTINGS.resizable = this.__expand_settings.resizable;\n\t\tthis.SETTINGS.draggable = this.__expand_settings.draggable;\n\n\t\tpDocElement.style.overflow = this.__expand_settings.overflow;\n\n\t\tthis.DIV.style.top = this.__expand_settings.top;\n\t\tthis.DIV.style.left = this.__expand_settings.left;\n\t\tthis.DIV.style.width = this.__expand_settings.width;\n\t\tthis.DIV.style.height = this.__expand_settings.height;\n\n\t\tpDocElement.scrollTop = this.__expand_settings.scroll;\n\n\t\tthis.bExpanded = false;\n\n\t\tBX.onCustomEvent(this, 'onWindowNarrow');\n\t\tBX.onCustomEvent(this, 'onWindowResize');\n\n\t}\n}\n\nBX.CWindow.prototype.Resize = function(x, y)\n{\n\tvar new_width = Math.max(x - this.pos.left + this.dx, this.SETTINGS.min_width);\n\tvar new_height = Math.max(y - this.pos.top + this.dy, this.SETTINGS.min_height);\n\n\tif (this.SETTINGS.resize_restrict)\n\t{\n\t\tvar scrollSize = BX.GetWindowScrollSize();\n\n\t\tif (this.pos.left + new_width > scrollSize.scrollWidth - this.dw)\n\t\t\tnew_width = scrollSize.scrollWidth - this.pos.left - this.dw;\n\t}\n\n\tthis.DIV.style.width = new_width + 'px';\n\tthis.DIV.style.height = new_height + 'px';\n\n\tBX.onCustomEvent(this, 'onWindowResize');\n}\n\nBX.CWindow.prototype.__startResize = function(e)\n{\n\tif (!this.SETTINGS.resizable)\n\t\treturn false;\n\n\tif(!e) e = window.event;\n\n\tthis.wndSize = BX.GetWindowScrollPos();\n\tthis.wndSize.innerWidth = BX.GetWindowInnerSize().innerWidth;\n\n\tthis.pos = BX.pos(this.DIV);\n\n\tthis.x = e.clientX + this.wndSize.scrollLeft;\n\tthis.y = e.clientY + this.wndSize.scrollTop;\n\n\tthis.dx = this.pos.left + this.pos.width - this.x;\n\tthis.dy = this.pos.top + this.pos.height - this.y;\n\tthis.dw = this.pos.width - parseInt(this.DIV.style.width);\n\n\tBX.bind(document, \"mousemove\", BX.proxy(this.__moveResize, this));\n\tBX.bind(document, \"mouseup\", BX.proxy(this.__stopResize, this));\n\n\tif(document.body.setCapture)\n\t\tdocument.body.setCapture();\n\n\tdocument.onmousedown = BX.False;\n\n\tvar b = document.body;\n\tb.ondrag = b.onselectstart = BX.False;\n\tb.style.MozUserSelect = this.DIV.style.MozUserSelect = 'none';\n\tb.style.cursor = 'se-resize';\n\n\tBX.onCustomEvent(this, 'onWindowResizeStart');\n}\n\nBX.CWindow.prototype.__moveResize = function(e)\n{\n\tif(!e) e = window.event;\n\n\tvar windowScroll = BX.GetWindowScrollPos();\n\n\tvar x = e.clientX + windowScroll.scrollLeft;\n\tvar y = e.clientY + windowScroll.scrollTop;\n\n\tif(this.x == x && this.y == y)\n\t\treturn;\n\n\tthis.Resize(x, y);\n\n\tthis.x = x;\n\tthis.y = y;\n}\n\nBX.CWindow.prototype.__stopResize = function()\n{\n\tif(document.body.releaseCapture)\n\t\tdocument.body.releaseCapture();\n\n\tBX.unbind(document, \"mousemove\", BX.proxy(this.__moveResize, this));\n\tBX.unbind(document, \"mouseup\", BX.proxy(this.__stopResize, this));\n\n\tdocument.onmousedown = null;\n\n\tvar b = document.body;\n\tb.ondrag = b.onselectstart = null;\n\tb.style.MozUserSelect = this.DIV.style.MozUserSelect = '';\n\tb.style.cursor = '';\n\n\tBX.onCustomEvent(this, 'onWindowResizeFinished')\n}\n\nBX.CWindow.prototype.SetClose = function(elem)\n{\n\tBX.bind(elem, 'click', BX.proxy(this.Close, this));\n\tthis.ELEMENTS.close.push(elem);\n}\n\nBX.CWindow.prototype.SetDraggable = function(elem)\n{\n\tBX.bind(elem, 'mousedown', BX.proxy(this.__startDrag, this));\n\n\telem.style.cursor = 'move';\n\n\tthis.ELEMENTS.draggable.push(elem);\n\tthis.SETTINGS.draggable = true;\n}\n\nBX.CWindow.prototype.Move = function(x, y)\n{\n\tvar dxShadow = 1; // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\tvar left = parseInt(this.DIV.style.left)+x;\n\tvar top = parseInt(this.DIV.style.top)+y;\n\n\tif (this.SETTINGS.drag_restrict)\n\t{\n\t\t//Left side\n\t\tif (left < 0)\n\t\t\tleft = 0;\n\n\t\t//Right side\n\t\tvar scrollSize = BX.GetWindowScrollSize();\n\t\tvar floatWidth = this.DIV.offsetWidth;\n\t\t\tfloatHeight = this.DIV.offsetHeight;\n\n\t\tif (left > (scrollSize.scrollWidth - floatWidth - dxShadow))\n\t\t\tleft = scrollSize.scrollWidth - floatWidth - dxShadow;\n\n\t\tif (top > (scrollSize.scrollHeight - floatHeight - dxShadow))\n\t\t\ttop = scrollSize.scrollHeight - floatHeight - dxShadow;\n\n\t\t//Top side\n\t\tif (top < 0)\n\t\t\ttop = 0;\n\t}\n\n\tthis.DIV.style.left = left+'px';\n\tthis.DIV.style.top = top+'px';\n\n\t//this.AdjustShadow(div);\n}\n\nBX.CWindow.prototype.__startDrag = function(e)\n{\n\tif (!this.SETTINGS.draggable)\n\t\treturn false;\n\n\tif(!e) e = window.event;\n\n\tthis.x = e.clientX + document.body.scrollLeft;\n\tthis.y = e.clientY + document.body.scrollTop;\n\n\tthis.__bWasDragged = false;\n\tBX.bind(document, \"mousemove\", BX.proxy(this.__moveDrag, this));\n\tBX.bind(document, \"mouseup\", BX.proxy(this.__stopDrag, this));\n\n\tif(document.body.setCapture)\n\t\tdocument.body.setCapture();\n\n\tdocument.onmousedown = BX.False;\n\n\tvar b = document.body;\n\tb.ondrag = b.onselectstart = BX.False;\n\tb.style.MozUserSelect = this.DIV.style.MozUserSelect = 'none';\n\tb.style.cursor = 'move';\n\treturn BX.PreventDefault(e);\n}\n\nBX.CWindow.prototype.__moveDrag = function(e)\n{\n\tif(!e) e = window.event;\n\n\tvar x = e.clientX + document.body.scrollLeft;\n\tvar y = e.clientY + document.body.scrollTop;\n\n\tif(this.x == x && this.y == y)\n\t\treturn;\n\n\tthis.Move((x - this.x), (y - this.y));\n\tthis.x = x;\n\tthis.y = y;\n\n\tif (!this.__bWasDragged)\n\t{\n\t\tBX.onCustomEvent(this, 'onWindowDragStart');\n\t\tthis.__bWasDragged = true;\n\t\tBX.bind(BX.proxy_context, \"click\", BX.PreventDefault);\n\t}\n\n\tBX.onCustomEvent(this, 'onWindowDrag');\n}\n\nBX.CWindow.prototype.__stopDrag = function(e)\n{\n\tif(document.body.releaseCapture)\n\t\tdocument.body.releaseCapture();\n\n\tBX.unbind(document, \"mousemove\", BX.proxy(this.__moveDrag, this));\n\tBX.unbind(document, \"mouseup\", BX.proxy(this.__stopDrag, this));\n\n\tdocument.onmousedown = null;\n\n\tvar b = document.body;\n\tb.ondrag = b.onselectstart = null;\n\tb.style.MozUserSelect = this.DIV.style.MozUserSelect = '';\n\tb.style.cursor = '';\n\n\tif (this.__bWasDragged)\n\t{\n\t\tBX.onCustomEvent(this, 'onWindowDragFinished');\n\t\tvar _proxy_context = BX.proxy_context;\n\t\tsetTimeout(function(){BX.unbind(_proxy_context, \"click\", BX.PreventDefault)}, 100);\n\t\tthis.__bWasDragged = false;\n\t}\n\treturn BX.PreventDefault(e);\n}\n\nBX.CWindow.prototype.DenyClose = function()\n{\n\tthis.denyClose = true;\n}\n\nBX.CWindow.prototype.AllowClose = function()\n{\n\tthis.denyClose = false;\n}\n\nBX.CWindow.prototype.ShowError = function(str)\n{\n\tBX.onCustomEvent(this, 'onWindowError', [str]);\n\n\tif (this._wait)\n\t\tBX.closeWait(this._wait);\n\n\talert(str);\n}\n\nBX.CWindow.prototype.__set_msover = function() {this.MOUSEOVER = true;}\nBX.CWindow.prototype.__unset_msover = function() {this.MOUSEOVER = false;}\n\n/* dialog window class extends window class */\nBX.CWindowDialog = function() {\n\targuments[1] = 'dialog';\n\tBX.CWindowDialog.superclass.constructor.apply(this, arguments);\n\n\tthis.DIV.style.top = '10px';\n\tthis.OVERLAY = null;\n}\nBX.extend(BX.CWindowDialog, BX.CWindow);\n\nBX.CWindowDialog.prototype.__resizeOverlay = function()\n{\n\tvar windowSize = BX.GetWindowScrollSize();\n\tthis.OVERLAY.style.width = windowSize.scrollWidth + \"px\";\n}\n\nBX.CWindowDialog.prototype.CreateOverlay = function(zIndex)\n{\n\tif (null == this.OVERLAY)\n\t{\n\t\tvar windowSize = BX.GetWindowScrollSize();\n\t\tthis.OVERLAY = document.body.appendChild(BX.create(\"DIV\", {\n\t\t\tstyle: {\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: '0px',\n\t\t\t\tleft: '0px',\n\t\t\t\tzIndex: zIndex || (parseInt(this.DIV.style.zIndex)-2),\n\t\t\t\twidth: windowSize.scrollWidth + \"px\",\n\t\t\t\theight: windowSize.scrollHeight + \"px\"\n\t\t\t}\n\t\t}));\n\t}\n\n\treturn this.OVERLAY;\n}\n\nBX.CWindowDialog.prototype.Show = function()\n{\n\tBX.CWindowDialog.superclass.Show.apply(this, arguments);\n\n\tthis.CreateOverlay();\n\n\tthis.OVERLAY.style.display = 'block';\n\tthis.OVERLAY.style.zIndex = parseInt(this.DIV.style.zIndex)-2;\n\n\tBX.unbind(window, 'resize', BX.proxy(this.__resizeOverlay, this));\n\tBX.bind(window, 'resize', BX.proxy(this.__resizeOverlay, this));\n}\n\nBX.CWindowDialog.prototype.onUnRegister = function(clean)\n{\n\tBX.CWindowDialog.superclass.onUnRegister.apply(this, arguments);\n\n\tif (this.clean)\n\t{\n\t\tif (this.OVERLAY.parentNode)\n\t\t\tthis.OVERLAY.parentNode.removeChild(this.OVERLAY);\n\t}\n\telse\n\t{\n\t\tthis.OVERLAY.style.display = 'none';\n\t}\n\n\tBX.unbind(window, 'resize', BX.proxy(this.__resizeOverlay, this));\n}\n\n/* standard bitrix dialog extends BX.CWindowDialog */\n/*\n\tarParams = {\n\t\t(\n\t\t\ttitle: 'dialog title',\n\t\t\thead: 'head block html',\n\t\t\tcontent: 'dialog content',\n\t\t\ticon: 'head icon classname or filename',\n\n\t\t\tresize_id: 'some id to save resize information'// useless if resizable = false\n\t\t)\n\t\tor\n\t\t(\n\t\t\tcontent_url: url to content load\n\t\t\t\tloaded content scripts can use BX.WindowManager.Get() to get access to the current window object\n\t\t)\n\n\t\theight: window_height_in_pixels,\n\t\twidth: window_width_in_pixels,\n\n\t\tdraggable: true|false,\n\t\tresizable: true|false,\n\n\t\tmin_height: min_window_height_in_pixels, // useless if resizable = false\n\t\tmin_width: min_window_width_in_pixels, // useless if resizable = false\n\n\t\tbuttons: [\n\t\t\t'html_code',\n\t\t\tBX.CDialog.btnSave, BX.CDialog.btnCancel, BX.CDialog.btnClose\n\t\t]\n\t}\n*/\nBX.CDialog = function(arParams)\n{\n\tBX.CDialog.superclass.constructor.apply(this);\n\n\tthis.PARAMS = arParams || {};\n\n\tfor (var i in this.defaultParams)\n\t{\n\t\tif (typeof this.PARAMS[i] == 'undefined')\n\t\t\tthis.PARAMS[i] = this.defaultParams[i];\n\t}\n\n\tthis.PARAMS.width = (!isNaN(parseInt(this.PARAMS.width)))\n\t\t? this.PARAMS.width\n\t\t: this.defaultParams['width'];\n\tthis.PARAMS.height = (!isNaN(parseInt(this.PARAMS.height)))\n\t\t? this.PARAMS.height\n\t\t: this.defaultParams['height'];\n\n\tif (this.PARAMS.resize_id || this.PARAMS.content_url)\n\t{\n\t\tvar arSize = BX.WindowManager.getRuntimeWindowSize(this.PARAMS.resize_id || this.PARAMS.content_url);\n\t\tif (arSize)\n\t\t{\n\t\t\tthis.PARAMS.width = arSize.width;\n\t\t\tthis.PARAMS.height = arSize.height;\n\t\t}\n\t}\n\n\tBX.addClass(this.DIV, 'bx-core-dialog');\n\n\tthis.PARTS = {};\n\n\tthis.DIV.style.height = null;\n\tthis.DIV.style.width = null;\n\n\tthis.PARTS.CONTENT = this.DIV.appendChild(BX.create('DIV', {\n\t\tprops: {className: 'dialog-center'}\n\t}));\n\n\n\tthis.PARTS.CONTENT_DATA = this.PARTS.CONTENT.appendChild(BX.create('DIV', {\n\t\tprops: {className: 'bx-core-dialog-content'}\n\t}));\n\n\tBX.adjust(this.PARTS.CONTENT_DATA, {\n\t\tstyle: {\n\t\t\theight: this.PARAMS.height + 'px',\n\t\t\twidth: this.PARAMS.width + 'px'\n\t\t}\n\t});\n\n\tthis.PARTS.HEAD = this.PARTS.CONTENT_DATA.appendChild(BX.create('DIV', {\n\t\tprops: {\n\t\t\tclassName: 'bx-core-dialog-head'\n\t\t},\n\t\tchildren: [\n\t\t\tBX.create('DIV', {\n\t\t\t\tprops: {className: 'bx-core-dialog-head-content' + (this.PARAMS.icon ? ' ' + this.PARAMS.icon : '')}\n\t\t\t})\n\t\t]\n\t}));\n\n\tthis.SetHead(this.PARAMS.head);\n\tthis.SetContent(this.PARAMS.content);\n\n\tthis.PARTS.TITLEBAR = this.DIV.appendChild(BX.create('DIV', {props: {\n\t\t\tclassName: 'dialog-head'\n\t\t},\n\t\thtml: '<div class=\"l\"><div class=\"r\"><div class=\"c\"><span>'+this.PARAMS.title+'</span></div></div></div>'\n\t}));\n\tthis.PARTS.TITLE_CONTAINER = this.PARTS.TITLEBAR.firstChild.firstChild.firstChild.firstChild;\n\tthis.SetTitle(this.PARAMS.title);\n\n\tthis.PARTS.TITLEBAR_ICONS = this.DIV.appendChild(BX.create('DIV', {\n\t\tprops: {\n\t\t\tclassName: 'dialog-head-icons'\n\t\t},\n\t\tchildren: (this.PARAMS.resizable ? [\n\t\t\tBX.create('A', {props: {className: 'bx-icon-expand', title: BX.message('JS_CORE_WINDOW_EXPAND')}}),\n\t\t\tBX.create('A', {props: {className: 'bx-icon-close', title: BX.message('JS_CORE_WINDOW_CLOSE')}})\n\t\t] : [\n\t\t\tBX.create('A', {props: {className: 'bx-icon-close', title: BX.message('JS_CORE_WINDOW_CLOSE')}})\n\t\t])\n\t}));\n\n\tthis.SetClose(this.PARTS.TITLEBAR_ICONS.lastChild);\n\n\tif (this.PARAMS.resizable)\n\t{\n\t\tthis.SetExpand(this.PARTS.TITLEBAR_ICONS.firstChild);\n\t\tBX.addCustomEvent(this, 'onWindowExpand', BX.proxy(this.__onexpand, this));\n\t\tBX.addCustomEvent(this, 'onWindowNarrow', BX.proxy(this.__onexpand, this));\n\t}\n\n\n\tthis.PARTS.FOOT = this.DIV.appendChild(BX.create('DIV', {props: {\n\t\t\tclassName: 'dialog-foot'\n\t\t},\n\t\thtml: '<div class=\"l\"><div class=\"r\"><div class=\"c\"><img src=\"/bitrix/js/main/core/images/line.png\" height=\"1\" width=\"90%\" border=\"0\" style=\"position: absolute; top: 0; left: 0;\" /><span></span></div></div></div>'\n\t}));\n\n\tthis.PARTS.BUTTONS_CONTAINER = this.PARTS.FOOT.firstChild.firstChild.firstChild.lastChild;\n\tBX.adjust(this.PARTS.BUTTONS_CONTAINER, {\n\t\tchildren: this.ShowButtons()\n\t});\n\n\tif (this.PARAMS.draggable)\n\t\tthis.SetDraggable(this.PARTS.TITLEBAR);\n\n\tthis.SetExpand(this.PARTS.TITLEBAR.firstChild, 'dblclick');\n\n\tif (this.PARAMS.resizable)\n\t{\n\t\tthis.PARTS.RESIZER = this.DIV.appendChild(BX.create('DIV', {\n\t\t\tprops: {className: 'bx-core-resizer'}\n\t\t}));\n\n\t\tthis.SetResize(this.PARTS.RESIZER);\n\n\t\tthis.SETTINGS.min_width = this.PARAMS.min_width;\n\t\tthis.SETTINGS.min_height = this.PARAMS.min_height;\n\t}\n}\nBX.extend(BX.CDialog, BX.CWindowDialog);\n\nBX.CDialog.prototype.defaultParams = {\n\twidth: 700,\n\theight: 400,\n\tmin_width: 500,\n\tmin_height: 300,\n\n\tresizable: true,\n\tdraggable: true,\n\n\ttitle: '',\n\ticon: ''\n}\n\nBX.CDialog.prototype.__expandGetSize = function()\n{\n\tvar pDocElement = BX.GetDocElement();\n\tpDocElement.style.overflow = 'hidden';\n\n\tvar wndSize = BX.GetWindowInnerSize();\n\n\tpDocElement.scrollTop = 0;\n\n\tthis.DIV.style.top = '-' + this.dxShadow + 'px';\n\tthis.DIV.style.left = '-' + this.dxShadow + 'px';\n\n\treturn {\n\t\twidth: (wndSize.innerWidth - parseInt(BX.style(this.PARTS.CONTENT, 'padding-right'))),\n\t\theight: (wndSize.innerHeight - this.PARTS.TITLEBAR.offsetHeight - (this.PARTS.FOOT.offsetHeight) + this.dxShadow)\n\t};\n}\n\nBX.CDialog.prototype.__expand = function()\n{\n\tvar pDocElement = BX.GetDocElement();\n\tthis.dxShadow = 7;\n\n\tif (!this.bExpanded)\n\t{\n\t\tvar wndScroll = BX.GetWindowScrollPos();\n\n\t\tthis.__expand_settings = {\n\t\t\tresizable: this.SETTINGS.resizable,\n\t\t\tdraggable: this.SETTINGS.draggable,\n\t\t\twidth: this.PARTS.CONTENT_DATA.style.width,\n\t\t\theight: this.PARTS.CONTENT_DATA.style.height,\n\t\t\tleft: this.DIV.style.left,\n\t\t\ttop: this.DIV.style.top,\n\t\t\tscroll: wndScroll.scrollTop,\n\t\t\toverflow: BX.style(pDocElement, 'overflow')\n\t\t}\n\n\t\tthis.SETTINGS.resizable = false;\n\t\tthis.SETTINGS.draggable = false;\n\n\t\tvar pos = this.__expandGetSize();\n\n\t\tthis.PARTS.CONTENT_DATA.style.width = pos.width + 'px';\n\t\tthis.PARTS.CONTENT_DATA.style.height = pos.height + 'px';\n\n\t\tthis.bExpanded = true;\n\n\t\tBX.onCustomEvent(this, 'onWindowExpand');\n\t\tBX.onCustomEvent(this, 'onWindowResize');\n\t\tBX.onCustomEvent(this, 'onWindowResizeExt', [{'width': pos.width, 'height': pos.height}]);\n\n\t\tBX.bind(window, 'resize', BX.proxy(this.__expand_onresize, this));\n\t}\n\telse\n\t{\n\t\tBX.unbind(window, 'resize', BX.proxy(this.__expand_onresize, this));\n\n\t\tthis.SETTINGS.resizable = this.__expand_settings.resizable;\n\t\tthis.SETTINGS.draggable = this.__expand_settings.draggable;\n\n\t\tpDocElement.style.overflow = this.__expand_settings.overflow;\n\n\t\tthis.DIV.style.top = this.__expand_settings.top;\n\t\tthis.DIV.style.left = this.__expand_settings.left;\n\t\tthis.PARTS.CONTENT_DATA.style.width = this.__expand_settings.width;\n\t\tthis.PARTS.CONTENT_DATA.style.height = this.__expand_settings.height;\n\t\tpDocElement.scrollTop = this.__expand_settings.scroll;\n\t\tthis.bExpanded = false;\n\n\t\tBX.onCustomEvent(this, 'onWindowNarrow');\n\t\tBX.onCustomEvent(this, 'onWindowResize');\n\t\tBX.onCustomEvent(this, 'onWindowResizeExt', [{'width': parseInt(this.__expand_settings.width), 'height': parseInt(this.__expand_settings.height)}]);\n\t}\n}\n\nBX.CDialog.prototype.__expand_onresize = function()\n{\n\tvar pos = this.__expandGetSize();\n\n\tthis.PARTS.CONTENT_DATA.style.width = pos.width + 'px';\n\tthis.PARTS.CONTENT_DATA.style.height = pos.height + 'px';\n\n\tBX.onCustomEvent(this, 'onWindowResize');\n\tBX.onCustomEvent(this, 'onWindowResizeExt', [pos]);\n}\n\nBX.CDialog.prototype.__onexpand = function()\n{\n\tvar ob = this.PARTS.TITLEBAR_ICONS.firstChild;\n\tob.className = BX.toggle(ob.className, ['bx-icon-expand', 'bx-icon-narrow']);\n\tob.title = BX.toggle(ob.title, [BX.message('JS_CORE_WINDOW_EXPAND'), BX.message('JS_CORE_WINDOW_NARROW')]);\n\n\tif (this.PARTS.RESIZER)\n\t{\n\t\tthis.PARTS.RESIZER.style.display = this.bExpanded ? 'none' : 'block';\n\t}\n}\n\n\nBX.CDialog.prototype.__startResize = function(e)\n{\n\tif (!this.SETTINGS.resizable)\n\t\treturn false;\n\n\tif(!e) e = window.event;\n\n\tthis.wndSize = BX.GetWindowScrollPos();\n\tthis.wndSize.innerWidth = BX.GetWindowInnerSize().innerWidth;\n\n\tthis.pos = BX.pos(this.PARTS.CONTENT_DATA);\n\n\tthis.x = e.clientX + this.wndSize.scrollLeft;\n\tthis.y = e.clientY + this.wndSize.scrollTop;\n\n\tthis.dx = this.pos.left + this.pos.width - this.x;\n\tthis.dy = this.pos.top + this.pos.height - this.y;\n\tthis.dw = this.pos.width - parseInt(this.PARTS.CONTENT_DATA.style.width) + parseInt(BX.style(this.PARTS.CONTENT, 'padding-right'));\n\n\tBX.bind(document, \"mousemove\", BX.proxy(this.__moveResize, this));\n\tBX.bind(document, \"mouseup\", BX.proxy(this.__stopResize, this));\n\n\tif(document.body.setCapture)\n\t\tdocument.body.setCapture();\n\n\tdocument.onmousedown = BX.False;\n\n\tvar b = document.body;\n\tb.ondrag = b.onselectstart = BX.False;\n\tb.style.MozUserSelect = this.DIV.style.MozUserSelect = 'none';\n\tb.style.cursor = 'se-resize';\n\n\tBX.onCustomEvent(this, 'onWindowResizeStart');\n}\n\nBX.CDialog.prototype.Resize = function(x, y)\n{\n\tvar new_width = Math.max(x - this.pos.left + this.dx, this.SETTINGS.min_width);\n\tvar new_height = Math.max(y - this.pos.top + this.dy, this.SETTINGS.min_height);\n\n\tif (this.SETTINGS.resize_restrict)\n\t{\n\t\tvar scrollSize = BX.GetWindowScrollSize();\n\n\t\tif (this.pos.left + new_width > scrollSize.scrollWidth - this.dw)\n\t\t\tnew_width = scrollSize.scrollWidth - this.pos.left - this.dw;\n\t}\n\n\tthis.PARTS.CONTENT_DATA.style.width = new_width + 'px';\n\tthis.PARTS.CONTENT_DATA.style.height = new_height + 'px';\n\n\tBX.onCustomEvent(this, 'onWindowResize');\n\tBX.onCustomEvent(this, 'onWindowResizeExt', [{'height': new_height, 'width': new_width}]);\n}\n\nBX.CDialog.prototype.SetSize = function(obSize)\n{\n\tthis.PARTS.CONTENT_DATA.style.width = obSize.width + 'px';\n\tthis.PARTS.CONTENT_DATA.style.height = obSize.height + 'px';\n\n\tBX.onCustomEvent(this, 'onWindowResize');\n\tBX.onCustomEvent(this, 'onWindowResizeExt', [obSize]);\n}\n\nBX.CDialog.prototype.GetParameters = function(form_name)\n{\n\tvar form = this.GetForm();\n\n\tif(!form)\n\t\treturn \"\";\n\n\tvar i, s = \"\";\n\tvar n = form.elements.length;\n\n\tvar delim = '';\n\tfor(i=0; i<n; i++)\n\t{\n\t\tif (s != '') delim = '&';\n\t\tvar el = form.elements[i];\n\t\tif (el.disabled)\n\t\t\tcontinue;\n\n\t\tswitch(el.type.toLowerCase())\n\t\t{\n\t\t\tcase 'text':\n\t\t\tcase 'textarea':\n\t\t\tcase 'password':\n\t\t\tcase 'hidden':\n\t\t\t\tif (null == form_name && el.name.substr(el.name.length-4) == '_alt' && form.elements[el.name.substr(0, el.name.length-4)])\n\t\t\t\t\tbreak;\n\t\t\t\ts += delim + el.name + '=' + BX.util.urlencode(el.value);\n\t\t\t\tbreak;\n\t\t\tcase 'radio':\n\t\t\t\tif(el.checked)\n\t\t\t\t\ts += delim + el.name + '=' + BX.util.urlencode(el.value);\n\t\t\t\tbreak;\n\t\t\tcase 'checkbox':\n\t\t\t\ts += delim + el.name + '=' + BX.util.urlencode(el.checked ? 'Y':'N');\n\t\t\t\tbreak;\n\t\t\tcase 'select-one':\n\t\t\t\tvar val = \"\";\n\t\t\t\tif (null == form_name && form.elements[el.name + '_alt'] && el.selectedIndex == 0)\n\t\t\t\t\tval = form.elements[el.name+'_alt'].value;\n\t\t\t\telse\n\t\t\t\t\tval = el.value;\n\t\t\t\ts += delim + el.name + '=' + BX.util.urlencode(val);\n\t\t\t\tbreak;\n\t\t\tcase 'select-multiple':\n\t\t\t\tvar j, bAdded = false;\n\t\t\t\tvar l = el.options.length;\n\t\t\t\tfor (j=0; j<l; j++)\n\t\t\t\t{\n\t\t\t\t\tif (el.options[j].selected)\n\t\t\t\t\t{\n\t\t\t\t\t\ts += delim + el.name + '=' + BX.util.urlencode(el.options[j].value);\n\t\t\t\t\t\tbAdded = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!bAdded)\n\t\t\t\t\ts += delim + el.name + '=';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn s;\n};\n\nBX.CDialog.prototype.PostParameters = function(params)\n{\n\tvar url = this.PARAMS.content_url;\n\tif (null != params)\n\t{\n\t\tindex = url.indexOf('?')\n\t\tif (index == -1)\n\t\t\turl += '?' + params;\n\t\telse\n\t\t\turl = url.substring(0, index) + '?' + params + \"&\" + url.substring(index+1);\n\t}\n\n\tBX.showWait();\n\tBX.ajax.post(url, this.GetParameters(), BX.delegate(function(result) {\n\t\tBX.closeWait();\n\t\tthis.ClearButtons(); // buttons are appended during form reload, so we should clear footer\n\t\tthis.SetContent(result);\n\t\tthis.Show(true);\n\t}, this));\n}\n\nBX.CDialog.prototype.Submit = function(params)\n{\n\tvar FORM = this.GetForm();\n\tif (FORM)\n\t{\n\t\tFORM.onsubmit = null;\n\n\t\tFORM.method = 'POST';\n\t\tif (!FORM.action)\n\t\t{\n\t\t\tvar url = this.PARAMS.content_url;\n\t\t\tif (null != params)\n\t\t\t{\n\t\t\t\tindex = url.indexOf('?')\n\t\t\t\tif (index == -1)\n\t\t\t\t\turl += '?' + params;\n\t\t\t\telse\n\t\t\t\t\turl = url.substring(0, index) + '?' + params + \"&\" + url.substring(index+1);\n\t\t\t}\n\n\t\t\tFORM.action = url;\n\t\t}\n\n\t\tthis._wait = BX.showWait();\n\t\tBX.ajax.submit(FORM);\n\t}\n\telse\n\t{\n\t\talert('no form registered!');\n\t}\n}\n\nBX.CDialog.prototype.GetForm = function()\n{\n\tif (null == this.__form)\n\t{\n\t\tvar forms = this.PARTS.CONTENT_DATA.getElementsByTagName('FORM');\n\t\tthis.__form = forms[0] ? forms[0] : null;\n\t}\n\n\treturn this.__form;\n}\n\nBX.CDialog.prototype.GetRealForm = function()\n{\n\tif (null == this.__rform)\n\t{\n\t\tvar forms = this.PARTS.CONTENT_DATA.getElementsByTagName('FORM');\n\t\tthis.__rform = forms[1] ? forms[1] : (forms[0] ? forms[0] : null);\n\t}\n\n\treturn this.__rform;\n}\n\nBX.CDialog.prototype._checkButton = function(btn)\n{\n\tvar arCustomButtons = ['btnSave', 'btnCancel', 'btnClose'];\n\n\tfor (var i = 0; i < arCustomButtons.length; i++)\n\t{\n\t\tif (this[arCustomButtons[i]] && (btn == this[arCustomButtons[i]]))\n\t\t\treturn arCustomButtons[i];\n\t}\n\n\treturn false;\n}\n\nBX.CDialog.prototype.ShowButtons = function()\n{\n\tvar result = [];\n\tif (this.PARAMS.buttons)\n\t{\n\t\tif (this.PARAMS.buttons.title) this.PARAMS.buttons = [this.PARAMS.buttons];\n\n\t\tfor (var i=0, len=this.PARAMS.buttons.length; i<len; i++)\n\t\t{\n\t\t\tif (BX.type.isNotEmptyString(this.PARAMS.buttons[i]))\n\t\t\t{\n\t\t\t\tresult.push(this.PARAMS.buttons[i]);\n\t\t\t}\n\t\t\telse if (this.PARAMS.buttons[i])\n\t\t\t{\n\t\t\t\t//if (!(this.PARAMS.buttons[i] instanceof BX.CWindowButton))\n\t\t\t\tif (!BX.is_subclass_of(this.PARAMS.buttons[i], BX.CWindowButton))\n\t\t\t\t{\n\t\t\t\t\tvar b = this._checkButton(this.PARAMS.buttons[i]); // hack to set links to real CWindowButton object in btnSave etc;\n\t\t\t\t\tthis.PARAMS.buttons[i] = new BX.CWindowButton(this.PARAMS.buttons[i]);\n\t\t\t\t\tif (b) this[b] = this.PARAMS.buttons[i];\n\t\t\t\t}\n\n\t\t\t\tresult.push(this.PARAMS.buttons[i].Button(this));\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\nBX.CDialog.prototype.setAutosave = function () {\n\tif (!this.bSetAutosaveDelay)\n\t{\n\t\tthis.bSetAutosaveDelay = true;\n\t\tsetTimeout(BX.proxy(this.setAutosave, this), 10);\n\t\treturn;\n\t}\n\n\tvar auto_lnk = this.PARTS.FOOT.appendChild(BX.create('A', {\n\t\tattr: {href: 'javascript:void(0)'},\n\t\tstyle: {\n\t\t\tposition: 'absolute', top: '11px', left: '11px'\n\t\t},\n\t\tprops: {\n\t\t\tclassName: 'context-button bx-core-autosave bx-core-autosave-ready',\n\t\t\ttitle: BX.message('AUTOSAVE_T')\n\t\t}\n\t}));\n\n\tBX.addCustomEvent(this.GetRealForm(), 'onAutoSavePrepare', function (ob, h) {\n\t\tBX.bind(auto_lnk, 'click', BX.proxy(ob.Save, ob));\n\t});\n\tBX.addCustomEvent(this.GetRealForm(), 'onAutoSave', function() {\n\t\tauto_lnk.className = 'context-button bx-core-autosave bx-core-autosave-saving';\n\t});\n\tBX.addCustomEvent(this.GetRealForm(), 'onAutoSaveFinished', function(ob, t) {\n\t\tt = parseInt(t);\n\t\tif (!isNaN(t))\n\t\t{\n\t\t\tsetTimeout(function() {\n\t\t\t\tauto_lnk.className = 'context-button bx-core-autosave bx-core-autosave-ready';\n\t\t\t}, 1000);\n\t\t\tauto_lnk.title = BX.message('AUTOSAVE_L').replace('#DATE#', BX.formatDate(new Date(t * 1000)));\n\t\t}\n\t});\n\tBX.addCustomEvent(this.GetRealForm(), 'onAutoSaveInit', function() {\n\t\tauto_lnk.className = 'context-button bx-core-autosave bx-core-autosave-edited';\n\t});\n}\n\nBX.CDialog.prototype.SetTitle = function(title)\n{\n\tthis.PARAMS.title = title;\n\tBX.cleanNode(this.PARTS.TITLE_CONTAINER).appendChild(document.createTextNode(this.PARAMS.title));\n}\n\nBX.CDialog.prototype.SetHead = function(head)\n{\n\tthis.PARAMS.head = head;\n\tthis.PARTS.HEAD.firstChild.innerHTML = head || \"&nbsp;\";\n\tthis.PARTS.HEAD.style.display = this.PARAMS.head ? 'block' : 'none';\n\tthis.adjustSize();\n}\n\nBX.CDialog.prototype.Notify = function(note)\n{\n\tif (!this.PARTS.NOTIFY)\n\t{\n\t\tthis.PARTS.NOTIFY = this.DIV.insertBefore(BX.create('DIV', {\n\t\t\tprops: {className: 'bx-dialog-notify-outer'},\n\t\t\tchildren: [\n\t\t\t\tBX.create('DIV', {\n\t\t\t\t\tprops: {className: 'bx-dialog-notify'},\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\tBX.create('DIV', {\n\t\t\t\t\t\t\tprops: {className: 'bx-dialog-notify-close'},\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\tBX.create('A', {\n\t\t\t\t\t\t\t\t\tstyle: {cursor: 'pointer'},\n\t\t\t\t\t\t\t\t\tevents: {click: BX.proxy(this.hideNotify, this)}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tBX.create('DIV', {\n\t\t\t\t\t\t\tprops: {className: 'bx-dialog-notify-text'}\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t]\n\t\t}), this.DIV.firstChild);\n\t}\n\n\tthis.PARTS.NOTIFY.firstChild.lastChild.innerHTML = note || '&nbsp;';\n\tBX.removeClass(this.PARTS.NOTIFY, 'bx-dialog-notify-hidden');\n\tBX.addClass(this.PARTS.CONTENT, 'dialog-center-notify');\n}\n\nBX.CDialog.prototype.hideNotify = function()\n{\n\tBX.addClass(this.PARTS.NOTIFY, 'bx-dialog-notify-hidden');\n\tBX.removeClass(this.PARTS.CONTENT, 'dialog-center-notify');\n}\n\nBX.CDialog.prototype.__adjustHeadToIcon = function()\n{\n\tif (!this.PARTS.HEAD.firstChild.offsetHeight)\n\t{\n\t\tsetTimeout(BX.delegate(this.__adjustHeadToIcon, this), 50);\n\t}\n\telse\n\t{\n\t\tif (this.icon_image && this.icon_image.height && this.icon_image.height > this.PARTS.HEAD.firstChild.offsetHeight - 5)\n\t\t{\n\t\t\tthis.PARTS.HEAD.firstChild.style.height = this.icon_image.height + 5 + 'px';\n\t\t\tthis.adjustSize();\n\t\t}\n\n\t\tthis.icon_image.onload = null;\n\t\tthis.icon_image = null;\n\t}\n}\n\nBX.CDialog.prototype.SetIcon = function(icon_class)\n{\n\tif (this.PARAMS.icon != icon_class)\n\t{\n\t\tif (this.PARAMS.icon)\n\t\t\tBX.removeClass(this.PARTS.HEAD.firstChild, this.PARAMS.icon);\n\n\t\tthis.PARAMS.icon = icon_class\n\n\t\tif (this.PARAMS.icon)\n\t\t{\n\t\t\tBX.addClass(this.PARTS.HEAD.firstChild, this.PARAMS.icon);\n\n\t\t\tvar icon_file = (BX.style(this.PARTS.HEAD.firstChild, 'background-image') || BX.style(this.PARTS.HEAD.firstChild, 'backgroundImage')).replace('url(\"', '').replace('\")', '');\n\t\t\tif (BX.type.isNotEmptyString(icon_file) && icon_file != 'none')\n\t\t\t{\n\t\t\t\tthis.icon_image = new Image();\n\t\t\t\tthis.icon_image.onload = BX.delegate(this.__adjustHeadToIcon, this);\n\t\t\t\tthis.icon_image.src = icon_file;\n\t\t\t}\n\t\t}\n\t}\n\tthis.adjustSize();\n}\n\nBX.CDialog.prototype.SetIconFile = function(icon_file)\n{\n\tthis.icon_image = new Image();\n\tthis.icon_image.onload = BX.delegate(this.__adjustHeadToIcon, this);\n\tthis.icon_image.src = icon_file;\n\n\tBX.adjust(this.PARTS.HEAD.firstChild, {style: {backgroundImage: 'url(' + icon_file + ')', backgroundPosition: 'right 9px'/*'99% center'*/}});\n\tthis.adjustSize();\n}\n\n/*\nBUTTON: {\n\ttitle: 'title',\n\t'action': function executed in window object context\n}\nBX.CDialog.btnSave || BX.CDialog.btnCancel - standard buttons\n*/\n\nBX.CDialog.prototype.SetButtons = function(a)\n{\n\tif (BX.type.isString(a))\n\t{\n\t\tif (a.length > 0)\n\t\t{\n\t\t\tthis.PARTS.BUTTONS_CONTAINER.innerHTML += a;\n\n\t\t\tvar btns = this.PARTS.BUTTONS_CONTAINER.getElementsByTagName('INPUT');\n\t\t\tif (btns.length > 0)\n\t\t\t{\n\t\t\t\tthis.PARAMS.buttons = [];\n\t\t\t\tfor (var i = 0; i < btns.length; i++)\n\t\t\t\t{\n\t\t\t\t\tthis.PARAMS.buttons.push(new BX.CWindowButton({btn: btns[i], parentWindow: this}));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tthis.PARAMS.buttons = a;\n\t\tBX.adjust(this.PARTS.BUTTONS_CONTAINER, {\n\t\t\tchildren: this.ShowButtons()\n\t\t});\n\t}\n\tthis.adjustSize();\n}\n\nBX.CDialog.prototype.ClearButtons = function()\n{\n\tBX.cleanNode(this.PARTS.BUTTONS_CONTAINER);\n\tthis.adjustSize();\n}\n\nBX.CDialog.prototype.SetContent = function(html)\n{\n\tthis.__form = null;\n\n\tif (BX.type.isElementNode(html))\n\t{\n\t\tif (html.parentNode)\n\t\t\thtml.parentNode.removeChild(html);\n\t}\n\n\tthis.PARAMS.content = html;\n\tBX.cleanNode(this.PARTS.CONTENT_DATA);\n\n\tBX.adjust(this.PARTS.CONTENT_DATA, {\n\t\tchildren: [\n\t\t\tthis.PARTS.HEAD,\n\t\t\tBX.create('DIV', {\n\t\t\t\tprops: {className: 'content-inner'},\n\t\t\t\tchildren: [this.PARAMS.content || '&nbsp;']\n\t\t\t})\n\t\t]\n\t});\n\n\tif (this.PARAMS.content_url && this.GetForm())\n\t{\n\t\tthis.__form.submitbtn = this.__form.appendChild(BX.create('INPUT', {props:{type:'submit'},style:{display:'none'}}));\n\t\tthis.__form.onsubmit = BX.delegate(this.__submit, this);\n\t}\n}\n\nBX.CDialog.prototype.__submit = function(e)\n{\n\tfor (var i=0,len=this.PARAMS.buttons.length; i<len; i++)\n\t{\n\t\tif (\n\t\t\tthis.PARAMS.buttons[i]\n\t\t\t&& (\n\t\t\t\tthis.PARAMS.buttons[i].name && /save|apply/i.test(this.PARAMS.buttons[i].name)\n\t\t\t\t||\n\t\t\t\tthis.PARAMS.buttons[i].btn && this.PARAMS.buttons[i].btn.name && /save|apply/i.test(this.PARAMS.buttons[i].btn.name)\n\t\t\t)\n\t\t)\n\t\t{\n\t\t\tthis.PARAMS.buttons[i].emulate();\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn BX.PreventDefault(e);\n}\n\nBX.CDialog.prototype.SwapContent = function(cont)\n{\n\tcont = BX(cont);\n\n\tBX.cleanNode(this.PARTS.CONTENT_DATA);\n\tcont.parentNode.removeChild(cont);\n\tthis.PARTS.CONTENT_DATA.appendChild(cont);\n\tcont.style.display = 'block';\n\tthis.SetContent(cont.innerHTML);\n}\n\nBX.CDialog.prototype.adjustSize = function()\n{\n\treturn;\n\tsetTimeout(BX.delegate(this.__adjustSize, this), 10);\n}\n\nBX.CDialog.prototype.__adjustSize = function()\n{\n\treturn;\n\tvar height =\n\t\tparseInt(this.DIV.style.height) - 2 // strange bug with offsetHeight in IE while expanding\n\t\t- (this.PARTS.TITLEBAR.offsetHeight + 1)\n\t\t- (this.PARTS.HEAD ? this.PARTS.HEAD.offsetHeight + 10 : 0)\n\t\t- (this.PARTS.FOOT ? this.PARTS.FOOT.offsetHeight : 0);\n\n\tthis.PARTS.CONTENT.style.height = height + 'px';\n\n\t// autotraing: calm down, max! calm down....\n\tif (BX.browser.IsIE())\n\t{\n\t\tvar width_tmp = this.PARTS.CONTENT.style.width;\n\t\tthis.PARTS.CONTENT.style.width = '0px';\n\t\tvar width = this.DIV.offsetWidth-12;\n\t\tthis.PARTS.CONTENT.style.width = width > 0 ? (width + 'px') : width_tmp;\n\t}\n\n\t// TODO: optimize it!\n\tBX.onCustomEvent(this, 'onWindowResizeExt', [{'height': height, 'width': this.PARTS.CONTENT.offsetWidth-(BX.browser.IsIE() ? -5 : 2)}]);\n}\n\nBX.CDialog.prototype.adjustSizeEx = function()\n{\n\tsetTimeout(BX.delegate(this.__adjustSizeEx, this), 10);\n}\n\nBX.CDialog.prototype.__adjustSizeEx = function()\n{\n\tvar new_height = this.PARTS.CONTENT_DATA.firstChild.offsetHeight + this.PARTS.CONTENT_DATA.lastChild.offsetHeight;\n\n\tif (new_height)\n\t\tthis.PARTS.CONTENT_DATA.style.height = new_height + 'px';\n\n\treturn;\n\tvar arMargins = [10, parseInt(BX.style(this.PARTS.CONTENT, 'top')), parseInt(BX.style(this.PARTS.CONTENT.firstChild, 'margin-top')), parseInt(BX.style(this.PARTS.CONTENT.firstChild, 'margin-bottom'))];\n\tif (BX.browser.IsIE()) arMargins[0] += 5;\n\tvar margins = 0;\n\tfor (var i=0; i < arMargins.length; i++)\n\t\tif (!isNaN(arMargins[i]))\n\t\t\tmargins += arMargins[i];\n\n\tvar height = this.PARTS.CONTENT.firstChild.offsetHeight\n\t\t+ margins\n\t\t+ this.PARTS.TITLEBAR.offsetHeight\n\t\t+ (this.PARTS.FOOT ? this.PARTS.FOOT.offsetHeight : 0)\n\t\t+ (this.PARTS.HEAD ? this.PARTS.HEAD.offsetHeight : 0);\n\n\tthis.DIV.style.height = height + 'px';\n\tthis.adjustSize();\n}\n\n\nBX.CDialog.prototype.__onResizeFinished = function()\n{\n\tBX.WindowManager.saveWindowSize(\n\t\tthis.PARAMS.resize_id || this.PARAMS.content_url, {height: parseInt(this.PARTS.CONTENT_DATA.style.height), width: parseInt(this.PARTS.CONTENT_DATA.style.width)}\n\t);\n}\n\nBX.CDialog.prototype.Show = function(bNotRegister)\n{\n\tif ((!this.PARAMS.content) && this.PARAMS.content_url && BX.ajax && !bNotRegister)\n\t{\n\t\tvar wait = BX.showWait();\n\n\t\tBX.WindowManager.currently_loaded = this;\n\n\t\tthis.CreateOverlay(parseInt(BX.style(wait, 'z-index'))-1);\n\t\tthis.OVERLAY.style.display = 'block';\n\t\tthis.OVERLAY.className = 'bx-core-dialog-overlay';\n\n\t\tvar post_data = '', method = 'get';\n\t\tif (this.PARAMS.content_post)\n\t\t{\n\t\t\tpost_data = this.PARAMS.content_post;\n\t\t\tmethod = 'post';\n\t\t}\n\n\t\tBX.ajax[method](this.PARAMS.content_url, post_data, BX.delegate(function(data) {\n\t\t\tBX.closeWait(null, wait);\n\n\t\t\tthis.SetContent(data || '&nbsp;');\n\t\t\tthis.Show();\n\t\t}, this));\n\t}\n\telse\n\t{\n\t\tBX.WindowManager.currently_loaded = null;\n\t\tBX.CDialog.superclass.Show.apply(this, arguments);\n\n\t\tthis.adjustPos();\n\n\t\tthis.OVERLAY.className = 'bx-core-dialog-overlay';\n\n\t\tthis.__adjustSize();\n\n\t\tBX.addCustomEvent(this, 'onWindowResize', BX.proxy(this.__adjustSize, this))\n\n\t\tif (this.PARAMS.resizable && (this.PARAMS.content_url || this.PARAMS.resize_id))\n\t\t\tBX.addCustomEvent(this, 'onWindowResizeFinished', BX.delegate(this.__onResizeFinished, this));\n\t}\n}\n\nBX.CDialog.prototype.GetInnerPos = function()\n{\n\treturn {'width': parseInt(this.PARTS.CONTENT_DATA.style.width), 'height': parseInt(this.PARTS.CONTENT_DATA.style.height)};\n}\n\nBX.CDialog.prototype.adjustPos = function()\n{\n\tif (!this.bExpanded)\n\t{\n\t\tvar windowSize = BX.GetWindowInnerSize();\n\t\tvar windowScroll = BX.GetWindowScrollPos();\n\n\t\tBX.adjust(this.DIV, {\n\t\t\tstyle: {\n\t\t\t\tleft: parseInt(windowScroll.scrollLeft + windowSize.innerWidth / 2 - parseInt(this.DIV.offsetWidth) / 2) + 'px',\n\t\t\t\ttop: Math.max(parseInt(windowScroll.scrollTop + windowSize.innerHeight / 2 - parseInt(this.DIV.offsetHeight) / 2), 0) + 'px'\n\t\t\t}\n\t\t});\n\t}\n}\n\nBX.CDialog.prototype.GetContent = function () {return this.PARTS.CONTENT_DATA};\n\nBX.CDialog.prototype.btnSave = BX.CDialog.btnSave = {\n\ttitle: BX.message('JS_CORE_WINDOW_SAVE'),\n\tid: 'savebtn',\n\tname: 'savebtn',\n\taction: function () {\n\t\tthis.disableUntilError();\n\t\tthis.parentWindow.PostParameters();\n\t}\n};\n\nBX.CDialog.prototype.btnCancel = BX.CDialog.btnCancel = {\n\ttitle: BX.message('JS_CORE_WINDOW_CANCEL'),\n\tid: 'cancel',\n\tname: 'cancel',\n\taction: function () {\n\t\tthis.parentWindow.Close();\n\t}\n};\n\nBX.CDialog.prototype.btnClose = BX.CDialog.btnClose = {\n\ttitle: BX.message('JS_CORE_WINDOW_CLOSE'),\n\tid: 'close',\n\tname: 'close',\n\taction: function () {\n\t\tthis.parentWindow.Close();\n\t}\n};\n\n/* special child for admin forms loaded into public page */\nBX.CAdminDialog = function(arParams)\n{\n\tBX.CAdminDialog.superclass.constructor.apply(this, arguments);\n\n\n\tif (this.PARTS.HEAD.parentNode)\n\t\tthis.PARTS.HEAD.parentNode.removeChild(this.PARTS.HEAD);\n\n\tthis.PARTS.CONTENT.insertBefore(this.PARTS.HEAD, this.PARTS.CONTENT.firstChild);\n\n\tthis.PARTS.HEAD.className = 'bx-core-admin-dialog-head';\n\tthis.PARTS.CONTENT.className += ' bx-core-admin-dialog-content';\n}\nBX.extend(BX.CAdminDialog, BX.CDialog);\n\n\nBX.CAdminDialog.prototype.SetHead = function()\n{\n\tBX.CAdminDialog.superclass.SetHead.apply(this, arguments);\n\n\tif (this.PARTS.HEAD.firstChild.firstChild && BX.type.isElementNode(this.PARTS.HEAD.firstChild.firstChild))\n\t{\n\t\tthis.SETTINGS.min_width = Math.max(this.PARTS.HEAD.firstChild.firstChild.offsetWidth, this.SETTINGS.min_width);\n\t}\n}\n\nBX.CAdminDialog.prototype.SetContent = function(html)\n{\n\tthis.__form = null;\n\n\tif (BX.type.isElementNode(html))\n\t{\n\t\tif (html.parentNode)\n\t\t\thtml.parentNode.removeChild(html);\n\t}\n\n\tthis.PARAMS.content = html;\n\tBX.cleanNode(this.PARTS.CONTENT_DATA);\n\n\tBX.adjust(this.PARTS.CONTENT_DATA, {\n\t\tchildren: [\n\t\t\tBX.create('DIV', {\n\t\t\t\tprops: {className: 'content-inner'},\n\t\t\t\tchildren: [this.PARAMS.content || '&nbsp;']\n\t\t\t})\n\t\t]\n\t});\n\n\tif (this.PARAMS.content_url && this.GetForm())\n\t{\n\t\tthis.__form.appendChild(BX.create('INPUT', {props:{type:'submit'},style:{display:'none'}}));\n\t\tthis.__form.onsubmit = BX.delegate(this.__submit, this);\n\t}\n}\n\nBX.CAdminDialog.prototype.__adjustSizeEx = function()\n{\n\tvar new_height = this.PARTS.CONTENT_DATA.firstChild.offsetHeight;\n\tif (new_height)\n\t\tthis.PARTS.CONTENT_DATA.style.height = new_height + 'px';\n}\n\nBX.CAdminDialog.prototype.__expandGetSize = function()\n{\n\tvar res = BX.CAdminDialog.superclass.__expandGetSize.apply(this, arguments);\n\n\tres.height -= this.PARTS.HEAD.offsetHeight;\n\treturn res;\n}\n\nBX.CAdminDialog.prototype.Submit = function()\n{\n\tvar FORM = this.GetForm();\n\tif (FORM && !FORM['bxpublic'] && !/bxpublic=/.test(FORM.action))\n\t{\n\t\tFORM.appendChild(BX.create('INPUT', {\n\t\t\tprops: {\n\t\t\t\ttype: 'hidden',\n\t\t\t\tname: 'bxpublic',\n\t\t\t\tvalue: 'Y'\n\t\t\t}\n\t\t}));\n\t}\n\n\treturn BX.CAdminDialog.superclass.Submit.apply(this, arguments);\n}\n\nBX.CAdminDialog.prototype.btnSave = BX.CAdminDialog.btnSave = {\n\ttitle: BX.message('JS_CORE_WINDOW_SAVE'),\n\tid: 'savebtn',\n\tname: 'savebtn',\n\taction: function () {\n\t\tthis.disableUntilError();\n\t\tthis.parentWindow.Submit();\n\t}\n};\n\nBX.CAdminDialog.btnCancel = BX.CAdminDialog.superclass.btnCancel;\nBX.CAdminDialog.btnClose = BX.CAdminDialog.superclass.btnClose;\n\nBX.CDebugDialog = function(arParams)\n{\n\tBX.CDebugDialog.superclass.constructor.apply(this, arguments);\n}\nBX.extend(BX.CDebugDialog, BX.CDialog);\n\nBX.CDebugDialog.prototype.Show = function()\n{\n\tBX.CDebugDialog.superclass.Show.apply(this, arguments);\n\n\t/*\n\tif (BX.browser.IsIE())\n\t{\n\t\tBX.cleanNode(this.PARTS.CONTENT_DATA).style.padding = '0px !important';\n\t\tthis.PARTS.CONTENT_BOTTOM = this.PARTS.CONTENT_DATA.appendChild(BX.create('DIV', {style: {\n\t\t\twidth: '100%', overflow: 'auto'\n\t\t}, html: this.PARAMS.content}));\n\n\t\tBX.adjust(this.PARTS.CONTENT_DATA.parentNode.parentNode.parentNode, {\n\t\t\tstyle: {marginTop: this.PARTS.CONTENT_TOP ? this.PARTS.CONTENT_TOP.style.height : '0px'},\n\t\t\tattrs: {cellSpacing: '0px', cellPadding: '0px'}\n\t\t});\n\n\t\tBX.adjust(this.PARTS.CONTENT_DATA, {style: {\n\t\t\tpadding: '0px', backgroundImage: 'none'\n\t\t}});\n\n\t\tthis.__adjustSize();\n\t}\n\telse\n\t{\n\t\tif (this.PARTS.CONTENT_TOP)\n\t\t\tthis.PARTS.CONTENT_DATA.style.marginTop = this.PARTS.CONTENT_TOP.style.height;\n\n\t\tthis.PARTS.CONTENT_DATA.style.overflow = 'auto';\n\t}\n\t*/\n}\n\nBX.CDebugDialog.prototype.ShowDetails = function(div_id)\n{\n\tvar div = BX(div_id);\n\tif (div)\n\t{\n\t\tif (this.div_detail_current)\n\t\t\tthis.div_detail_current.style.display = 'none';\n\n\t\tdiv.style.display = 'block';\n\t\tthis.div_detail_current = div;\n\t}\n}\n\nBX.CDebugDialog.prototype.SetContent = function(html)\n{\n\tif (!html) return;\n\n\tvar arHtml = html.split('#DIVIDER#');\n\tif (arHtml.length > 1)\n\t{\n\t\tthis.PARAMS.content = arHtml[1];\n\n\t\tthis.PARTS.CONTENT_DATA.style.overflow = 'hidden';\n\n\t\tBX.CDebugDialog.superclass.SetContent.apply(this, [arHtml[1]]);\n\n\t\tthis.PARTS.CONTENT_INNER = this.PARTS.CONTENT_DATA.firstChild.nextSibling;\n\t\tthis.PARTS.CONTENT_TOP = this.PARTS.CONTENT_DATA.insertBefore(BX.create('DIV', {\n\t\t\tstyle: {\n\t\t\t\tposition: 'relative',\n\t\t\t\ttop: '0px',\n\t\t\t\tleft: '0px',\n\t\t\t\theight: '120px',\n\t\t\t\toverflow: 'auto',\n\t\t\t\tbackgroundColor: 'white',\n\t\t\t\tborderBottom: '1px solid #D0D0D0'\n\t\t\t},\n\t\t\thtml: arHtml[0]\n\t\t}), this.PARTS.CONTENT_INNER);\n\t\tthis.PARTS.CONTENT_INNER.style.overflow = 'auto';\n\t}\n\telse\n\t{\n\t\tBX.CDebugDialog.superclass.SetContent.apply(this, arguments);\n\t}\n}\n\n\nBX.CDebugDialog.prototype.__adjustSize = function()\n{\n\tBX.CDebugDialog.superclass.__adjustSize.apply(this, arguments);\n\n\tif (this.PARTS.CONTENT_TOP)\n\t{\n\t\tvar new_height = this.PARTS.CONTENT_DATA.offsetHeight - this.PARTS.HEAD.offsetHeight - this.PARTS.CONTENT_TOP.offsetHeight - 20;\n\n\t\tif (new_height > 0)\n\t\t{\n\t\t\tthis.PARTS.CONTENT_INNER.style.height = new_height + 'px';\n\n\t\t}\n\t}\n}\n\n\n/* MENU CLASSES */\n\nBX.CWindowFloat = function(node)\n{\n\tBX.CWindowFloat.superclass.constructor.apply(this, [node, 'float']);\n\n\tthis.SETTINGS.resizable = false;\n}\nBX.extend(BX.CWindowFloat, BX.CWindow);\n\nBX.CWindowFloat.prototype.adjustPos = function()\n{\n\tif (this.PARAMS.parent)\n\t\tthis.adjustToNode()\n\telse if (this.PARAMS.x && this.PARAMS.y)\n\t\tthis.adjustToPos([this.PARAMS.x, this.PARAMS.y]);\n}\n\nBX.CWindowFloat.prototype.adjustToPos = function(pos)\n{\n\tthis.DIV.style.left = parseInt(pos[0]) + 'px';\n\tthis.DIV.style.top = parseInt(pos[1]) + 'px';\n}\n\nBX.CWindowFloat.prototype.adjustToNodeGetPos = function()\n{\n\tvar pos = BX.pos(this.PARAMS.parent, true);\n\n\tif (this.DIV.parentNode != this.PARAMS.parent)\n\t{\n\t\tthis.DIV.parentNode.removeChild(this.DIV);\n\t\tthis.PARAMS.parent.insertBefore(this.DIV, this.PARAMS.parent.firstChild);\n\t}\n\n\treturn pos;\n}\n\nBX.CWindowFloat.prototype.adjustToNode = function(el)\n{\n\tel = el || this.PARAMS.parent;\n\n\tthis.PARAMS.parent = BX(el);\n\n\tif (this.PARAMS.parent)\n\t{\n\t\tvar pos = this.adjustToNodeGetPos();\n\n\t\tthis.DIV.style.top = pos.top + 'px';//(pos.top - 26) + 'px';\n\t\tthis.DIV.style.left = pos.left + 'px';\n\n\t\tthis.PARAMS.parent.OPENER = this;\n\t}\n}\n\nBX.CWindowFloat.prototype.Show = function()\n{\n\tBX.CWindowFloat.superclass.Show.apply(this, arguments);\n\tthis.adjustPos();\n}\n\n/* menu opener class */\n/*\n{\n\tDOMNode DIV,\n\tBX.CMenu or Array MENU,\n\tTYPE = 'hover' | 'click',\n\tTIMEOUT: 500\n}\n*/\nBX.COpener = function(arParams)\n{\n\tthis.PARAMS = arParams || {};\n\n\tthis.MENU = arParams.MENU;\n\n\tthis.DIV = arParams.DIV;\n\tthis.ATTACH = arParams.ATTACH || arParams.DIV;\n\n\tthis.TYPE = this.PARAMS.TYPE == 'hover' ? 'hover' : 'click';\n\n\tif (arParams.TIMEOUT !== 0)\n\t\tthis.TIMEOUT = arParams.TIMEOUT || 10;\n\telse\n\t\tthis.TIMEOUT = 0;\n\n\tthis.bOpen = false;\n\n\tBX.ready(BX.delegate(this.Init, this));\n}\n\nBX.COpener.prototype.Init = function()\n{\n\tthis.DIV = BX(this.DIV);\n\n\tswitch (this.TYPE)\n\t{\n\t\tcase 'hover':\n\t\t\tBX.adjust(this.DIV, {'events': {'mouseover': BX.delegate(this.Open, this)}});\n\t\tbreak;\n\n\t\tcase 'click':\n\t\t\tthis.DIV.onclick = BX.delegate(this.Toggle, this);\n\t\tbreak;\n\t}\n\n\t//BX.bind(window, 'scroll', BX.delegate(this.__close_immediately, this));\n\n\tthis.bMenuInit = false;\n}\n\nBX.COpener.prototype.Toggle = function(e)\n{\n\tif (!this.bOpen)\n\t\tthis.Open(e);\n\n\t//closing will be done by window itself\n}\n\nBX.COpener.prototype.Open = function(e)\n{\n\tif (!this.bMenuInit)\n\t{\n\t\tif (BX.type.isArray(this.MENU))\n\t\t{\n\t\t\tthis.MENU = new BX.CMenu({\n\t\t\t\tITEMS: this.MENU,\n\t\t\t\tATTACH_MODE: 'bottom',\n\t\t\t\tparent: BX(this.DIV),\n\t\t\t\tparent_attach: BX(this.ATTACH)\n\t\t\t});\n\t\t}\n\n\t\tBX.addCustomEvent(this.MENU, 'onMenuOpen', BX.delegate(this.handler_onopen, this));\n\t\tBX.addCustomEvent(this.MENU, 'onMenuClose', BX.delegate(this.handler_onclose, this));\n\n\t\tthis.bMenuInit = true;\n\t}\n\n\tthis.bOpen = true;\n\tif (this.TIMEOUT > 0)\n\t\tsetTimeout(BX.proxy(this.__open, this), this.TIMEOUT);\n\telse\n\t\tthis.__open();\n\n\t//return BX.PreventDefault(e);\n}\n\nBX.COpener.prototype.handler_onopen = function(){\n\tthis.bOpen = true;\n\tBX.onCustomEvent(this, 'onOpenerMenuOpen');\n}\nBX.COpener.prototype.handler_onclose = function(){\n\tthis.bOpen = false;\n\tBX.onCustomEvent(this, 'onOpenerMenuClose');\n}\n\nBX.COpener.prototype.Close = function(e)\n{\n\tif (!this.bMenuInit)\n\t\treturn;\n\n\tthis.bOpen = false;\n\tif (this.TIMEOUT > 0)\n\t\tsetTimeout(BX.proxy(this.__close, this), this.TIMEOUT-10);\n\telse\n\t\tthis.__close();\n}\n\nBX.COpener.prototype.__open = function(){\n\tif (this.bMenuInit && this.bOpen && !this.MENU.visible())\n\t\tthis.MENU.Show();\n}\nBX.COpener.prototype.__close = function(){\n\tif (this.bMenuInit && !this.bOpen && this.MENU.visible()) this.MENU.Hide();\n}\nBX.COpener.prototype.__close_immediately = function() {\n\tthis.bOpen = false; this.__close();\n}\nBX.COpener.prototype.isMenuVisible = function() {\n\treturn null != this.MENU.visible && this.MENU.visible()\n}\n\n/* components toolbar class */\n\nBX.CMenuOpener = function(arParams)\n{\n\tBX.CMenuOpener.superclass.constructor.apply(this);\n\n\tthis.PARAMS = arParams || {};\n\tthis.PARTS = {};\n\n\tthis.SETTINGS.drag_restrict = true;\n\n\tthis.defaultAction = null;\n\n\tthis.timeout = 500;\n\n\tthis.DIV.className = 'bx-component-opener';\n\tthis.DIV.ondblclick = BX.PreventDefault;\n\n\tif (this.PARAMS.component_id)\n\t{\n\t\tthis.PARAMS.transform = !!this.PARAMS.transform;\n\t}\n\n\tthis.OPENERS = [];\n\n\tthis.DIV.appendChild(BX.create('SPAN', {\n\t\tprops: {className: 'bx-context-toolbar' + (this.PARAMS.transform ? ' bx-context-toolbar-vertical-mode' : '')}\n\t}));\n\n\t//set internal structure and register draggable element\n\tthis.PARTS.INNER = this.DIV.firstChild.appendChild(BX.create('SPAN', {\n\t\tprops: {className: 'bx-context-toolbar-inner'},\n\t\thtml: '<span class=\"bx-context-toolbar-drag-icon\"></span><br>'\n\t}));\n\n\tthis.EXTRA_BUTTONS = {};\n\n\tvar btnCount = 0;\n\tfor (var i = 0, len = this.PARAMS.menu.length; i < len; i++)\n\t{\n\t\tvar item = this.addItem(this.PARAMS.menu[i]);\n\t\tif (null != item)\n\t\t{\n\t\t\tbtnCount++;\n\t\t\tthis.PARTS.INNER.appendChild(item);\n\t\t\tthis.PARTS.INNER.appendChild(BX.create('BR'));\n\t\t}\n\t}\n\tvar bHasButtons = btnCount > 0;\n\n\t//menu items will be attached here\n\n\tthis.PARTS.ICONS = this.PARTS.INNER.appendChild(BX.create('SPAN', {\n\t\tprops: {className: 'bx-context-toolbar-icons'}\n\t}));\n\n\tif (this.PARAMS.component_id)\n\t{\n\t\tthis.PARAMS.pin = !!this.PARAMS.pin;\n\n\t\tif (bHasButtons)\n\t\t\tthis.PARTS.ICONS.appendChild(BX.create('SPAN', {props: {className: 'bx-context-toolbar-separator'}}));\n\n\t\tthis.PARTS.ICON_PIN = this.PARTS.ICONS.appendChild(BX.create('A', {\n\t\t\tattrs: {\n\t\t\t\thref: 'javascript:void(0)'\n\t\t\t},\n\t\t\tprops: {\n\t\t\t\tclassName: this.PARAMS.pin\n\t\t\t\t\t\t\t? 'bx-context-toolbar-pin-fixed'\n\t\t\t\t\t\t\t: 'bx-context-toolbar-pin'\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tclick: BX.delegate(this.__pin_btn_clicked, this)\n\t\t\t}\n\t\t}));\n\t}\n\n\n\tif (this.EXTRA_BUTTONS['components2_props'])\n\t{\n\t\tthis.PARTS.ICONS.appendChild(BX.create('SPAN', {props: {className: 'bx-context-toolbar-separator'}}));\n\n\t\tvar btn = this.EXTRA_BUTTONS['components2_props'] || {URL: 'javascript:void(0)'};\n\t\tif (null == this.defaultAction)\n\t\t{\n\t\t\tthis.defaultAction = btn.ONCLICK;\n\t\t\tthis.defaultActionTitle = btn.TITLE || btn.TEXT;\n\t\t}\n\n\t\tbtn.URL = 'javascript:' + BX.util.urlencode(btn.ONCLICK);\n\n\t\tthis.ATTACH = this.PARTS.ICONS.appendChild(BX.create('SPAN', {\n\t\t\tprops: {className: 'bx-context-toolbar-button'},\n\t\t\tchildren:\n\t\t\t[\n\t\t\t\tBX.create('SPAN',\n\t\t\t\t{\n\t\t\t\t\tprops:{className: 'bx-context-toolbar-button-inner'},\n\t\t\t\t\tchildren:\n\t\t\t\t\t[\n\t\t\t\t\t\tBX.create('A', {\n\t\t\t\t\t\t\tattrs: {href: btn.URL},\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t'mouseover': function() {this.parentNode.parentNode.className+=' bx-context-toolbar-button-text-hover'},\n\t\t\t\t\t\t\t\t'mouseout': function() {this.parentNode.parentNode.className='bx-context-toolbar-button'}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thtml: '<span class=\"bx-context-toolbar-button-icon bx-context-toolbar-settings-icon\"></span>'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tBX.create('A', {\n\t\t\t\t\t\t\tattrs: {href: 'javascript: void(0)'},\n\t\t\t\t\t\t\tprops: {className: 'bx-context-toolbar-button-arrow'},\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t'mouseover': function() {this.parentNode.parentNode.className += ' bx-context-toolbar-button-arrow-hover'},\n\t\t\t\t\t\t\t\t'mouseout': function() {this.parentNode.parentNode.className='bx-context-toolbar-button'}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thtml: '<span class=\"bx-context-toolbar-button-arrow\"></span>'\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t]\n\t\t}));\n\n\t\tthis.OPENER = this.ATTACH.firstChild.lastChild;\n\t\tthis.attachMenu(this.EXTRA_BUTTONS['components2_submenu']['MENU']);\n\t}\n\n\tif (btnCount > 1)\n\t{\n\t\tthis.PARTS.ICONS.appendChild(BX.create('span', { props: {className: 'bx-context-toolbar-switcher-separator'}}));\n\n\t\tthis.ICON_TRANSFORM = this.PARTS.ICONS.appendChild(BX.create('A', {\n\t\t\tattrs: {href: 'javascript: void(0)'},\n\t\t\tprops: {className: 'bx-context-toolbar-switcher'},\n\t\t\tevents: {\n\t\t\t\tclick: BX.delegate(this.__trf_btn_clicked, this)\n\t\t\t}\n\t\t}));\n\t}\n\n\tif (this.PARAMS.HINT)\n\t{\n\t\tthis.DIV.BXHINT = this.HINT = new BX.CHint({\n\t\t\tparent: this.DIV,\n\t\t\thint:this.PARAMS.HINT.TEXT || '',\n\t\t\ttitle: this.PARAMS.HINT.TITLE || '',\n\t\t\thide_timeout: this.timeout/2,\n\t\t\tpreventHide: false\n\t\t});\n\t}\n\n\tBX.addCustomEvent(this, 'onWindowDragFinished', BX.delegate(this.__onMoveFinished, this));\n\tBX.addCustomEvent('onDynamicModeChange', BX.delegate(this.__onDynamicModeChange, this));\n\tBX.addCustomEvent('onTopPanelCollapse', BX.delegate(this.__onPanelCollapse, this));\n\n\tBX.addCustomEvent('onMenuOpenerMoved', BX.delegate(this.checkPosition, this));\n\tBX.addCustomEvent('onMenuOpenerUnhide', BX.delegate(this.checkPosition, this));\n\n\tif (this.OPENERS)\n\t{\n\t\tfor (var i=0,len=this.OPENERS.length; i<len; i++)\n\t\t{\n\t\t\tBX.addCustomEvent(this.OPENERS[i], 'onOpenerMenuOpen', BX.proxy(this.__hide_hint, this));\n\t\t}\n\t}\n}\nBX.extend(BX.CMenuOpener, BX.CWindowFloat);\n\nBX.CMenuOpener.prototype.unclosable = true;\n\nBX.CMenuOpener.prototype.__check_intersection = function(pos_self, pos_other)\n{\n\treturn !(pos_other.right <= pos_self.left || pos_other.left >= pos_self.right\n\t\t\t|| pos_other.bottom <= pos_self.top || pos_other.top >= pos_self.bottom);\n}\n\nBX.CMenuOpener.prototype.checkPosition = function()\n{\n\tif (this.isMenuVisible() || this.DIV.style.display == 'none'\n\t\t|| this == BX.proxy_context || BX.proxy_context.zIndex > this.zIndex)\n\t\treturn;\n\n\tthis.correctPosition(BX.proxy_context);\n}\n\nBX.CMenuOpener.prototype.correctPosition = function(opener)\n{\n\tvar pos_self = BX.pos(this.DIV), pos_other = BX.pos(opener.Get());\n\tif (this.__check_intersection(pos_self, pos_other))\n\t{\n\t\tvar new_top = pos_other.top - pos_self.height;\n\t\tif (new_top < 0)\n\t\t\tnew_top = pos_other.bottom;\n\n\t\tthis.DIV.style.top = new_top + 'px';\n\n\t\tBX.addCustomEvent(opener, 'onMenuOpenerHide', BX.proxy(this.restorePosition, this));\n\t\tBX.onCustomEvent(this, 'onMenuOpenerMoved');\n\t}\n}\n\nBX.CMenuOpener.prototype.restorePosition = function()\n{\n\tif (!this.MOUSEOVER && !this.isMenuVisible())\n\t{\n\t\tif (this.originalPos)\n\t\t\tthis.DIV.style.top = this.originalPos.top + 'px';\n\n\t\tBX.removeCustomEvent(BX.proxy_context, 'onMenuOpenerHide', BX.proxy(this.restorePosition, this));\n\t\tif (this.restore_pos_timeout) clearTimeout(this.restore_pos_timeout);\n\t}\n\telse\n\t{\n\t\tthis.restore_pos_timeout = setTimeout(BX.proxy(this.restorePosition, this), this.timeout);\n\t}\n}\n\n\nBX.CMenuOpener.prototype.Show = function()\n{\n\tBX.CMenuOpener.superclass.Show.apply(this, arguments);\n\n\tthis.SetDraggable(this.PARTS.INNER.firstChild);\n\n\tthis.DIV.style.width = 'auto';\n\tthis.DIV.style.height = 'auto';\n\n\tif (!this.PARAMS.pin)\n\t{\n\t\tthis.DIV.style.left = '-1000px';\n\t\tthis.DIV.style.top = '-1000px';\n\n\t\tthis.Hide();\n\t}\n\telse\n\t{\n\t\tthis.bPosAdjusted = true;\n\t\tthis.bMoved = true;\n\n\t\tif (this.PARAMS.top) this.DIV.style.top = this.PARAMS.top + 'px';\n\t\tif (this.PARAMS.left) this.DIV.style.left = this.PARAMS.left + 'px';\n\n\t\tthis.DIV.style.display = (!BX.admin.dynamic_mode || BX.admin.dynamic_mode_show_borders) ? 'block' : 'none';\n\n\t\tif (this.DIV.style.display == 'block')\n\t\t{\n\t\t\tsetTimeout(BX.delegate(function() {BX.onCustomEvent(this, 'onMenuOpenerUnhide')}, this), 50);\n\t\t}\n\t}\n}\n\nBX.CMenuOpener.prototype.executeDefaultAction = function()\n{\n\tif (this.defaultAction)\n\t{\n\t\tif (BX.type.isFunction(this.defaultAction))\n\t\t\tthis.defaultAction();\n\t\telse if(BX.type.isString(this.defaultAction))\n\t\t\tBX.evalGlobal(this.defaultAction);\n\t}\n}\n\nBX.CMenuOpener.prototype.__onDynamicModeChange = function(val)\n{\n\tthis.DIV.style.display = val ? 'block' : 'none';\n}\n\nBX.CMenuOpener.prototype.__onPanelCollapse = function(bCollapsed, dy)\n{\n\tthis.DIV.style.top = (parseInt(this.DIV.style.top) + dy) + 'px';\n\tif (this.PARAMS.pin)\n\t{\n\t\tthis.__savePosition();\n\t}\n}\n\nBX.CMenuOpener.prototype.__onMoveFinished = function()\n{\n\tBX.onCustomEvent(this, 'onMenuOpenerMoved');\n\n\tthis.bMoved = true;\n\n\tif (this.PARAMS.pin)\n\t\tthis.__savePosition();\n}\n\nBX.CMenuOpener.prototype.__savePosition = function()\n{\n\tvar arOpts = {};\n\n\tarOpts.pin = this.PARAMS.pin\n\tif (!this.PARAMS.pin)\n\t{\n\t\tarOpts.top = false; arOpts.left = false; arOpts.transform = false;\n\t}\n\telse\n\t{\n\t\tarOpts.transform = this.PARAMS.transform;\n\t\tif (this.bMoved)\n\t\t{\n\t\t\tarOpts.left = parseInt(this.DIV.style.left);\n\t\t\tarOpts.top = parseInt(this.DIV.style.top);\n\t\t}\n\t}\n\n\tBX.WindowManager.saveWindowOptions(this.PARAMS.component_id, arOpts);\n}\n\nBX.CMenuOpener.prototype.__pin_btn_clicked = function() {this.Pin()}\nBX.CMenuOpener.prototype.Pin = function(val)\n{\n\tif (null == val)\n\t\tthis.PARAMS.pin = !this.PARAMS.pin;\n\telse\n\t\tthis.PARAMS.pin = !!val;\n\n\tthis.PARTS.ICON_PIN.className = (this.PARAMS.pin ? 'bx-context-toolbar-pin-fixed' : 'bx-context-toolbar-pin');\n\n\tthis.__savePosition();\n}\n\nBX.CMenuOpener.prototype.__trf_btn_clicked = function() {this.Transform()}\nBX.CMenuOpener.prototype.Transform = function(val)\n{\n\tif (null == val)\n\t\tthis.PARAMS.transform = !this.PARAMS.transform\n\telse\n\t\tthis.PARAMS.transform = !!val\n\n\tif (this.bMoved)\n\t{\n\t\tvar pos = BX.pos(this.DIV);\n\t}\n\n\tif (this.PARAMS.transform)\n\t\tBX.addClass(this.DIV.firstChild, 'bx-context-toolbar-vertical-mode');\n\telse\n\t\tBX.removeClass(this.DIV.firstChild, 'bx-context-toolbar-vertical-mode');\n\n\tif (!this.bMoved)\n\t{\n\t\tthis.adjustPos();\n\t}\n\telse\n\t{\n\t\tthis.DIV.style.left = (pos.right - this.DIV.offsetWidth - (BX.browser.IsIE() && !BX.browser.IsDoctype() ? 2 : 0)) + 'px';\n\t}\n\n\tthis.__savePosition();\n}\n\nBX.CMenuOpener.prototype.adjustToNodeGetPos = function()\n{\n\tvar pos = BX.pos(this.PARAMS.parent/*, true*/);\n\n\tvar scrollSize = BX.GetWindowScrollSize();\n\tvar floatWidth = this.DIV.offsetWidth;\n\n\tpos.left -= BX.admin.__border_dx;\n\tpos.top -= BX.admin.__border_dx;\n\n\tif (true || !this.PARAMS.transform)\n\t{\n\t\tpos.top -= 26;\n\t}\n\n\tif (pos.left > scrollSize.scrollWidth - floatWidth)\n\t{\n\t\tpos.left = scrollSize.scrollWidth - floatWidth;\n\t}\n\n\treturn pos;\n}\n\nBX.CMenuOpener.prototype.addItem = function(item)\n{\n\tvar s = '';\n\tif (item.TYPE)\n\t{\n\t\tthis.EXTRA_BUTTONS[item.TYPE] = item;\n\t\treturn null;\n\t}\n\telse\n\t{\n\t\tvar q = new BX.CMenuOpenerItem(item);\n\t\tif (null == this.defaultAction)\n\t\t{\n\t\t\tif (q.item.ONCLICK)\n\t\t\t{\n\t\t\t\tthis.defaultAction = item.ONCLICK;\n\t\t\t}\n\t\t\telse if (q.item.MENU)\n\t\t\t{\n\t\t\t\tthis.defaultAction = BX.delegate(function() {this.Open()}, q.item.OPENER);\n\t\t\t}\n\n\t\t\tthis.defaultActionTitle = item.TITLE || item.TEXT;\n\n\t\t\tBX.addClass(q.Get(), 'bx-content-toolbar-default');\n\t\t}\n\t\tif (q.item.OPENER) this.OPENERS[this.OPENERS.length] = q.item.OPENER\n\t\treturn q.Get();\n\t}\n}\n\nBX.CMenuOpener.prototype.attachMenu = function(menu)\n{\n\tvar opener = new BX.COpener({\n\t\t'DIV':  this.OPENER,\n\t\t'ATTACH': this.ATTACH,\n\t\t'MENU': menu,\n\t\t'TYPE': 'click'\n\t});\n\n\tthis.OPENERS[this.OPENERS.length] = opener;\n}\n\nBX.CMenuOpener.prototype.__hide_hint = function()\n{\n\tif (this.HINT) this.HINT.__hide_immediately();\n}\n\nBX.CMenuOpener.prototype.isMenuVisible = function()\n{\n\tfor (var i=0,len=this.OPENERS.length; i<len; i++)\n\t{\n\t\tif (this.OPENERS[i].isMenuVisible())\n\t\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nBX.CMenuOpener.prototype.Hide = function()\n{\n\tif (!this.PARAMS.pin)\n\t{\n\t\tthis.DIV.style.display = 'none';\n\t\tBX.onCustomEvent(this, 'onMenuOpenerHide');\n\t}\n}\nBX.CMenuOpener.prototype.UnHide = function()\n{\n\tthis.DIV.style.display = 'block';\n\tif (!this.bPosAdjusted && !this.PARAMS.pin)\n\t{\n\t\tthis.adjustPos();\n\t\tthis.bPosAdjusted = true;\n\t}\n\n\tif (null == this.originalPos && !this.bMoved)\n\t{\n\t\tthis.originalPos = BX.pos(this.DIV);\n\t}\n\n\tBX.onCustomEvent(this, 'onMenuOpenerUnhide');\n}\n\nBX.CMenuOpenerItem = function(item)\n{\n\tthis.item = item;\n\n\tif (this.item.ACTION && !this.item.ONCLICK)\n\t{\n\t\tthis.item.ONCLICK = this.item.ACTION;\n\t}\n\n\tthis.DIV = BX.create('SPAN');\n\tthis.DIV.appendChild(BX.create('SPAN', {props: {className: 'bx-context-toolbar-button-underlay'}}));\n\n\tthis.WRAPPER = this.DIV.appendChild(BX.create('SPAN', {\n\t\tprops: {className: 'bx-context-toolbar-button-wrapper'},\n\t\tchildren: [\n\t\t\tBX.create('SPAN', {\n\t\t\t\tprops: {className: 'bx-context-toolbar-button', title: item.TITLE},\n\t\t\t\tchildren: [\n\t\t\t\t\tBX.create('SPAN', {\n\t\t\t\t\t\tprops: {className: 'bx-context-toolbar-button-inner'}\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t})\n\t\t]\n\t}));\n\n\tvar btn_icon = BX.create('SPAN', {\n\t\tprops: {className: 'bx-context-toolbar-button-icon' + (this.item.ICON || this.item.ICONCLASS ? ' ' + (this.item.ICON || this.item.ICONCLASS) : '')},\n\t\tattrs: (\n\t\t\t\t!(this.item.ICON || this.item.ICONCLASS)\n\t\t\t\t&&\n\t\t\t\t(this.item.SRC || this.item.IMAGE)\n\t\t\t)\n\t\t\t? {\n\t\t\t\tstyle: 'background: scroll transparent url(' + (this.item.SRC || this.item.IMAGE) + ') no-repeat center center !important;'\n\t\t\t}\n\t\t\t: {}\n\t}), btn_text = BX.create('SPAN', {\n\t\tprops: {className: 'bx-context-toolbar-button-text'},\n\t\ttext: this.item.TEXT\n\t});\n\n\tif (this.item.ACTION && !this.item.ONCLICK)\n\t{\n\t\tthis.item.ONCLICK = this.item.ACTION;\n\t}\n\n\tthis.bHasMenu = !!this.item.MENU;\n\tthis.bHasAction = !!this.item.ONCLICK;\n\n\tif (this.bHasAction)\n\t{\n\t\tthis.LINK = this.WRAPPER.firstChild.firstChild.appendChild(BX.create('A', {\n\t\t\tattrs: {\n\t\t\t\t'href': 'javascript: void(0)'\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tmouseover: this.bHasMenu ? this.__msover_text : this.__msover,\n\t\t\t\tmouseout: this.bHasMenu ? this.__msout_text : this.__msout\n\t\t\t},\n\t\t\tchildren: [btn_icon, btn_text]\n\t\t}));\n\n\t\tif (this.bHasMenu)\n\t\t{\n\t\t\tthis.LINK_MENU = this.WRAPPER.firstChild.firstChild.appendChild(BX.create('A', {\n\t\t\t\tprops: {className: 'bx-context-toolbar-button-arrow'},\n\t\t\t\tattrs: {\n\t\t\t\t\t'href': 'javascript: void(0)'\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tmouseover: this.__msover_arrow,\n\t\t\t\t\tmouseout: this.__msout_arrow\n\t\t\t\t},\n\t\t\t\tchildren: [\n\t\t\t\t\tBX.create('SPAN', {props: {className: 'bx-context-toolbar-button-arrow'}})\n\t\t\t\t]\n\t\t\t}));\n\t\t}\n\n\t}\n\telse if (this.bHasMenu)\n\t{\n\t\tthis.item.ONCLICK = null;\n\n\t\tthis.LINK = this.LINK_MENU = this.WRAPPER.firstChild.firstChild.appendChild(BX.create('A', {\n\t\t\tattrs: {\n\t\t\t\t'href': 'javascript: void(0)'\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tmouseover: this.__msover,\n\t\t\t\tmouseout: this.__msout\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\tbtn_icon,\n\t\t\t\tbtn_text\n\t\t\t]\n\t\t}));\n\n\t\tthis.LINK.appendChild(BX.create('SPAN', {props: {className: 'bx-context-toolbar-single-button-arrow'}}));\n\n\t}\n\n\tif (this.bHasMenu)\n\t{\n\t\tthis.item.SUBMENU = new BX.CMenu({\n\t\t\tATTACH_MODE:'bottom',\n\t\t\tITEMS:this.item['MENU'],\n\t\t\t//PARENT_MENU:this.parentMenu,\n\t\t\tparent: this.LINK_MENU,\n\t\t\tparent_attach: this.WRAPPER.firstChild\n\t\t});\n\n\t\tthis.item.OPENER = new BX.COpener({\n\t\t\tDIV: this.LINK_MENU,\n\t\t\tTYPE: 'click',\n\t\t\tMENU: this.item.SUBMENU\n\t\t});\n\t}\n\n\tif (this.bHasAction)\n\t{\n\t\tBX.bind(this.LINK, 'click', BX.delegate(this.__click, this));\n\t}\n}\n\nBX.CMenuOpenerItem.prototype.Get = function() {return this.DIV;}\nBX.CMenuOpenerItem.prototype.__msover = function() {\n\tBX.addClass(this.parentNode.parentNode, 'bx-context-toolbar-button-hover');\n}\nBX.CMenuOpenerItem.prototype.__msout = function() {\n\tBX.removeClass(this.parentNode.parentNode, 'bx-context-toolbar-button-hover');\n}\nBX.CMenuOpenerItem.prototype.__msover_text = function() {\n\tBX.addClass(this.parentNode.parentNode, 'bx-context-toolbar-button-text-hover');\n}\nBX.CMenuOpenerItem.prototype.__msout_text = function() {\n\tBX.removeClass(this.parentNode.parentNode, 'bx-context-toolbar-button-text-hover');\n}\nBX.CMenuOpenerItem.prototype.__msover_arrow = function() {\n\tBX.addClass(this.parentNode.parentNode, 'bx-context-toolbar-button-arrow-hover');\n}\nBX.CMenuOpenerItem.prototype.__msout_arrow = function() {\n\tBX.removeClass(this.parentNode.parentNode, 'bx-context-toolbar-button-arrow-hover');\n}\n\nBX.CMenuOpenerItem.prototype.__click = function() {BX.evalGlobal(this.item.ONCLICK)}\n\n/* global page opener class */\nBX.CPageOpener = function(arParams)\n{\n\t//if (null == arParams.pin) arParams.pin = true;\n\tBX.CPageOpener.superclass.constructor.apply(this, arguments);\n\n\tthis.timeout = 505;\n\n\twindow.PAGE_EDIT_CONTROL = this;\n}\nBX.extend(BX.CPageOpener, BX.CMenuOpener);\n\nBX.CPageOpener.prototype.checkPosition = function()\n{\n\tif (/*this.isMenuVisible() || this.DIV.style.display == 'none' || */this == BX.proxy_context)\n\t\treturn;\n\n\tthis.correctPosition(BX.proxy_context);\n}\n\nBX.CPageOpener.prototype.correctPosition = function(opener)\n{\n\tif (this.bPosCorrected) return;\n\tif (this.DIV.style.display == 'none')\n\t{\n\t\tvar pos_self = this.adjustToNodeGetPos();\n\t\tpos_self.bottom = pos_self.top + 30;\n\t\tpos_self.right = pos_self.left + 300;\n\t}\n\telse\n\t{\n\t\tvar pos_self = BX.pos(this.DIV);\n\t}\n\n\tvar pos_other = BX.pos(opener.Get());\n\tif (this.__check_intersection(pos_self, pos_other))\n\t{\n\t\tthis.DIV.style.display = 'none';\n\t\tBX.addCustomEvent(opener, 'onMenuOpenerHide', BX.proxy(this.restorePosition, this));\n\n\t\tthis.bPosCorrected = true;\n\t}\n}\n\nBX.CPageOpener.prototype.restorePosition = function()\n{\n\tif (BX.proxy_context && BX.proxy_context.Get().style.display == 'none')\n\t{\n\t\tthis.bPosCorrected = false;\n\n\t\tif (this.PARAMS.parent.bx_over || this.PARAMS.pin)\n\t\t\tthis.UnHide();\n\n\t\tBX.removeCustomEvent('onMenuOpenerHide', BX.proxy(this.restorePosition, this));\n\t}\n}\n\nBX.CPageOpener.prototype.UnHide = function()\n{\n\tif (!this.bPosCorrected)\n\t\tBX.CPageOpener.superclass.UnHide.apply(this, arguments);\n}\n\nBX.CPageOpener.prototype.Remove = function()\n{\n\tBX.admin.removeComponentBorder(this.PARAMS.parent);\n\tBX.userOptions.save('global', 'settings', 'page_edit_control_enable', 'N');\n\tthis.DIV.style.display = 'none';\n}\n\n/* common menu class */\nBX.CMenu = function(arParams)\n{\n\tBX.CMenu.superclass.constructor.apply(this);\n\n\tthis.DIV.style.width = 'auto';//this.DIV.firstChild.offsetWidth + 'px';\n\tthis.DIV.style.height = 'auto';//this.DIV.firstChild.offsetHeight + 'px';\n\n\tthis.PARAMS = arParams || {};\n\tthis.PARTS = {};\n\n\tthis.PARAMS.ATTACH_MODE = this.PARAMS.ATTACH_MODE || 'bottom';\n\n\tthis.DIV.className = 'bx-popup-menu';\n\n\tthis.PARTS.LAYOUT_TABLE = this.DIV.appendChild(BX.create('TABLE', {\n\t\tprops: {className: 'bx-popup-menu-wrapper'},\n\t\tattrs: {cellPadding: \"0\", cellSpacing: \"0\", border: \"0\"},\n\t\tchildren: [BX.create('TBODY')]\n\t}));\n\tthis.PARTS.TABLE = BX.adjust(\n\t\tthis.PARTS.LAYOUT_TABLE.tBodies[0].insertRow(-1).insertCell(-1),\n\t\t{props: {className: 'bx-popup-menu'}}\n\t).appendChild(BX.create('TABLE', {\n\t\tprops: {className: 'bx-popup-menu-layout'},\n\t\tattrs: {cellPadding: \"0\", cellSpacing: \"0\", border: \"0\"},\n\t\tchildren: [BX.create('TBODY')]\n\t}));\n\n\tif (this.PARAMS.ITEMS)\n\t{\n\t\tthis.PARAMS.ITEMS = BX.util.array_values(this.PARAMS.ITEMS);\n\t\tfor (var i = 0, len = this.PARAMS.ITEMS.length; i < len; i++)\n\t\t{\n\t\t\tif ((i == 0 || i == len-1) && this.PARAMS.ITEMS[i].SEPARATOR)\n\t\t\t\tcontinue;\n\n\t\t\tthis.addItem(this.PARAMS.ITEMS[i], i);\n\t\t}\n\t}\n\n\tBX.addCustomEvent(this, 'onMenuItemClick', BX.delegate(this.Hide, this));\n\n\tif (this.PARAMS.PARENT_MENU)\n\t\tBX.addCustomEvent(this, 'onMenuItemClick', BX.delegate(this.__call_parent, this));\n\n\t//BX.bind(this.DIV, 'mousedown', function(e) {BX.PreventDefault(e);});\n}\nBX.extend(BX.CMenu, BX.CWindowFloat);\n\nBX.CMenu.prototype.Show = function()\n{\n\tif (this.visible()) return;\n\tif (this.PARAMS.PARENT_MENU && !this.PARAMS.PARENT_MENU.visible()) return;\n\n\tBX.CMenu.superclass.Show.apply(this, []);\n\n\tBX.bind(document, 'click', BX.proxy(this.Hide, this));\n\tthis.DIV.onclick = BX.PreventDefault;\n\t//this.PARAMS.parent.onclick = BX.PreventDefault;\n\n\tBX.onCustomEvent(this, 'onMenuOpen');\n\tBX.addClass(this.PARAMS.parent_attach, 'bx-pressed');\n\n\tthis.adjustPos();\n}\n\nBX.CMenu.prototype.ShowMenu = function(parent, items)\n{\n\tthis.PARAMS.parent = parent;\n\tthis.PARAMS.parent_attach = null;\n\tif (items)\n\t\tthis.SetItems(items);\n\n\tsetTimeout(BX.delegate(this.Show, this), 50);\n}\n\nBX.CMenu.prototype.SetItems = function(items)\n{\n\tif (null != this.PARAMS.ITEMS)\n\t{\n\t\tfor (var i = 0; i < this.PARAMS.ITEMS.length; i++)\n\t\t{\n\t\t\tif (BX.is_subclass_of(this.PARAMS.ITEMS[i], BX.CMenuItem))\n\t\t\t\tthis.PARAMS.ITEMS[i].Destroy();\n\n\t\t\tthis.PARAMS.ITEMS[i] = null;\n\t\t}\n\t\tthis.PARAMS.ITEMS = null;\n\t}\n\n\tthis.PARAMS.ITEMS = BX.util.array_values(items);\n\tfor (var i = 0, len = this.PARAMS.ITEMS.length; i < len; i++)\n\t{\n\t\tif ((i == 0 || i == len-1) && this.PARAMS.ITEMS[i].SEPARATOR)\n\t\t\tcontinue;\n\n\t\tthis.addItem(this.PARAMS.ITEMS[i], i);\n\t}\n}\n\nBX.CMenu.prototype.__call_parent = function()\n{\n\tBX.onCustomEvent(this.PARAMS.PARENT_MENU, 'onMenuItemClick', arguments);\n}\n\nBX.CMenu.prototype.Close = // we shouldn't 'Close' window - only hide\nBX.CMenu.prototype.Hide = function()\n{\n\tif (!this.visible()) return;\n\n\tBX.CMenu.superclass.Hide.apply(this, arguments);\n\n\tBX.unbind(document, 'click', BX.proxy(this.Close, this));\n\n\tBX.onCustomEvent(this, 'onMenuClose');\n\tBX.removeClass(this.PARAMS.parent_attach, 'bx-pressed');\n\n\tthis.DIV.onclick = null;\n\t//this.PARAMS.parent.onclick = null;\n}\n\nBX.CMenu.prototype.onUnRegister = function(clean)\n{\n\t//if (!this.PARAMS.SUBMENU)\n\t//\tBX.unbind(document, 'mousedown', BX.proxy(this.Hide, this));\n\n\tBX.CMenu.superclass.onUnRegister.apply(this, arguments);\n\n\tif (clean)\n\t{\n\t\t// TODO: kill menu items\n\t}\n}\n\nBX.CMenu.prototype.addItem = function(item, index)\n{\n\tif (null == index)\n\t\tindex = this.PARAMS.ITEMS.length;\n\n\tvar ob = new BX.CMenuItem(item, this)\n\n\t//if (!ob.hasSubmenu())\n\t//\tBX.bind(ob.Get(), 'click', BX.proxy(this.Hide, this))\n\n\tif (ob.Get())\n\t{\n\t\tthis.PARTS.TABLE.tBodies[0].insertRow(-1).insertCell(-1).appendChild(ob.Get());\n\t}\n\n\tthis.PARAMS.ITEMS[index] = ob;\n}\n\nBX.CMenu.prototype.__adjustMenuToNode = function()\n{\n\tvar pos = BX.pos(this.PARAMS.parent_attach);\n\n\tif (!pos.top)\n\t{\n\t\tthis.DIV.style.top = '-1000px';\n\t\tthis.DIV.style.left = '-1000px';\n\t}\n\n\tif (this.bTimeoutSet) return;\n\n\tvar floatWidth = this.DIV.offsetWidth, floatHeight = this.DIV.offsetHeight;\n\tif (!floatWidth)\n\t{\n\t\tsetTimeout(BX.delegate(function(){\n\t\t\tthis.bTimeoutSet = false; this.__adjustMenuToNode();\n\t\t}, this), 100);\n\n\t\tthis.bTimeoutSet = true;\n\t\treturn;\n\t}\n\n\tvar menu_pos = {};\n\tvar scrollSize = BX.GetWindowScrollSize();\n\n\tif (BX.browser.IsIE() && !BX.browser.IsDoctype())\n\t{\n\t\tpos.top -= 4; pos.bottom -= 4;\n\t\tpos.left -= 2; pos.right -= 2;\n\t}\n\n\tswitch (this.PARAMS.ATTACH_MODE)\n\t{\n\t\tcase 'bottom':\n\t\t\tmenu_pos.top = pos.bottom;\n\t\t\tmenu_pos.left = pos.left;\n\n\t\t\tif (menu_pos.left > scrollSize.scrollWidth - floatWidth)\n\t\t\t{\n\t\t\t\tmenu_pos.left = scrollSize.scrollWidth - floatWidth;\n\t\t\t}\n\t\tbreak;\n\t\tcase 'right':\n\t\t\tmenu_pos.top = pos.top;\n\t\t\tmenu_pos.left = pos.right;\n\n\t\t\tif (menu_pos.left > scrollSize.scrollWidth - floatWidth)\n\t\t\t{\n\t\t\t\tmenu_pos.left = pos.left - floatWidth - 1;\n\t\t\t}\n\t\tbreak;\n\t}\n\n\tif (menu_pos.top > scrollSize.scrollHeight - floatHeight)\n\t{\n\t\tmenu_pos.top = scrollSize.scrollHeight - floatHeight;\n\t}\n\n\tif (menu_pos.top + menu_pos.left == 0)\n\t\tthis.Hide();\n\telse\n\t{\n\t\tthis.DIV.style.top = menu_pos.top + 'px';\n\t\tthis.DIV.style.left = menu_pos.left + 'px';\n\t}\n}\n\nBX.CMenu.prototype.adjustToNode = function(el)\n{\n\tthis.PARAMS.parent_attach = BX(el) || this.PARAMS.parent_attach || this.PARAMS.parent;\n\tthis.__adjustMenuToNode();\n}\n\n/* menu item class */\nBX.CMenuItem = function(item, parentMenu)\n{\n\tthis.item = item\n\tthis.parentMenu = parentMenu;\n\n\tif (this.item.SEPARATOR)\n\t{\n\t\tthis.node = BX.create(\n\t\t\t'DIV', {props: {className: 'bx-popup-menu-separator'}}\n\t\t);\n\t}\n\telse\n\t{\n\t\tif (this.item.MENU && BX.type.isArray(this.item.MENU) && this.item.MENU.length <= 0)\n\t\t{\n\t\t\tthis.node = null;\n\t\t\treturn false;\n\t\t}\n\n\n\t\tif (this.item.MENU)\n\t\t{\n\t\t\tthis.item.ONCLICK = null;\n\t\t}\n\t\telse if (this.item.ACTION && !this.item.ONCLICK)\n\t\t{\n\t\t\tthis.item.ONCLICK = this.item.ACTION;\n\t\t}\n\n\t\tvar events = {\n\t\t\tmouseover: function () {BX.addClass(this, 'bx-popup-item-over')},\n\t\t\tmouseout: function () {BX.removeClass(this, 'bx-popup-item-over')}\n\t\t};\n\n\t\tthis.node = BX.create(\n\t\t\t'DIV', {\n\t\t\t\t'props': {className: 'bx-popup-item'},\n\t\t\t\t'events': events,\n\t\t\t\t'children': [BX.create('DIV', {style: {width: '100%'}})]\n\t\t\t}\n\t\t);\n\n\t\tif (this.item.ID)\n\t\t\tthis.node.id = this.item.ID;\n\n\t\tif (this.item.MENU)\n\t\t{\n\t\t\tthis.item.SUBMENU = new BX.CMenu({\n\t\t\t\tATTACH_MODE:'right',\n\t\t\t\tITEMS:this.item['MENU'],\n\t\t\t\tPARENT_MENU:this.parentMenu,\n\t\t\t\tparent: this.node\n\t\t\t});\n\n\t\t\tthis.item.OPENER = new BX.COpener({\n\t\t\t\tDIV: this.node,\n\t\t\t\tTYPE: 'hover',\n\t\t\t\tMENU: this.item.SUBMENU,\n\t\t\t\tTIMEOUT: 500,\n\t\t\t\tmirror_events: true\n\t\t\t});\n\n\t\t\tBX.addCustomEvent(this.parentMenu, 'onItemMouseOver', BX.delegate(this.__other_mouseover, this));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.bind(this.node, 'click', BX.delegate(this.__clicked, this));\n\t\t\tBX.bind(this.node, 'mouseup', BX.delegate(this.__action_done, this));\n\t\t}\n\n\t\tvar obRow = this.node.firstChild.appendChild(BX.create('TABLE', {\n\t\t\tprops: {className: 'bx-popup-item'},\n\t\t\tattrs: {cellPadding: \"0\", cellSpacing: \"0\", border: \"0\", dir: \"ltr\"}, // !!!!!!!!!!!!!!!!!\n\t\t\tstyle: {width: '100%'},\n\t\t\tchildren: [BX.create('TBODY')]\n\t\t})).tBodies[0].insertRow(-1);\n\n\t\tBX.adjust(obRow.insertCell(-1), {\n\t\t\tprops: {className: 'gutter'},\n\t\t\tchildren: [\n\t\t\t\tBX.create('DIV', {\n\t\t\t\t\tprops: {className: (this.item.ICON || this.item.ICONCLASS) ? 'icon ' + (this.item.ICON || this.item.ICONCLASS) : 'icon'},\n\t\t\t\t\tstyle: (this.item.SRC || this.item.IMAGE) ? {\n\t\t\t\t\t\t'backgroundImage': 'url(' + (this.item.SRC || this.item.IMAGE) + ')'\n\t\t\t\t\t} : {}\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\n\t\tBX.adjust(obRow.insertCell(-1), {\n\t\t\tprops: {\n\t\t\t\tclassName: 'item' + (this.item.DEFAULT ? ' default' : ''),\n\t\t\t\ttitle: this.item.TITLE || ''\n\t\t\t},\n\t\t\tstyle: {whiteSpace: 'nowrap'},\n\t\t\thtml: this.item.TEXT\n\t\t});\n\n\t\tif (this.item.MENU)\n\t\t{\n\t\t\tobRow.insertCell(-1).className = 'arrow';\n\t\t}\n\n\t\tBX.bind(this.node, 'mouseover', BX.delegate(this.__mouseover, this));\n\t}\n}\n\nBX.CMenuItem.prototype.__mouseover = function()\n{\n\tBX.onCustomEvent(this.parentMenu, 'onItemMouseOver', [this]);\n}\n\nBX.CMenuItem.prototype.__other_mouseover = function(item)\n{\n\tif (item !== this)\n\t{\n\t\tthis.item.OPENER.Close();\n\t}\n}\n\nBX.CMenuItem.prototype.Get = function() {return this.node;}\nBX.CMenuItem.prototype.GetItem = function() {return this.item;}\nBX.CMenuItem.prototype.hasSubmenu = function() {return !!this.item.SUBMENU;}\nBX.CMenuItem.prototype.Destroy = function() {\n\tthis.node.parentNode.removeChild(this.node);\n\tthis.node = null;\n}\n\nBX.CMenuItem.prototype.__clicked = function()\n{\n\tif (this.item.ONCLICK)\n\t{\n\t\tsetTimeout(this.item.ONCLICK, 10);\n\t}\n}\n\nBX.CMenuItem.prototype.__action_done = function ()\n{\n\tif (this.parentMenu && !this.hasSubmenu())\n\t{\n\t\tsetTimeout(BX.delegate(this.__call_parent, this), 10);\n\t}\n}\n\nBX.CMenuItem.prototype.__call_parent = function()\n{\n\tBX.onCustomEvent(this.parentMenu, 'onMenuItemClick', [this]);\n}\n\n/******* HINT ***************/\nBX.CHintSimple = function()\n{\n\tBX.CHintSimple.superclass.constructor.apply(this, arguments);\n}\nBX.extend(BX.CHintSimple, BX.CHint);\n\nBX.CHintSimple.prototype.Init = function()\n{\n\tthis.DIV = document.body.appendChild(BX.create('DIV', {props: {className: 'bx-tooltip-simple'}, style: {display: 'none'}, children: [(this.CONTENT = BX.create('DIV'))]}));\n\n\tif (this.HINT_TITLE)\n\t\tthis.CONTENT.appendChild(BX.create('B', {text: this.HINT_TITLE}));\n\n\tif (this.HINT)\n\t\tthis.CONTENT_TEXT = this.CONTENT.appendChild(BX.create('DIV')).appendChild(BX.create('SPAN', {html: this.HINT}));\n\n\tif (this.PARAMS.preventHide)\n\t{\n\t\tBX.bind(this.DIV, 'mouseout', BX.proxy(this.Hide, this));\n\t\tBX.bind(this.DIV, 'mouseover', BX.proxy(this.Show, this));\n\t}\n\n\tthis.bInited = true;\n}\n\n})(window)\n"
          },
          "redirectURL": "",
          "headersSize": 337,
          "bodySize": 78654
        },
        "cache": {},
        "timings": {
          "blocked": 10,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 8,
          "receive": 21
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 20,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/templates/corp_services_blue/colors.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 370,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Length",
              "value": "3331"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:22:00 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 3331,
            "text": "/* Text */\n\na:link {color:#006BC6;}\na:visited {color:#006BC6;}\na:hover {color:#F65529;}\na:active {color:#006BC6;}\n\nh1 { color:#F65529; }\nh2, h3, h4, h5, h6 { color:#414141; }\n\nhr, .hr { border-color: #E9E9E9;}\n\n/* Layout */\nbody { background-color: #F0E8BE; color: #000;}\ntd#slogan { color: #999999; }\n\n#search div.search-box { border-color: #DEDEDE; }\n#search div.search-box input {background:#f5e695; border-color:#f5e695;}\n#search-button {border-color: #E7E7E7 #D5D5D5 #D1D1D1 #E3E3E3; background: #DEDEDE;}\n#search-button input { \t color: #9B9B9B; }\n\n#top-menu a { border-color: #EDEDED; color: #000; }\n#top-menu a:hover { border-color: #f5e695; }\n#top-menu li.selected a { color: #7A7A7A; background: #f5e695; border-color: #f5e695; }\n#top-menu li.selected b { background: #f5e695;}\n#top-menu li.selected .r1 { border-color: #f5e695;}\n#top-menu li.selected .r0 { border-color: #f5e695;}\n\n#breadcrumb { background-color:#f5e695; color: #7A7A7A;\t }\n#breadcrumb a, #breadcrumb span { color: #7A7A7A; }\n#breadcrumb b { border-color: #f5e695;}\n\n/* Root items*/\nul.left-menu a { color: #414141; }\nul.left-menu a:hover {  color: #F65529;}\nul.left-menu .selected, ul.left-menu a.selected, ul.left-menu a.selected:hover { color: #F65529;}\n\n/* Subitems */\nul.left-menu ul a { color: #006BC6; }\nul.left-menu ul a:hover { color: #F65529; }\n\n/* Current item */\nul.left-menu .selected i.selected { background: #f5e695 url(images/left-menu-arrow.gif) no-repeat 5px 4px; color: #7A7A7A;}\nul.left-menu .current b { background: #f5e695; border-color:#f5e695; }\t\n\n#banner { background: #0D4BB1; }\n#banner-text { color: #FFF; background: url(images/overlay-right-corners.gif) no-repeat right top;}\n#banner-text a { color: #FFF;}\n#banner-overlay { background:  url(images/overlay.png) no-repeat; }\n\n#footer { background: #EDEDED; }\n#copyright { color: #5F5F5F; }\n\n/* Ask a question */\n#support-question { background: url(images/question.png) no-repeat; }\n#support-text { background: #f5e695; }\n#support-text a { color: #484848 !important; }\n#support b { border-color: #FCFCFC; background: #F2F2F2; }\n\n/* Telephone*/\n#telephone  { color: #4C4C4C; background: url(images/phone.gif) no-repeat left center; }\n#schedule { color: #7F7F7F; }\n\n/* Information Box*/\ndiv.information-box b { background: #EDEDED; }\ndiv.information-box .r1 { border-color:#F6F6F6;}\ndiv.information-box .r0 { border-color:#F5F5F5;}\ndiv.information-box-content { background: #EDEDED; color: #474747; }\n\n/* News List */\ndiv.news-date { color: #919191;}\n\n/* Paging */\nspan.nav-current-page { background-color:#e8e9ec; }\ndiv.navigation span.disabled, div.navigation span.arrow, div.navigation span.ctrl   { color:#7E7E7E;}\n\n/*Common Elements */\ndiv.content-form div.field-error div.form-input input, \ndiv.content-form div.field-error div.form-input textarea, \ndiv.content-form div.field-error div.form-input select\n{\n\tcolor: red;\n\tbackground:\t#fff8d3;\n}\n\n/* Search results*/\ndiv.search-item { border-color: #E9E9E9;}\ndiv.search-page input.search-query { background: #F8F7F7; border-color: #D9D9D9; }\n\n/*Error & OK messages*/\n.errortext, .starrequired { color: red;}  \n.errortext, .notetext { background:#FFFEEB; border-color: #FFD482;} \n\n#market-basket{background:#f5e695 }\n#top-menu li a{border-color:#f5e695 }\n#top-menu li a:hover{border-color:#f5e695 }\n#wrap{white-space:nowrap}"
          },
          "redirectURL": "",
          "headersSize": 320,
          "bodySize": 3331
        },
        "cache": {},
        "timings": {
          "blocked": 12,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 7,
          "receive": 1
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 21,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/include/logo.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 355,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "7593"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:25:14 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": 7593
          },
          "redirectURL": "",
          "headersSize": 322,
          "bodySize": 7593
        },
        "cache": {},
        "timings": {
          "blocked": 14,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 2
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 33,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/upload/iblock/e72/e72bf6b55dbc73d11b8308c017814169.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 393,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "15070"
            },
            {
              "name": "Last-Modified",
              "value": "Thu, 26 Apr 2012 05:23:43 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": 15070
          },
          "redirectURL": "",
          "headersSize": 323,
          "bodySize": 15070
        },
        "cache": {},
        "timings": {
          "blocked": 18,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 10,
          "receive": 5
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 40,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/upload/iblock/2a0/2a0bc1f87901e1cc93f0238c87ce7681.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 393,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "26084"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 24 Apr 2012 17:39:16 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": 26084
          },
          "redirectURL": "",
          "headersSize": 323,
          "bodySize": 26084
        },
        "cache": {},
        "timings": {
          "blocked": 20,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 14,
          "receive": 6
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 38,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/upload/iblock/dca/dca04eb1c59c9fee7219056577e3ae78.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 393,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "25668"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 24 Apr 2012 17:35:15 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": 25668
          },
          "redirectURL": "",
          "headersSize": 323,
          "bodySize": 25668
        },
        "cache": {},
        "timings": {
          "blocked": 22,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 7,
          "receive": 9
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.439+04:00",
        "time": 39,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/upload/iblock/369/3696d1118786c11f4d69481e8adbe00f.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 393,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "26654"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 24 Apr 2012 17:27:00 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": 26654
          },
          "redirectURL": "",
          "headersSize": 323,
          "bodySize": 26654
        },
        "cache": {},
        "timings": {
          "blocked": 25,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 9
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.701+04:00",
        "time": 1,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/templates/corp_services_blue/images/left-menu-arrow.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/bitrix/templates/corp_services_blue/template_styles.css?1337757879"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 467,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/gif"
            },
            {
              "name": "Content-Length",
              "value": "48"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:22:00 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 48
          },
          "redirectURL": "",
          "headersSize": 319,
          "bodySize": 48
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 1,
          "receive": 0
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.701+04:00",
        "time": 1,
        "request": {
          "method": "GET",
          "url": "http://to-i-se.ru/bitrix/templates/corp_services_blue/images/phone.gif",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "PHPSESSID",
              "value": "1b664a0454267778214c4a63361ff220"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "to-i-se.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/bitrix/templates/corp_services_blue/colors.css"
            },
            {
              "name": "Cookie",
              "value": "PHPSESSID=1b664a0454267778214c4a63361ff220"
            }
          ],
          "queryString": [],
          "headersSize": 437,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/gif"
            },
            {
              "name": "Content-Length",
              "value": "1609"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 05 Apr 2011 20:22:00 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Mon, 23 Jul 2012 05:09:41 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=5184000, private"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 1609
          },
          "redirectURL": "",
          "headersSize": 321,
          "bodySize": 1609
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 0,
          "receive": 1
        },
        "serverIPAddress": "81.222.215.84",
        "connection": "80"
      },
      {
        "pageref": "page_55371",
        "startedDateTime": "2012-05-24T09:09:41.850+04:00",
        "time": 19,
        "request": {
          "method": "GET",
          "url": "http://counter.yadro.ru/hit?t14.6;r;s1024*768*16;uhttp%3A//to-i-se.ru/;0.9909772359828644",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "VID",
              "value": "1s0RFx3b6qW-"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "counter.yadro.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://to-i-se.ru/"
            },
            {
              "name": "Cookie",
              "value": "VID=1s0RFx3b6qW-"
            }
          ],
          "queryString": [
            {
              "name": "t14.6;r;s1024*768*16;uhttp://to-i-se.ru/;0.9909772359828644",
              "value": ""
            }
          ],
          "headersSize": 384,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 05:09:41 GMT"
            },
            {
              "name": "Server",
              "value": "0W/0.8c"
            },
            {
              "name": "Connection",
              "value": "Close"
            },
            {
              "name": "Content-Type",
              "value": "image/gif"
            },
            {
              "name": "Content-Length",
              "value": "210"
            },
            {
              "name": "Expires",
              "value": "Tue, 24 May 2011 20:00:00 GMT"
            },
            {
              "name": "Pragma",
              "value": "no-cache"
            },
            {
              "name": "Cache-Control",
              "value": "no-cache"
            }
          ],
          "content": {
            "mimeType": "image/gif",
            "size": 210
          },
          "redirectURL": "",
          "headersSize": 221,
          "bodySize": 210
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 9,
          "send": 0,
          "wait": 10,
          "receive": 0
        }
      }
    ]
  }
}