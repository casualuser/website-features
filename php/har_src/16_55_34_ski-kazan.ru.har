{
  "log": {
    "version": "1.1",
    "creator": {
      "name": "Firebug",
      "version": "1.9"
    },
    "browser": {
      "name": "Firefox",
      "version": "11.0"
    },
    "pages": [
      {
        "startedDateTime": "2012-05-24T16:55:34.456+04:00",
        "id": "page_2908",
        "title": "Горнолыжный спортивно-оздоровительный комплекс «Казань»",
        "pageTimings": {
          "onContentLoad": 1116,
          "onLoad": -1
        }
      }
    ],
    "entries": [
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:34.456+04:00",
        "time": 602,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "queryString": [],
          "headersSize": 290,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/html; charset=UTF-8"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Expires",
              "value": "Mon, 26 Jul 1997 05:00:00 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "no-cache, no-store, must-revalidate, post-check=0, pre-check=0"
            },
            {
              "name": "Pragma",
              "value": "no-cache"
            },
            {
              "name": "Status",
              "value": "200 OK"
            },
            {
              "name": "X-Wm-out",
              "value": "Cached"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Content-Length",
              "value": "5425"
            }
          ],
          "content": {
            "mimeType": "text/html",
            "size": 16129,
            "text": "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\r\n<html>\r\n<head>\r\n<title>Горнолыжный спортивно-оздоровительный комплекс «Казань»</title>\r\n<meta name=\"GENERATOR\" content=\"\n -= Amiro.CMS (c) =- \n www.amiro.ru \n\">\r\n<meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\">\r\n<meta name=\"robots\" content=\"index,follow\">\r\n<meta name=\"revisit-after\" content=\"5 days\">\r\n<meta name=\"keywords\" content=\"главная, акции, акции, аренде, двух, альпийских, домов, кафе, малого, оздоровительного, комплекса, предоставляется, бесплатно, казань, преимущественно, облачно, влажность, ветер\">\r\n<meta name=\"description\" content=\"Главная. Акции \t\tВсе акции \t\t     \t \t\t \t\t \t       \t       \t\t   \t\t\t \t\t\t\t\t\t\t\tПри аренде двух Альпийских домов - кафе малого оздоровительного комплекса предоставляется бесплатно.\t\t\t\t\t\t\t \t\t\t \t\t\t\t\t \t\t \t\t         \t \t      \t\t\t\t\t  \t \t\t \t\t\t \t\t\t22°C\">\r\n<base href=\"http://ski-kazan.ru/\">\r\n<link rel=\"shortcut icon\" href=\"http://ski-kazan.ru/favicon.ico\" type=\"image/x-icon\">\r\n<link rel=\"icon\" href=\"http://ski-kazan.ru/favicon.ico\" type=\"image/x-icon\">\r\n<script type=\"text/javascript\">\r\nvar frontBaseHref = 'http://ski-kazan.ru/';\r\nvar sessionCookieName='session_';\r\nvar AMI_SessionData = {'locale' : 'ru'};\r\nvar DATE_CONVERTION = new Array ('Сегодня', 'Вчера', '24.05.12', '23.05.12');\r\nvar active_module = 'pages';\r\nvar active_module_link = 'http://ski-kazan.ru/';\r\nvar use_background_cart = '1';\r\n</script>\r\n<script type=\"text/javascript\" src=\"http://ski-kazan.ru/system_js.php?script=system|filter|api|common&_cv=5.14.2.11\"></script>\r\n<link rel=\"stylesheet\" href=\"http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11\" type=\"text/css\">\r\n<link rel=\"stylesheet\" href=\"http://ski-kazan.ru/_mod_files/_css/plugins.css?_ts=1318231583&_cv=5.14.2.11\" type=\"text/css\">\r\n<link rel=\"stylesheet\" href=\"_mod_files/_css/modal.css\" type=\"text/css\" />\r\n  <link rel=\"stylesheet\" href=\"_mod_files/_css/style_weather.css\" type=\"text/css\" />\r\n  <script type=\"text/javascript\" src=\"_js/mootools.js\"></script>\r\n  <script type=\"text/javascript\" src=\"_js/modal.js\"></script>\r\n  <script type=\"text/javascript\" src=\"http://ski-kazan.ru/components/com_k2/js/k2.js\"></script>\r\n  <script type=\"text/javascript\" src=\"_js/caption.js\"></script>\r\n  <script type=\"text/javascript\">\r\n\r\n\t\twindow.addEvent('domready', function() {\r\n\r\n\t\t\tSqueezeBox.initialize({});\r\n\r\n\t\t\t$$('a.modal').each(function(el) {\r\n\t\t\t\tel.addEvent('click', function(e) {\r\n\t\t\t\t\tnew Event(e).stop();\r\n\t\t\t\t\tSqueezeBox.fromElement(el);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\nvar K2RatingURL = 'http://ski-kazan.ru/';\r\n  </script>\r\n\r\n\t\t<!--[IF IE 6]>\r\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"_mod_files/_css/ie6.css\" />\r\n\t\t<script type=\"text/javascript\" src=\"_js/ie6fix.js\"></script>\r\n\t\t<script type=\"text/javascript\">\r\n\t\t\tDD_belatedPNG.fix('img, #contacts, #map, #introtext, #qa, .buble_text, .buble_area, .buble_small, ul, li, a');\r\n\t\t</script>\r\n\t\t\t\r\n\t\t\t<script>\r\n\t\t\t\twindow.attachEvent('onload', mmwidth);\r\n\t\t\t\twindow.attachEvent('onresize', mmwidth);\r\n\t\t\t\tfunction mmwidth(){\r\n\t\t\t\tdocument.getElementById('wrapper').style.width = ((document.documentElement.clientWidth || document.body.clientWidth) < 995) ? '1100px' : ((document.body.clientWidth > 1280) ? '1400px' : '100%');\r\n\t\t\t\t};\r\n\t\t\t</script>\r\n\t\t<![ENDIF]-->\r\n\t\t<!--[IF IE 7]>\r\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"_mod_files/_css/ie7css.css\" />\r\n\t\t<![ENDIF]-->\r\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"_mod_files/_css/dropdown.css\" />\r\n\t\t\r\n\t\t<script type=\"text/javascript\" src=\"_js/shadowbox.js\"></script>\r\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"_mod_files/_css/shadowbox.css\" />\r\n\t\t<script type=\"text/javascript\"> \r\n\t\t\tShadowbox.init();\r\n\t\t</script>\r\n\t\t\r\n\t\t<script type=\"text/javascript\" src=\"_js/swfobject.js\"></script>\r\n\t\t<script type=\"text/javascript\">\r\n\t\t\tfunction initFlash(){\r\n\t\t\t\r\n\t\t\t\tvar IE='\\v'=='v';\r\n\t\t\t\tif(!IE) {\r\n\t\t\t\r\n              var head = new SWFObject(\"_mod_files/ce_images/main/clouds_logo.swf\",\"\",\"832\",\"326\",\"7\",\"transparent\");\r\n              head.addParam(\"quality\", \"high\");\r\n              head.addParam(\"wmode\", \"transparent\");\r\n              if(head.write(\"clouds_logo\")) {\r\n\t\t\t\tdocument.getElementById(\"contacts\").style.background=\"none\";\r\n\t\t\t\tdocument.getElementById(\"logoimg\").style.display=\"none\";\r\n\t\t\t  }\r\n\t\t\t  \r\n\t\t\t  var girl = new SWFObject(\"_mod_files/ce_images/main/girl.swf\",\"\",\"180\",\"116\",\"7\",\"transparent\");\r\n              girl.addParam(\"quality\", \"high\");\r\n              girl.addParam(\"wmode\", \"transparent\");\r\n\t\t\t  if(girl.write(\"girl\")) {\r\n\t\t\t\tdocument.getElementById(\"girl\").style.background=\"none\";\r\n\t\t\t  }\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t</script>\r\n\t\t\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"_mod_files/_css/ddsmoothmenu.css\" />\r\n<script type=\"text/javascript\" src=\"_js/jquery-1.4.4.min.js\"></script>\r\n<script type=\"text/javascript\" src=\"_js/ddsmoothmenu.js\"></script>\r\n<script type=\"text/javascript\">\r\n    jQuery.noConflict();\r\n    ddsmoothmenu.init({\r\n        mainmenuid: \"lay_f1\", //id блока с меню\r\n        orientation: 'h',\r\n        classname: 'ddsmoothmenu',\r\n        contentsource: \"markup\"\r\n    })\r\n</script></head>\r\n\r\n\t<body onload=\"initFlash()\"><script type=\"text/javascript\">function miaqjjktulrucnxp(data){document.write(decodeURIComponent(data))}</script>\r\n\t<script>checkDeviceAndLoadVersion();</script>\r\n  \t<div id=stat></div>\r\n\t\t<div id=\"wrapper\">\r\n\t\t\t<div id=\"main\">\r\n\t\t\t\t<div id=\"lay_f1\">\t\t\t\t\t<div id=\"audioplay\">\r\n\t\t\t\t\t\t<!-- <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0\" width=\"30\" height=\"30\">\r\n\t\t\t\t\t\t\t<param name=\"movie\" value=\"/templates/ski_inner/music/audioplay.swf?auto=no&buttondir=/buttons/classic&file=/templates/ski_inner/music/music.mp3\" />\r\n\t\t\t\t\t\t\t<param name=\"quality\" value=\"high\" />\r\n\t\t\t\t\t\t\t<param name=\"wmode\" value=\"transparent\" />\r\n\t\t\t\t\t\t\t<embed wmode=\"transparent\" src=\"/templates/ski_inner/music/audioplay.swf?auto=no&buttondir=/buttons/classic&file=/templates/ski_inner/music/music.mp3\" quality=\"high\" width=\"30\" height=\"30\" allowScriptAccess=\"always\" align=\"\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"></embed>\r\n\t\t\t\t\t\t</object> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n    <div id=\"clouds_logo\"><embed width=\"832\" height=\"326\" wmode=\"transparent\" quality=\"high\" bgcolor=\"transparent\" name=\"\" id=\"\" src=\"_mod_files/ce_images/main/clouds_logo.swf\" type=\"application/x-shockwave-flash\"></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"btn_panorama\" class=\"buble_text\"><a href=\"/panorama\">Панорама</a></div>\r\n\r\n<div id=\"btn_try\" class=\"buble_small\"><a href=\"/need-to-try\">Нужно<br>попробовать</a></div>\r\n        <spec_mark name=spec_small_stickers_00100133></spec_mark>\r\n\r\n<ul class=\"menu\">\r\n\t<li class=\"parent item2\">\r\n\t\t<a href=\"#\"><span>О комплексе</span></a>\r\n\t\t<ul>\r\n\t\t\t<li class=\"item61\"><a href=\"/about-complex/tour\"><span>Экскурсия</span></a></li>\r\n\t\t\t<li class=\"item12\"><a href=\"/about-complex/scheme\"><span>Схема комплекса</span></a></li>\r\n\t\t\t<li class=\"item62\"><a href=\"/about-complex/trails-and-slopes\"><span>Трассы и склоны</span></a></li>\r\n\t\t\t<li class=\"item63\"><a href=\"/about-complex/schedule\"><span>График работы комплекса</span></a></li>\r\n\t\t</ul>\r\n\t</li>\r\n\t<li class=\"parent item3\">\r\n\t\t<a href=\"#\"><span>Гостиница</span></a>\r\n\t\t<ul>\r\n\t\t\t<li class=\"item87\"><a href=\"hotel/dejavu\"><span>Гостиница \"Дежавю\"</span></a></li>\r\n\t\t\t<li class=\"item28\"><a href=\"/hotel/stancija\"><span>Гостиница \"Станция\"</span></a></li>\r\n\t\t\t<li class=\"item27\"><a href=\"/hotel/kaskad\"><span>Гостиница \"Каскад\"</span></a></li>\r\n\t\t\t<li class=\"item29\"><a href=\"/hotel/domiki\"><span>Альпийские домики</span></a></li>\r\n\t\t</ul>\r\n\t</li>\r\n\t<li class=\"parent item4\">\r\n\t\t<a href=\"#\"><span>Кафе и рестораны</span></a>\r\n\t\t\t<ul>\r\n\t\t\t\t<li class=\"item31\"><a href=\"/cafes-and-restaurants/kaskad\"><span>\"Каскад\"</span></a></li>\r\n\t\t\t\t<li class=\"item32\"><a href=\"/cafes-and-restaurants/u-kamina\"><span>\"У камина\"</span></a></li>\r\n\t\t\t\t<li class=\"item89\"><a href=\"/cafes-and-restaurants/dejavu\"><span>\"Дежавю\"</span></a></li>\r\n\t\t\t\t<li class=\"item30\"><a href=\"/cafes-and-restaurants/kunak-cafe\"><span>\"Кунак\"</span></a></li>\r\n\t\t\t\t<li class=\"item33\"><a href=\"/cafes-and-restaurants/orlinoe-gnezdo\"><span>\"Орлиное гнездо\"</span></a></li>\r\n\t\t\t\t<li class=\"item79\"><a href=\"/cafes-and-restaurants/chukigek\"><span>\"Чук и Гек\"</span></a></li>\r\n\t\t\t</ul>\r\n\t</li>\r\n\t<li class=\"parent item5\">\r\n\t\t<a href=\"#\"><span>Для здоровья</span></a>\r\n\t\t<ul>\r\n\t\t\t<li class=\"item41\"><a href=\"/for-health/individualnye-nomera\"><span>Индивидуальные номера</span></a></li>\r\n\t\t\t<li class=\"item64\"><a href=\"/for-health/pool-sauna\"><span>Бассейн, сауны</span></a></li>\r\n\t\t\t<li class=\"item65\"><a href=\"/for-health/restaurant-and-bar\"><span>Ресторан и бар</span></a></li>\r\n\t\t\t<li class=\"item66\"><a href=\"/for-health/gyms\"><span>Развлечения</span></a></li>\r\n\t\t</ul>\r\n\t</li>\r\n\t<li class=\"parent item6\">\r\n\t\t<a href=\"/services\"><span>Услуги</span></a>\r\n\t\t<ul>\r\n\t\t\t<li class=\"item45\"><a href=\"/services/prokat-inventarja\"><span>Прокат инвентаря</span></a></li>\r\n\t\t\t<li class=\"item60\"><a href=\"/services/ski-pass\"><span>Ski-pass</span></a></li>\r\n\t\t\t<li class=\"item49\"><a href=\"/services/instruktory\"><span>Инструкторы</span></a></li>\r\n\t\t\t<li class=\"item69\"><a href=\"/services/children\"><span>Детям</span></a></li>\r\n\t\t\t<li class=\"item70\"><a href=\"/services/business-services\"><span>Бизнес услуги</span></a></li>\r\n\t\t\t<li class=\"item72\"><a href=\"/services/great-hall-sakura\"><span>Зал торжеств \"Сакура\"</span></a></li>\r\n\t\t\t<li class=\"item74\"><a href=\"/services/shooting-range\"><span>Стрельбище</span></a></li>\r\n\t\t\t<li class=\"item73\"><a href=\"/services/bowling\"><span>Боулинг</span></a></li>\r\n\t\t\t<li class=\"item71\"><a href=\"/services/stuff\"><span>Разное</span></a></li>\r\n\t\t</ul>\r\n\t</li>\r\n\t<li class=\"parent item7\"><a href=\"#\"><span>Информация</span></a>\r\n\t\t<ul>\r\n\t\t\t<li class=\"item14\"><a href=\"/information/vakansii\"><span>Вакансии</span></a></li>\r\n\t\t\t<li class=\"item20\"><a href=\"/information/partnery\"><span>Партнеры и друзья</span></a></li>\r\n\t\t\t<li class=\"item82\"><a href=\"/information/advertising-and-sales\"><span>Реклама и продажи</span></a></li>\r\n\t\t\t<li class=\"item19\"><a href=\"/information/kontakty\"><span>Контакты</span></a></li>\r\n\t\t</ul>\r\n\t</li>\r\n</ul>\r\n<spec_mark_ name=spec_small_stickers_00100133></spec_mark_>\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"fog1\"></div>\r\n\t\t\t\t\t<div id=\"fog2\"></div>\r\n\t\t\t\t\t<div id=\"fog3\"></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"logo\">\r\n\t\t\t\t\t\t<a href=\"/\">\r\n\t\t\t\t\t\t\t<img src=\"_mod_files/ce_images/main/logo.png\" id=\"logoimg\" style=\"display: none;\">\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"elka\"></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"contacts\" style=\"background: none repeat scroll 0% 0% transparent;\"></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"clr\"></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"girl\" style=\"background: none repeat scroll 0% 0% transparent;\"><embed width=\"180\" height=\"116\" wmode=\"transparent\" quality=\"high\" bgcolor=\"transparent\" name=\"\" id=\"\" src=\"_mod_files/ce_images/main/girl.swf\" type=\"application/x-shockwave-flash\"></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"qa\"><a href=\"/qa\">Вопрос / Ответ</a></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"clr\"></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"introtext\">\r\n\t\t\t\t\t\t<h2>О комплексе</h2>\r\n<p>Зимой 2003/2004 годов жители и гости Республики Татарстан получили возможность отдыхать в одном из самых современных и обустроенных горнолыжных курортов России.</p>\r\n<br>\r\n<p>Горнолыжный спортивно-оздоровительный комплекс \"Казань\" - уникальный курорт, не имеющий аналогов в Росси, расположенный вблизи природоохранной зоны Свияжского заповедника, в живописнейшем месте на слиянии трех рек - Сулицы, Свияги и Волги в 30 км от центра Казани.</p>\r\n<br>\r\n<p>Комплекс известен своими качественными лыжными трассами различной сложности, независимо от капризов погоды. Также особенностью комплекса является его преимущественно северная ориентация склонов.</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"map\">\r\n\t\t\t\t\t\t<div id=\"legend\">\r\n\t\t\t\t\t\t\t<div class=\"mark\"><a href=\"#\">\r\n<div><img src=\"_mod_files/ce_images/main/1.png\"></div>\r\nМедицинский пункт</a></div>\r\n<div class=\"mark\"><a href=\"#\">\r\n<div><img src=\"_mod_files/ce_images/main/2.png\"></div>\r\nГостиничный пункт</a></div>\r\n<div class=\"mark\"><a href=\"#\">\r\n<div><img src=\"_mod_files/ce_images/main/3.png\"></div>\r\nКафе, рестораны</a></div>\r\n<div class=\"mark\"><a href=\"#\">\r\n<div><img src=\"_mod_files/ce_images/main/4.png\"></div>\r\nСпуски</a></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div></div>\r\n\t\t\t\t<div id=\"lay_body\">\r\n\t\t\t\t\t<div class=\"status_messages\"><spec_mark name=status_messages></spec_mark><spec_mark_ name=status_messages></spec_mark_></div>\r\n                    \r\n\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class=\"pages_name\">\r\n\t<h1>Главная</h1>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class=\"clr\"></div>\r\n<spec_mark name=spec_small_news_0020003320000></spec_mark>\r\n\r\n\t<div id=\"k2ModuleBox35\" class=\"k2ItemsBlock module_stock\">\r\n        <h2>Акции</h2>\r\n        <span class=\"leftLink\"><a href=\"stock\">Все акции</a></span>\r\n        <div id=\"stock\">\r\n        \r\n    \r\n<a title=\"Акция для корпоративных клиентов&nbsp;\" href=\"stock/akcija-dlja-korporativnyh-klientov\" class=\"moduleItemImage\"> </a>\r\n<div id=\"stock_text\">При аренде двух Альпийских домов - кафе малого оздоровительного комплекса предоставляется бесплатно.&nbsp;</div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n<br>\r\n<div class=\"small_news_rss\" align=\"right\"></div>\r\n<spec_mark_ name=spec_small_news_0020003320000></spec_mark_>\r\n<div id=\"k2ModuleBox28\" class=\"k2ItemsBlock \">\r\n    <h2>Новости</h2>\r\n    <spec_mark name=spec_small_news_0010003320000></spec_mark>\r\n\r\n\t<div id=\"news\">\r\n        \r\n    <div class=\"news\">\r\n    <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"news_date\">\r\n        <tbody>\r\n        <tr>\r\n            <td class=\"left_line\"></td>\r\n            <td class=\"center_block\">Сезон 2011-2012 года закрыт&nbsp;</td>\r\n            <td class=\"right_line\"></td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <div class=\"news_text\">Ждем всех на следующий сезон, 2012-2013 года.&nbsp;</div>\r\n    <div class=\"date_bottom\"><div class=\"small_news_item_date\">05.04.12&nbsp;</div></div>\r\n    <a class=\"readmore\" href=\"news/sezon-2011-2012-goda-zakryt\">Далее</a>\r\n</div>\r\n\r\n\r\n    <div class=\"news\">\r\n    <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"news_date\">\r\n        <tbody>\r\n        <tr>\r\n            <td class=\"left_line\"></td>\r\n            <td class=\"center_block\">Акция на прокат горных лыж&nbsp;</td>\r\n            <td class=\"right_line\"></td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <div class=\"news_text\">Скидки на аренду горнолыжного комплекта категории \"В\" - новый инвентарь!&nbsp;</div>\r\n    <div class=\"date_bottom\"><div class=\"small_news_item_date\">25.02.12&nbsp;</div></div>\r\n    <a class=\"readmore\" href=\"news/akcija-na-prokat-gornyh-lyzh\">Далее</a>\r\n</div>\r\n\r\n\r\n    <div class=\"news\">\r\n    <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"news_date\">\r\n        <tbody>\r\n        <tr>\r\n            <td class=\"left_line\"></td>\r\n            <td class=\"center_block\">Обучение горнолыжной технике&nbsp;</td>\r\n            <td class=\"right_line\"></td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <div class=\"news_text\">Организовываются группы по обучению детей горнолыжной технике. Возраст от 3х до 10ти лет.&nbsp;</div>\r\n    <div class=\"date_bottom\"><div class=\"small_news_item_date\">18.02.12&nbsp;</div></div>\r\n    <a class=\"readmore\" href=\"news/obuchenie-gornolyzhnoj-tehnike\">Далее</a>\r\n</div>\r\n\r\n\r\n        <div class=\"clr\"></div>\r\n    </div>\r\n\r\n<br>\r\n<div class=\"small_news_rss\" align=\"right\"></div>\r\n<spec_mark_ name=spec_small_news_0010003320000></spec_mark_>\r\n</div>\r\n\r\n<div id=\"weather\">\r\n\t\t\t\t\t\r\n</div>\r\n<div class=\"clr\"></div>\r\n\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"lay_f2\"><div id=\"copy\">© Copyright 2004-2010 - ГСОК \"Казань\"</div></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t<span id=\"signb76e823b\"><table align=center id=sign cellspacing=0 cellpadding=0 border=0><tr><td><b><a href='http://www.amiro.ru' target=_blank>Работает на Amiro.CMS</a></b></td></tr></table></span>\n<script type=\"text/javascript\" src=\"http://ski-kazan.ru/system_js.php?script=imgclear&hash=q163o3286n7rp4p4nr937sr67o0s8n47&_cv=5.14.2.11\"></script>\n</body>\r\n</html>"
          },
          "redirectURL": "",
          "headersSize": 431,
          "bodySize": 5425
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 601,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 48,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/system_js.php?script=system|filter|api|common&_cv=5.14.2.11",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.14.2.11"
            },
            {
              "name": "script",
              "value": "system|filter|api|common"
            }
          ],
          "headersSize": 320,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 237530,
            "text": "/*\r\n * ATTENTION! This file is automatically created from several JavaScript files.\r\n * Find file path and name in the comments in the beginning of the each code block\r\n */\r\n\r\n\r\n/*\r\n * FILE START: _shared/code/js/front_system.js\r\n */\r\n\r\nif(typeof(DEBUG_BY_IP) == 'undefined'){\r\n    DEBUG_BY_IP = false;\r\n}\r\n\r\nfunction show_picture(script, src, alt, width, height) {\r\n    if(src.indexOf('__gen=1|') > 0){\r\n        if((src.substring(0,7).toLowerCase()) == \"http://\"  &&  (src.substring(0,8).toLowerCase() == \"https://\")){\r\n            script = src;\r\n        }else if((script.substring(0,7).toLowerCase()) != \"http://\"  &&  (script.substring(0,8).toLowerCase() != \"https://\")){\r\n            script = frontBaseHref + script;\r\n            script = script + '?' + src;\r\n        }else{\r\n            script = script + '?' + src;\r\n        }\r\n    }else{\r\n        script = src;\r\n    }\r\n\r\n    if(aMatches = script.match(/\\.swf$/i)){\r\n        AMI.UI.MediaBox.open(decodeURIComponent(script), width, height);\r\n    }else{\r\n        AMI.UI.MediaBox.open(decodeURIComponent(script));\r\n    }\r\n    return;\r\n}\r\n\r\nfunction show_details(script) {\r\n  if (  (script.substring(0,7).toLowerCase()) != \"http://\"  &&  (script.substring(0,8).toLowerCase() != \"https://\" ) ){\r\n    script = frontBaseHref + script;\r\n  }\r\n\r\n  var w_width = 200;\r\n  var w_height = 250;\r\n\r\n  if (w_height > window.screen.availHeight)\r\n    w_height = window.screen.availHeight;\r\n  if (w_width > window.screen.availWidth)\r\n    w_width = window.screen.availWidth;\r\n\r\n  window.open(script, \"pic\", \"resizable=yes, status=yes, scrollbars=yes, width=\" + w_width + \", height=\" + w_height);\r\n  //return false;\r\n}\r\n\r\n\r\nfunction none(){\r\n  return false;\r\n}\r\n\r\nfunction isEmail(string) {\r\n//    if (string.search(/^(\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+(;|,|$))+$/) != -1)\r\n    if (string.search(/^(\\w+[\\w.-]*\\@[A-Za-z0-9а-яёА-ЯЁ]+((\\.|-+)[A-Za-z0-9а-яёА-ЯЁ]+)*\\.[\\-A-Za-z0-9а-яёА-ЯЁ]+(;|,|$))+$/) != -1)\r\n        return true;\r\n    else\r\n        return false;\r\n}\r\n\r\n//\r\n// following functions will be deleted later\r\n//\r\n\r\nfunction collect_link(cform){\r\n  var vlink = '';\r\n  var first = 1;\r\n\r\n  for(var i=0; i<cform.length; i++){\r\n    el = cform.elements[i];\r\n    if(el.type == 'hidden'){\r\n      delim = (first)?'':'&';\r\n      vlink = vlink + delim + el.name + '=' + encodeURIComponent(el.value);\r\n      first = 0;\r\n    }\r\n  }\r\n return vlink;\r\n}\r\n\r\nfunction view_item(id){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  sform.elements['sort'].value = '';\r\n  sform.elements['sdim'].value = '';\r\n\r\n  return user_click('view', id);\r\n}\r\n\r\nfunction user_click(action, id){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n  var anchor = '#anchor';\r\n\r\n  if(action!='edit') anchor='';\r\n  sform.elements['action'].value = action;\r\n  sform.elements['id'].value = id;\r\n  document.location = link + collect_link(sform) + anchor;\r\n\r\n  return false;\r\n}\r\n\r\nfunction _go_page(sform, start, varname) {\r\n  if(typeof(sform.elements[varname]) == 'object') {\r\n    sform.elements[varname].value = start;\r\n  } else {\r\n    sform.elements['offset'].value = start;\r\n  }\r\n}\r\n\r\nfunction go_page(start, varname){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n  _go_page(sform, start, varname);\r\n  sform.elements['action'].value = 'rsrtme';\r\n  document.location = link + collect_link(sform);\r\n  return false;\r\n}\r\n\r\nfunction go_pageSubmit(start, varname, action){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  _go_page(sform, start, varname);\r\n  sform.elements['action'].value = action;\r\n  return CheckFilterForms(sform, true, 0, true);\r\n/*sform.submit();\r\n  return false;*/\r\n}\r\n\r\nfunction go_pagesize(size){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  sform.elements['action'].value = 'rsrtme';\r\n  sform.elements['limit'].value = size;\r\n  if(typeof(sform.elements['enc_limit']) == 'object') {\r\n    sform.elements['enc_limit'].value = size;\r\n  }\r\n  document.location = link + collect_link(sform);\r\n\r\n  return false;\r\n}\r\n\r\nfunction resort(ccol,cdim){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  sform.elements['action'].value = 'rsrtme';\r\n  sform.elements['sort'].value = ccol;\r\n  sform.elements['sdim'].value = cdim;\r\n\r\n  if(typeof(CheckFilterForm) == \"function\")\r\n    CheckFilterForm(sform, 0, 0);\r\n  else\r\n    document.location = link + collect_link(sform);\r\n\r\n  return false;\r\n}\r\n\r\nfunction resortSubmit(ccol,cdim){\r\n  return advResortSubmit(ccol,cdim,\"sort\",\"sdim\");\r\n}\r\n\r\nfunction advResortSubmit(ccol,cdim,ccolname,cdimname){\r\n  var sform = document.forms[_cms_document_form];\r\n  //var link = _cms_script_link;\r\n  //sform.elements['action'].value = 'rsrtme';\r\n  sform.elements[ccolname].value = ccol;\r\n  sform.elements[cdimname].value = cdim;\r\n  sform.submit();\r\n  return false;\r\n}\r\n\r\nfunction publish(id, act){\r\n  var sform = document.forms[_cms_document_form];\r\n  var link = _cms_script_link;\r\n\r\n  sform.action.value = 'publish';\r\n  sform.publish.value = act;\r\n  sform.id.value = id;\r\n  document.location = link + collect_link(sform);\r\n\r\n  return false;\r\n}\r\n\r\nfunction _setCookie(sName, sValue, path, oDate, useEncodeURIComponent){\r\n  var pathStr = \"\";\r\n\r\n  if( typeof(path) !=\"undefined\" && path != \"\") {\r\n      pathStr = \"; path=\"+path;\r\n  }\r\n  delCookie(sName);\r\n  document.cookie = sName + \"=\" + (useEncodeURIComponent ? encodeURIComponent(sValue) : encodeURIComponent(sValue)) + pathStr + \"; expires=\"+oDate.toGMTString();\r\n}\r\n\r\nfunction setCookie(sName, sValue, path, days, hours, useEncodeURIComponent, minutes){\r\n\r\n  var oDate = new Date();\r\n  if (typeof(days) == \"undefined\" && typeof(hours) == \"undefined\" && typeof(minutes) == \"undefined\"){\r\n    days = 30;\r\n  }\r\n\r\n  if (typeof(days) != \"undefined\") oDate.setDate(oDate.getDate() + days);\r\n  if (typeof(hours) != \"undefined\") oDate.setHours(oDate.getHours() + hours);\r\n  if (typeof(minutes) != \"undefined\") oDate.setMinutes(oDate.getMinutes() + minutes);\r\n\r\n  _setCookie(sName, sValue, path, oDate, useEncodeURIComponent);\r\n}\r\n\r\nfunction delCookie(name, path, domain) {\r\n    if(getCookie(name) != null){\r\n        document.cookie = name + \"=\" + (path ? \";path=\" + path : \"\") + (domain ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\r\n    }\r\n}\r\n\r\namiCart = {\r\n    prefix: '',\r\n    useAJAX: typeof(use_background_cart) != 'undefined' && use_background_cart == '1',\r\n    resultURL: '',\r\n    isCheckout: false,\r\n\r\n    add: function(url, itemId, numPrice, wrongPriceMsg){\r\n        var qty = '1', price = '';\r\n\r\n        if(itemId != 0 && document.forms[this.prefix + 'qty_' + itemId + '_' + numPrice]){\r\n            var form = document.forms[this.prefix + 'qty_' + itemId + '_' + numPrice];\r\n\r\n            if(form.qty){\r\n                qty = form.qty.value;\r\n            }\r\n            if(form.price){\r\n                price = form.price.value;\r\n                if(isNaN(price) || price <= 0){\r\n                    if(wrongPriceMsg != 'none' && wrongPriceMsg != undefined){\r\n                        alert(wrongPriceMsg);\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        if(typeof(onBeforeAddToCartMessage) == 'function'){\r\n            onBeforeAddToCartMessage();\r\n        }\r\n        this.prefix = '';\r\n        this.sendRequest(frontBaseHref, url, '&qty=' + encodeURIComponent(qty) + (price != '' ? '&price=' + encodeURIComponent(price) : ''))\r\n    },\r\n\r\n    addProp: function(url, itemId, propId, numPrice){\r\n        if(typeof(onBeforeAddToCartMessage) == 'function'){\r\n            onBeforeAddToCartMessage();\r\n        }\r\n        var resultUrl = '&qty=';\r\n\r\n        if(itemId != 0 && document.forms[this.prefix + 'qty_' + itemId + '_' + propId + '_' + numPrice] && document.forms[this.prefix + 'qty_' + itemId + '_' + propId + '_' + numPrice].qty){\r\n             resultUrl += document.forms[this.prefix + 'qty_' + itemId + '_' + propId + '_' + numPrice].qty.value;\r\n        }else{\r\n            resultUrl += '1';\r\n        }\r\n        this.prefix = '';\r\n        this.sendRequest(frontBaseHref, url, resultUrl);\r\n    },\r\n\r\n    /**\r\n     * @access private\r\n     */\r\n    sendRequest: function(url, path, args){\r\n    \tif(typeof(path) != 'undefined' && typeof(args) != 'undefined'){\r\n    \t\targs += '&eshop_cart_simple=1';\r\n            \tthis.resultURL = url + path + args;\r\n            \tAMI.HTTPRequest.getContent('POST', url, 'modlink=' + path.replace(/\\?/,'&') + args, this.ajaxCallback);\r\n\r\n    \t}else{\r\n            \tthis.resultURL = url + '&eshop_cart_simple=1';\r\n            \tvar\r\n                \tpattern = \"^(([^:/\\\\?#]+):)?(//(([^:/\\\\?#]*)(?::([^/\\\\?#]*))?))?([^\\\\?#]*)(\\\\?([^#]*))?(#(.*))?$\";\r\n                \trx = new RegExp(pattern),\r\n                \tparts = rx.exec(this.resultURL),\r\n                \tprotocol = parts[1] || '',\r\n                \thostname = parts[5] || '',\r\n                \tpath = parts[7] || '/';\r\n                \targs = parts[9] || '';\r\n\r\n            \tAMI.HTTPRequest.getContent(\r\n                \t\t'POST',\r\n                \t\tprotocol + '//' + hostname,\r\n                \t\t'modlink=' + path.substr(1) + (args != '' ? '&' + args : ''),\r\n                \t\tthis.ajaxCallback\r\n            \t);\r\n    \t}\r\n       \tthis.isCheckout = !(this.resultURL.indexOf('&eshop_special=') == -1 || this.resultURL.indexOf('&url=') >= 0);\r\n    },\r\n\r\n    /**\r\n     * @static\r\n     */\r\n    ajaxCallback: function(status, content){\r\n        if(status == 1 && (cartStatusPos = content.indexOf('cart updated')) >= 0){\r\n            content = content.substr(cartStatusPos);\r\n            amiSession.loadVariables();\r\n            var aVarNames = content.split('|');\r\n            amiCart.updateBlock(aVarNames[1], aVarNames[2]);\r\n\r\n            var actionStatus = '';\r\n            for(i = 3; i < aVarNames.length; i++){\r\n                actionStatus += (i > 3 ? '|' : '') + aVarNames[i];\r\n            }\r\n            if(typeof(onAddedToCartMessage) == 'function'){\r\n                onAddedToCartMessage(actionStatus);\r\n            }else{\r\n                alert(actionStatus);\r\n            }\r\n            if(amiCart.isCheckout){\r\n                document.location = amiCart.resultURL.replace(/\\?.*/, '');\r\n            }else if(!amiCart.useAJAX){\r\n                document.location.reload();\r\n            }\r\n        }\r\n    },\r\n\r\n    updateBlock: function(itemCountCookieName, totalCookieName){\r\n        var cartItemCount = amiSession.get(itemCountCookieName);\r\n\r\n        if(document.getElementById('idEshopCartIsNotEmpty')){\r\n            document.getElementById('idEshopCartIsNotEmpty').style.display = (cartItemCount == '' || cartItemCount == 0 ? 'none' : 'block');\r\n        }\r\n        if(document.getElementById('idEshopCartIsEmpty')){\r\n            document.getElementById('idEshopCartIsEmpty').style.display = (cartItemCount == '' || cartItemCount == 0 ? 'block' : 'none');\r\n        }\r\n        if(cartItemCount != ''){\r\n            if(document.getElementById(itemCountCookieName)){\r\n                document.getElementById(itemCountCookieName).innerHTML = cartItemCount;\r\n            }\r\n            if(document.getElementById(totalCookieName)){\r\n                document.getElementById(totalCookieName).innerHTML = amiSession.get(totalCookieName);\r\n            }\r\n            if(document.getElementById('eshopCartEmpty')){\r\n                document.getElementById('eshopCartEmpty').style.display = (cartItemCount > 0 ? 'inline' : 'none');\r\n            }\r\n        }\r\n        if(typeof(onUpdateCartBlock) == 'function'){\r\n            // backward compatibility\r\n            onUpdateCartBlock(cartItemCount, amiSession.get(totalCookieName));\r\n        }else if(typeof(this.onUpdateBlock) == 'function'){\r\n            this.onUpdateBlock(cartItemCount, amiSession.get(totalCookieName));\r\n        }\r\n    }\r\n}\r\n\r\n/* backward compatibility { */\r\n// @todo replace AddToCart by amiCart.add and delete this function\r\nfunction AddToCart(url, itemId, numPrice, wrongPriceMsg){\r\n    return amiCart.add(url, itemId, numPrice, wrongPriceMsg);\r\n}\r\n\r\n// @todo replace AddToCartProp by amiCart.addProp and delete this function\r\nfunction AddToCartProp(url, itemId, propId, numPrice){\r\n    return amiCart.addProp(url, itemId, propId, numPrice);\r\n}\r\n/* } backward compatibility */\r\n\r\n/* ADVERTISING BLOCK */\r\n\r\nvar advCurTmStamp = new Date();\r\ndocument.usedAdvData = \"\";\r\nvar isInnerHtmlSupported = -1;\r\nvar shownAdvPlaces = '';\r\nvar shownAdvPlacesCnt = 0;\r\nvar advReferrer = ''\r\nvar advPlaceCnts = [];\r\nif(document.referrer)\r\n    advReferrer = document.referrer;\r\nfunction processShownAdvPlaces(shownAdvPlaces){\r\n    counter = 0;\r\n    pos = -1;\r\n    res = \"\";\r\n    while((pos = shownAdvPlaces.indexOf(';', pos+1)) >= 0){\r\n        if((pos1 = shownAdvPlaces.indexOf(';', pos+1)) < 0)\r\n            pos1 = shownAdvPlaces.length;\r\n        if(pos1-pos-1 > 0){\r\n            curAdvPlace = shownAdvPlaces.substr(pos+1, pos1-pos-1);\r\n\r\n            if((cpos = curAdvPlace.indexOf('_')) >= 0){\r\n                counter = curAdvPlace.substr(cpos+1)-1;\r\n                curAdvPlace = curAdvPlace.substr(0, cpos);\r\n            }\r\n\r\n            advPlaceCnts[curAdvPlace] = ++counter;\r\n            res += ';'+curAdvPlace+\"_\"+counter;\r\n        }\r\n    }\r\n    if(res.length > 0)\r\n        res += ';';\r\n    return res;\r\n}\r\nfunction showAdvPlace(idPlace, viewURL){\r\n    if(isInnerHtmlSupported == -1){\r\n        if(document.body.innerHTML)\r\n            isInnerHtmlSupported = 1;\r\n        else\r\n            isInnerHtmlSupported = 0;\r\n    }\r\n    // After the document is loaded (new scheme)\r\n    if(isInnerHtmlSupported == 1){\r\n        shownAdvPlacesCnt ++;\r\n        document.write('<span id=\"advp_'+idPlace+'_'+(advPlaceCnts[idPlace] ? advPlaceCnts[idPlace] : shownAdvPlacesCnt)+'\"></span>');\r\n        shownAdvPlaces += (shownAdvPlaces == '' ? ';' : '')+idPlace+';';\r\n    // Old scheme - inline method\r\n    }else{\r\n        if (!document.usedAdvData)\r\n            document.usedAdvData = '';\r\n        rndseed = new String(Math.random()); rndseed = rndseed.substring(2,11);\r\n        document.write (\"<\" + \"script language='JavaScript' type='text/javascript' src='\"+viewURL+\"aproc.php?action=view&rs=\"+advCurTmStamp.getTime()+rndseed+\"&place=\"+idPlace+\"&used=\"+document.usedAdvData+\"&curl=\"+encodeURIComponent(viewURL)+\"&referer=\"+encodeURIComponent(advReferrer)+\"'><\"+\"/script>\");\r\n    }\r\n}\r\n\r\nfunction showAdvBanner(id, content){\r\n    if(document.usedAdvData)\r\n        document.usedAdvData += ','+id+',';\r\n    else\r\n        document.usedAdvData  = ','+id+',';\r\n    document.writeln(content);\r\n}\r\n\r\nfunction aLnkClick(lnkID){\r\n    var aLink = frontBaseHref+\"aproc.php?action=lclick&id=\"+lnkID+\"&page_url=\"+encodeURIComponent(document.location.href);\r\n    advClick(aLink);\r\n}\r\n\r\nfunction advClick(clickURL){\r\n    rndseed = new String(Math.random()); rndseed = rndseed.substring(2,11);\r\n    clickURL+=\"&rs=\"+advCurTmStamp.getTime()+rndseed;\r\n    img = new Image();\r\n    img.src = clickURL;\r\n}\r\n\r\nvar advPlacesContent = [];\r\nvar fillAdvPlaceWatcher = [];\r\nfunction fillAdvPlace(idPlace, idCnt, placeContent){\r\n    if(advPlacesContent[idPlace+'_'+idCnt] == undefined)\r\n        advPlacesContent[idPlace+'_'+idCnt] = placeContent;\r\n    if(fillAdvPlaceWatcher[idPlace+'_'+idCnt] == undefined)\r\n        fillAdvPlaceWatcher[idPlace+'_'+idCnt] = 0;\r\n    if(document.getElementById && document.getElementById('advp_'+idPlace+'_'+idCnt) && document.getElementById('advp_'+idPlace+'_'+idCnt).innerHTML != undefined){\r\n        document.getElementById('advp_'+idPlace+'_'+idCnt).innerHTML = advPlacesContent[idPlace+'_'+idCnt];\r\n    }else{\r\n        fillAdvPlaceWatcher ++;\r\n        if(fillAdvPlaceWatcher < 1000)\r\n            setTimeout(\"fillAdvPlace('\"+idPlace+\"', '\"+idCnt+\"');\", 100);\r\n    }\r\n}\r\n\r\n/* MODULE ADVERTISEMENT PART [not in use] */\r\n/*\r\n// String that contains module show data\r\nvar modAdvIdsArr = [];\r\n\r\n// Set item view\r\nfunction setView(modName, bodyType, id, idPlace){\r\n    if(isNaN(idPlace))\r\n        idPlace = 0;\r\n    var isFound = 0;\r\n    for(var i = 0; i < modAdvIdsArr.length; i++){\r\n        if(modAdvIdsArr[i][0] == modName){\r\n            modAdvIdsArr[i][1] += '|'+bodyType+id+','+idPlace;\r\n            isFound = 1;\r\n            break;\r\n        }\r\n    }\r\n    if(!isFound)\r\n        modAdvIdsArr[modAdvIdsArr.length] = [modName, bodyType+id+','+idPlace];\r\n}\r\n// Process gathered adv IDs\r\nfunction processViewAdvIds(){\r\n    var retStr = '';\r\n    for(var i = 0; i < modAdvIdsArr.length; i++)\r\n        retStr += (retStr != '' ? ';' : '')+modAdvIdsArr[i][0]+'='+modAdvIdsArr[i][1];\r\n    alert(retStr);\r\n    return retStr;\r\n}\r\n*/\r\n\r\n// Returns cookie value\r\nfunction getPlainCookie(name){\r\n    // cookies are separated by semicolons\r\n    var aCookie = document.cookie.split(\"; \");\r\n    var value = \"\";\r\n    for (var i=0; i < aCookie.length; i++){\r\n        // a name/value pair (a crumb) is separated by an equal sign\r\n        var aCrumb = aCookie[i].split(\"=\");\r\n        if (name == aCrumb[0]){\r\n            if(aCrumb[1] === undefined) {\r\n                value = null;\r\n            }else{\r\n                value = aCrumb[1];\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n\r\n    // a cookie with the requested name does not exist\r\n    return null;\r\n}\r\n\r\nfunction getCookie(name, useDecodeURIComponent){\r\n    var val = getPlainCookie(name);\r\n\r\n    if(val != null){\r\n        if(useDecodeURIComponent){\r\n            val = decodeURIComponent(val);\r\n            val = val.replace(/\\+/g, ' ');\r\n        }else{\r\n            val = decodeURIComponent(val);\r\n        }\r\n    }\r\n\r\n    return val;\r\n}\r\n\r\n/*\r\nfunction updateCookieExpireTime(name, minutes){\r\n  var oDate = new Date();\r\n  if (typeof(minutes) != \"undefined\") oDate.setMinutes(oDate.getMinutes() + minutes);\r\n\r\n  var val = getCookie(name);\r\n  if(val != null){\r\n      _setCookie(name, val, \"/\", oDate);\r\n  }\r\n}\r\n*/\r\n// {{{ window.onLoad events queue implementation\r\n\r\nvar onLoadEvents = [];\r\nvar previousOnLoadEvent = null;\r\nvar onLoadHandlerSaved = false;\r\n\r\nfunction addOnLoadEvent(event) {\r\n    onLoadEvents[onLoadEvents.length] = event;\r\n}\r\n\r\nfunction runOnLoadEventsQueue() {\r\n    if (previousOnLoadEvent) {\r\n        previousOnLoadEvent();\r\n    }\r\n    for (var i = 0 ; i < onLoadEvents.length; i++) {\r\n        onLoadEvents[i]();\r\n    }\r\n}\r\n\r\nfunction savePreviousOnLoadEvent() {\r\n    if(!onLoadHandlerSaved){\r\n        previousOnLoadEvent = window.onload;\r\n        window.onload = runOnLoadEventsQueue;\r\n        onLoadHandlerSaved = true;\r\n    }\r\n}\r\n\r\n// }}}\r\n\r\nfunction setCaptchaMD5Hash(sid)\r\n{\r\n    var cookie = getCookie('captcha_' + sid);\r\n    if (cookie != null && cookie.length) {\r\n        clearInterval(eval(\"intervalId_\" + sid));\r\n        eval(\"captcha_\" + sid + \" = cookie;\");\r\n        var path    = null;\r\n        var domain  = null;\r\n        if (location) {\r\n            domain = location.host;\r\n            path = frontBaseHref.replace(/^\\w+\\:\\/\\/[^\\/]+/, '');\r\n        }\r\n        delCookie('captcha_' + sid, path, domain);\r\n    }\r\n}\r\n\r\nif (!Array.prototype.indexOf) {\r\n    Array.prototype.indexOf = function(val, fromIndex) {\r\n        if (typeof(fromIndex) != 'number') {\r\n            fromIndex = 0;\r\n        }\r\n        for (var index = fromIndex,len = this.length; index < len; index++) {\r\n            if (this[index] == val) {\r\n                return index;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\nif (!Array.prototype.splice) {\r\n    Array.prototype._splice = function(start) {\r\n        if (start >= this.length) {\r\n            return;\r\n        }\r\n        return this.slice(start);\r\n    }\r\n    Array.prototype._splice = function(start, deleteCount) {\r\n        if (start >= this.length) {\r\n            return;\r\n        }\r\n        return this.slice(0, start-1).concat(this.slice(start + deleteCount));\r\n    }\r\n}\r\n\r\nfunction cloneArray(source)\r\n{\r\n    var destination = [];\r\n    for (var i = 0 ; i < source.length ; i++) {\r\n        if (!(typeof(source[i]) == 'undefined')) {\r\n            destination[i] = source[i];\r\n        }\r\n    }\r\n    return destination;\r\n}\r\n\r\n/* products comparison */\r\n\r\nvar\r\n    mComparisonList = [],\r\n    mComparisonURL = '';\r\n\r\nfunction compare(key)\r\n{\r\n    if (compareProducts.indexOf(key) >= 0) {\r\n        alert(compareInComparisonAlready);\r\n        return false;\r\n    }\r\n    if (mComparisonList.length && !confirm(compareAddSelected)) {\r\n        return false;\r\n    }\r\n    if (compareProducts.length == compareMaxQuantity) {\r\n        alert(compareMaxMessage);\r\n        return false;\r\n    }\r\n    if (mComparisonList.indexOf(key) < 0) {\r\n        mComparisonList.push(key);\r\n    }\r\n\r\n    // check for different datasets\r\n    if (compareDisallowDifferentDatasets && compareProducts.length > 0) {\r\n        var datasetId = compareDatasetId;\r\n        var _mComparisonList = cloneArray(mComparisonList);\r\n        for (var i = 0, qty = _mComparisonList.length ; i < qty ; i++) {\r\n            var p = _mComparisonList[i].split('-'); // p[2] is containing datasetId now\r\n            if (!compareDatasetId) {\r\n                compareDatasetId = p[2];\r\n            }\r\n            if (compareDatasetId != p[2]) {\r\n                if (!confirm(compareConfirmOtherDataset)) {\r\n                    return false;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return mSubmitAddToCompare();\r\n}\r\n\r\nfunction compareClear()\r\n{\r\n    if (confirm(compareConfirmListClearing)) {\r\n        document.location = location.pathname + '?action=compareClear';\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction mCompare(oCheckbox)\r\n{\r\n    var key = oCheckbox.value;\r\n    if (oCheckbox.checked) {\r\n        // exclude duplicates\r\n        if (compareProducts.indexOf(key) >= 0) {\r\n            alert(compareInComparisonAlready);\r\n            oCheckbox.checked = false;\r\n            return false;\r\n        }\r\n        // check for max quantity of products to compare\r\n        if (compareProducts.length == compareMaxQuantity) {\r\n            alert(compareMaxMessage);\r\n            oCheckbox.checked = false;\r\n            return false;\r\n        }\r\n        // check for different datasets\r\n        if (compareDisallowDifferentDatasets) {\r\n            var p = key.split('-');\r\n            if ((compareProducts.length + mComparisonList.length) > 0 && p[2] != copmpareLastDatasetId && !confirm(compareConfirmOtherDataset)) {\r\n                oCheckbox.checked = false;\r\n                return false;\r\n            }\r\n            copmpareLastDatasetId = p[2];\r\n            // uncheck checked products having other dataset\r\n            var _mComparisonList = cloneArray(mComparisonList);\r\n            for (var i = 0, qty = _mComparisonList.length ; i < qty ; i++) {\r\n                var p = _mComparisonList[i].split('-');\r\n                if (p[2] != copmpareLastDatasetId) {\r\n                    var o = document.getElementById('cmp_' + _mComparisonList[i]);\r\n                    o.checked = false;\r\n                    mCompare(o);\r\n                }\r\n            }\r\n            // count real number of products to comapere after adding\r\n            var _compareProducts = cloneArray(compareProducts);\r\n            for (var i = 0, qty = compareProducts.length ; i < qty ; i++) {\r\n                var p = compareProducts[i].split('-');\r\n                if (p[2] != copmpareLastDatasetId) {\r\n                    var index = _compareProducts.indexOf(compareProducts[i]);\r\n                    if (Array.prototype.splice) {\r\n                        _compareProducts.splice(index, 1);\r\n                    } else {\r\n                        _compareProducts = mComparisonList._splice(index, 1);\r\n                    }\r\n                }\r\n            }\r\n            // check for max quantity of products to compare after manipulations\r\n            if (_compareProducts.length + mComparisonList.length >= compareMaxQuantity) {\r\n                alert(compareMaxMessage);\r\n                oCheckbox.checked = false;\r\n                return false;\r\n            }\r\n        }\r\n        mComparisonList.push(key);\r\n    } else {\r\n        var index = mComparisonList.indexOf(key);\r\n        if (index > -1) {\r\n            if (Array.prototype.splice) {\r\n                mComparisonList.splice(index, 1);\r\n            } else {\r\n                mComparisonList = mComparisonList._splice(index, 1);\r\n            }\r\n            copmpareLastDatasetId = compareDatasetId;\r\n        }\r\n    }\r\n}\r\n\r\nfunction mSubmitAddToCompare()\r\n{\r\n    var qty = mComparisonList.length;\r\n\r\n    if (!qty) {\r\n        alert(compareListIsEmpty);\r\n        return false;\r\n    }\r\n\r\n    var _mComparisonList = cloneArray(mComparisonList);\r\n\r\n    // check for added already products and exclude its from mComparisonList\r\n    for (var i = 0 ; i < qty ; i++) {\r\n        var index = compareProducts.indexOf(_mComparisonList[i]);\r\n        if (index >= 0) {\r\n            // exclude duplicate product\r\n            if (Array.prototype.splice) {\r\n                mComparisonList.splice(_mComparisonList.indexOf(mComparisonList[i]), 1);\r\n            } else {\r\n                mComparisonList = mComparisonList._splice(_mComparisonList.indexOf(mComparisonList[i]), 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    document.location = location.pathname + '?action=compare&products=' + _mComparisonList.join(';');\r\n    return false;\r\n}\r\n\r\nfunction mCompareSelected(url)\r\n{\r\n    if (mComparisonList.length < 2) {\r\n        if (mComparisonList.length < 1 && compareProducts.length > 1) {\r\n            window.open(frontBaseHref + url + '?p=' + compareProducts.join(';') + '&h=&v=all&lay_id=100');\r\n            return false;\r\n        }\r\n        alert(compareListInsufficient);\r\n        return false;\r\n    }\r\n    if (compareProducts.length && !confirm(compareConfirmPreviousClearing)) {\r\n        return false;\r\n    }\r\n    window.open(frontBaseHref + url + '?p=' + mComparisonList.join(';') + '&h=&v=all&lay_id=100');\r\n    return false;\r\n}\r\n\r\n/* /products comparison */\r\n\r\nfunction getXPos(elem){\r\n x = 0;\r\n do { x += elem.offsetLeft; }\r\n while((elem = elem.offsetParent) != null);\r\n return x;\r\n}\r\n\r\nfunction getYPos(elem){\r\n y = 0;\r\n do { y += elem.offsetTop; }\r\n while((elem = elem.offsetParent) != null);\r\n return y;\r\n}\r\n\r\nvar calendarBlock;\r\nvar calendarDateFieldName;\r\n\r\nfunction insertAfter(newChild, refChild) {\r\n    refChild.parentNode.insertBefore(newChild,refChild.nextSibling);\r\n}\r\n\r\nfunction getCalendar(in_dateField, lang, dateFormat, divIdPrefix){\r\n\r\n    var elevPrefix = typeof(divIdPrefix) == 'undefined' ? '' : divIdPrefix;\r\n\r\n    calendarTarget = in_dateField;\r\n    calendarBlock = document.getElementById(elevPrefix + \"calendar_block\");\r\n    if(calendarBlock && (calendarBlock.style.display!=\"block\" || (in_dateField.form.name + in_dateField.name!=calendarDateFieldName))){\r\n      calendarDateFieldName = in_dateField.form.name + in_dateField.name;\r\n      var pos = AMI.Browser.getObjectPosition(calendarTarget, true);\r\n      var cLeft = pos[0];\r\n      var cTop = pos[1];\r\n\r\n      var dconfAddon = '';\r\n      if(typeof(dateFormat) != 'undefined' && dateFormat != ''){\r\n        dconfAddon = '&date_format='+dateFormat;\r\n      }\r\n\r\n      document.getElementById(elevPrefix + \"calendar_block_frm\").src = \"calendar.php?v=2&lang=\"+lang+dconfAddon;\r\n      calendarBlock.style.position = 'absolute';\r\n      calendarBlock.style.display=\"block\";\r\n\r\n      calendarBlock.parentNode = null;\r\n      insertAfter(calendarBlock, calendarTarget);\r\n\r\n      var correctLeft = calendarTarget.offsetWidth + 10;\r\n      var correctTop = calendarTarget.offsetHeight;\r\n\r\n      calendarBlock.style.left = (cLeft + correctLeft) + 'px';\r\n      calendarBlock.style.top = (cTop + correctTop) + 'px';\r\n\r\n      document.getElementById(elevPrefix + \"calendar_block_frm\").contentWindow.document.body.focus();\r\n    }else if(calendarBlock){\r\n      calendarBlock.style.display=\"none\";\r\n    }\r\n}\r\n\r\nfunction replaceDateTitle(objId){\r\n    var objObj = document.getElementById(objId);\r\n    if(objObj){\r\n        var curDate = objObj.innerHTML;\r\n        var rxToday = new RegExp(DATE_CONVERTION[2].replace(/\\./g, \"\\\\.\"));\r\n        var rxYesterday = new RegExp(DATE_CONVERTION[3].replace(/\\./g, \"\\\\.\"));\r\n        curDate = curDate.replace(rxToday, DATE_CONVERTION[0]);\r\n        curDate = curDate.replace(rxYesterday, DATE_CONVERTION[1]);\r\n        objObj.innerHTML = curDate;\r\n    }\r\n}\r\n\r\n/*\r\nПример использования календаря\r\n<div  id=\"calendar_block\"  style=\"display:none;position:absolute;background-color:#f8f8f8;width:220px;height:345px;\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=100% height=100%><tr><td style=\"padding:0px;\"><iframe id=\"calendar_block_frm\" width=100% height=100% src=\"calendar.php\" frameborder=0 scrolling=no></iframe></td></tr></table></div>\r\n\r\n<form name=fltform>\r\nдата:\r\n<input type=\"text\" name=\"testday\" value=\"01.04.2007\">\r\n<a href=\"javascript:getCalendar(document.fltform.testday, 'ru');\">\r\n<img src=\"_img/calendar.gif\" border=0></a>\r\n</form>\r\n*/\r\n\r\nfunction saveURLHistory(){\r\n\tvar uh_prev_mod = getCookie('uh_prev_mod');\r\n\tvar uh_prev_url = getCookie('uh_prev_url');\r\n\tvar uh_curr_mod = getCookie('uh_curr_mod');\r\n\tvar uh_curr_url = getCookie('uh_curr_url');\r\n\r\n\tdelCookie('uh_prev_mod', \"/\");\r\n\tdelCookie('uh_prev_url', \"/\");\r\n\tdelCookie('uh_curr_mod', \"/\");\r\n\tdelCookie('uh_curr_url', \"/\");\r\n\r\n\tif(uh_curr_mod == null){\r\n\t\tsetCookie('uh_prev_mod', active_module, \"/\");\r\n\t\tsetCookie('uh_prev_url', active_module_link, \"/\");\r\n\t\tsetCookie('uh_curr_mod', active_module, \"/\");\r\n\t\tsetCookie('uh_curr_url', active_module_link, \"/\");\r\n\t}else if(uh_curr_mod != active_module){\r\n\t\tsetCookie('uh_prev_mod', uh_curr_mod, \"/\");\r\n\t\tsetCookie('uh_prev_url', uh_curr_url, \"/\");\r\n\t\tsetCookie('uh_curr_mod', active_module, \"/\");\r\n\t\tsetCookie('uh_curr_url', active_module_link, \"/\");\r\n\t}else{\r\n\t\tsetCookie('uh_prev_mod', uh_prev_mod, \"/\");\r\n\t\tsetCookie('uh_prev_url', uh_prev_url, \"/\");\r\n\t\tsetCookie('uh_curr_mod', active_module, \"/\");\r\n\t\tsetCookie('uh_curr_url', active_module_link, \"/\");\r\n\t}\r\n}\r\n\r\nsaveURLHistory();\r\n\r\nfunction amiFrontCommonClass(){\r\n    this.serialize = function(oData){\r\n        var result = '';\r\n        if(typeof(oData) == \"object\"){\r\n            if(oData instanceof Array){\r\n                result += 'a';\r\n                for(var i = 0; i < oData.length; i++){\r\n                    var item = oData[i].toString();\r\n                    result += item.length.toString() + '.' + item;\r\n                }\r\n            }else{\r\n                result += 'o';\r\n                for(var oKey in oData){\r\n                    result += oKey.length.toString() + '.' + oKey + oData[oKey].length.toString() + '.' + oData[oKey];\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    this.unserialize = function(oString){\r\n        var oData = null;\r\n        if(oString.charAt(0) == 'a' || oString.charAt(0) == 'o'){\r\n            var isArray = oString.charAt(0) == 'a';\r\n            if(isArray){\r\n                oData = [];\r\n            }else{\r\n                oData = new Object();\r\n            }\r\n            var dataLength = '';\r\n            var isShouldBeKey = isArray ? false : true;\r\n            var keyValue = '';\r\n            for(var i = 1; i < oString.length; i++){\r\n                if(oString.charAt(i).match(/\\d/)){\r\n                    dataLength += oString.charAt(i);\r\n                }else if(oString.charAt(i) == '.'){\r\n                    dataLength = parseInt(dataLength);\r\n                    if(isShouldBeKey){\r\n                        keyValue = oString.substr(i + 1, dataLength);\r\n                        isShouldBeKey = false;\r\n                    }else{\r\n                        if(isArray){\r\n                            oData[oData.length] = decodeURIComponent(oString.substr(i + 1, dataLength));\r\n                        }else{\r\n                            oData[keyValue] = decodeURIComponent(oString.substr(i + 1, dataLength));\r\n                            isShouldBeKey = true;\r\n                        }\r\n                        keyValue = '';\r\n                    }\r\n                    i = i + dataLength;\r\n                    dataLength = '';\r\n                }\r\n            }\r\n        }\r\n        return oData;\r\n    }\r\n}\r\nvar amiFrontCommon = new amiFrontCommonClass();\r\n\r\nfunction amiSessionClass(cookieName, sessionCookieName, cookieDays, cookieHours){\r\n\tthis.sessionCookieName = sessionCookieName;\r\n    this.cookieName = cookieName;\r\n    this.cookieDays = cookieDays;\r\n    this.cookieHours = cookieHours;\r\n    this.variables = new Object();\r\n\r\n    this.init = function(){\r\n        this.loadVariables();\r\n    }\r\n\r\n    this.setCookieName = function(value){\r\n        this.cookieName = value;\r\n    }\r\n\r\n    this.setCookieLifetime = function(iDays, iHours){\r\n        this.cookieDays = iDays;\r\n        this.cookieHours = iHours;\r\n    }\r\n\r\n    this.set = function(name, value){\r\n        this.variables[name] = value;\r\n        this.storeVariables();\r\n    }\r\n\r\n    this.del = function(name){\r\n        delete this.variables[name];\r\n        this.storeVariables();\r\n    }\r\n\r\n    this.get = function(name){\r\n        if(typeof(this.variables[name]) != 'undefined'){\r\n            return this.variables[name];\r\n        }\r\n        return '';\r\n    }\r\n\r\n    this.storeVariables = function(){\r\n        var sVariables = amiFrontCommon.serialize(this.variables);\r\n        setCookie(this.cookieName, sVariables, '/', this.cookieDays, this.cookieHours, true);\r\n    }\r\n\r\n    this.loadVariables = function(){\r\n        var sessionCookie = getCookie(this.sessionCookieName);\r\n        if(sessionCookie != null){\r\n            var sVariables = getCookie(this.cookieName, true);\r\n            this.variables = new Object();\r\n            if(sVariables != null){\r\n                this.variables = amiFrontCommon.unserialize(sVariables);\r\n                if(typeof(this.variables) != 'object'){\r\n                    this.variables = new Object();\r\n                }\r\n            }\r\n        }else{\r\n            delCookie(this.cookieName);\r\n        }\r\n    }\r\n\r\n    this.init();\r\n}\r\n\r\nvar amiSession = new amiSessionClass('user_session', sessionCookieName, 30, 0);\r\n//updateCookieExpireTime('user_session', sessionTimeout);\r\n\r\nfunction amiGetUsername(source){\r\n    var res;\r\n    switch(source){\r\n        case 'nickname':\r\n            res = amiSession.get('nickname_cookie');\r\n            break;\r\n        case 'username':\r\n            res = amiSession.get('username_cookie');\r\n            break;\r\n        default:\r\n            res = amiSession.get('firstname_cookie') + ' ' + amiSession.get('lastname_cookie');\r\n            res = res.replace(/^\\s*/, '').replace(/\\s*$/, '');\r\n    }\r\n    return res;\r\n}\r\n\r\nvar ratingForms = {};\r\n\r\nfunction addRatingForm(formName, itemId){\r\n    ratingForms[formName] = itemId;\r\n}\r\n\r\nfunction checkRatingForms(moduleName){\r\n    var ratings = AMI.Browser.Cookie.get('moduleRatings');\r\n    if(ratings){\r\n        var modules = ratings.split(';');\r\n        for(var i=0; i<modules.length; i++){\r\n            var module = modules[i].split(':');\r\n            if((module[0] == moduleName) && (module.length > 1)){\r\n                for(var j=1; j<module.length; j++){\r\n                    for(var formName in ratingForms){\r\n                        if((module[j] == ratingForms[formName]) && document.getElementsByName(formName)){\r\n                            document.getElementsByName(formName)[0].style.display = 'none';\r\n                            if(AMI.find('#rating_value')){\r\n                                AMI.find('#rating_value').style.display = 'none';\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// User menu functions\r\n\r\nfunction hideAllUserMenues(evt, id){\r\n  var oTarget = AMI.Browser.Event.getTarget(evt);\r\n  if((oTarget && oTarget.className == 'user_menu' ) || (oTarget.parentNode && oTarget.parentNode.className == 'user_menu')){\r\n    AMI.Browser.Event.stopProcessing(evt);\r\n    return;\r\n  }\r\n  var aMenues = AMI.find('.user_menu');\r\n  for (i = 0; i < aMenues.length; i++){\r\n    if(id && (aMenues[i].id == 'user_menu_ul_'+id || aMenues[i].id == 'forum_watching_menu_ul_'+id)){\r\n    }else{\r\n      //aMenues[i].style.visibility = 'hidden';\r\n      AMI.UI.Effects.fadeOut(aMenues[i], 300);\r\n    }\r\n  }\r\n\r\n  if(document.getElementById('forum_watching_menu_li_watch') && document.getElementById('forum_watching_menu_li_watch').style.visibility == 'visible'){\r\n\tAMI.UI.Effects.fadeOut(document.getElementById('forum_watching_menu_li_watch'), 300);\r\n  }\r\n  if(document.getElementById('forum_watching_menu_li_stop_watching') && document.getElementById('forum_watching_menu_li_stop_watching').style.visibility == 'visible'){\r\n\t  AMI.UI.Effects.fadeOut(document.getElementById('forum_watching_menu_li_stop_watching'), 300);\r\n  }\r\n}\r\n\r\nfunction showUserMenu(evt, id) {\r\n  var oMenu = AMI.find('#user_menu_ul_' + id);\r\n\r\n\tif(oMenu.style.visibility == 'visible'){\r\n\t  //oMenu.style.display = 'none';\r\n    AMI.UI.Effects.fadeOut(oMenu, 300);\r\n\t} else {\r\n    hideAllUserMenues(evt, id);\r\n\t  //oMenu.style.display = 'block';\r\n    AMI.UI.Effects.fadeIn(oMenu, 300);\r\n\t}\r\n  AMI.Browser.Event.stopProcessing(evt);\r\n}\r\n\r\nfunction getWatchingStatus(status, content){\r\n\tif(status == 1){\r\n\t\tif(content == 'watch'){\r\n\t\t\tif(document.getElementById('forum_watching_menu_li_watch')){\r\n\t\t\t\tdocument.getElementById('forum_watching_menu_li_watch').style.visibility = 'visible';\r\n\t\t\t\tdocument.getElementById('forum_watching_menu_li_watch').style.display = 'block';\r\n\t\t\t}\r\n\t\t\tif(document.getElementById('forum_watching_menu_li_stop_watching')){\r\n\t\t\t\tdocument.getElementById('forum_watching_menu_li_stop_watching').style.visibility = 'hidden';\r\n\t\t\t\tdocument.getElementById('forum_watching_menu_li_stop_watching').style.display = 'none';\r\n\t\t\t}\r\n\t\t}else if(content == 'stop_watching'){\r\n\t\t\tif(document.getElementById('forum_watching_menu_li_watch')){\r\n\t\t\t\tdocument.getElementById('forum_watching_menu_li_watch').style.visibility = 'hidden';\r\n\t\t\t\tdocument.getElementById('forum_watching_menu_li_watch').style.display = 'none';\r\n\t\t\t}\r\n\t\t\tif(document.getElementById('forum_watching_menu_li_stop_watching')){\r\n\t\t\t\tdocument.getElementById('forum_watching_menu_li_stop_watching').style.visibility = 'visible';\r\n\t\t\t\tdocument.getElementById('forum_watching_menu_li_stop_watching').style.display = 'block';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction hideForumWatchingLinks(){\r\n\tif(document.getElementById('forum_watching_menu_li_watch')){\r\n\t\tdocument.getElementById('forum_watching_menu_li_watch').style.visibility = 'hidden';\r\n\t\tdocument.getElementById('forum_watching_menu_li_watch').style.display = 'none';\r\n\t}\r\n\tif(document.getElementById('forum_watching_menu_li_stop_watching')){\r\n\t\tdocument.getElementById('forum_watching_menu_li_stop_watching').style.visibility = 'hidden';\r\n\t\tdocument.getElementById('forum_watching_menu_li_stop_watching').style.display = 'none';\r\n\t}\r\n}\r\n\r\nfunction showForumWatchingMenu(evt, id){\r\n\tvar oMenu = AMI.find('#forum_watching_menu_ul_' + id);\r\n\r\n\tif(oMenu.style.visibility == 'visible'){\r\n\t\tAMI.UI.Effects.fadeOut(oMenu, 300);\r\n\t\tAMI.UI.Effects.fadeOut(document.getElementById('forum_watching_menu_li_watch'), 300);\r\n\t\tAMI.UI.Effects.fadeOut(document.getElementById('forum_watching_menu_li_stop_watching'), 300);\r\n\t}else{\r\n\t\thideAllUserMenues(evt, id);\r\n\t\tAMI.UI.Effects.fadeIn(oMenu, 300);\r\n\t\tAMI.HTTPRequest.getContent('GET', '/ami_service.php', 'service=forum&action=get_watching_status&id_topic=' + parseInt(id) + '&scname=' + window.sessionCookieName, getWatchingStatus);\r\n\t}\r\n\tAMI.Browser.Event.stopProcessing(evt);\r\n}\r\n\r\nvar pageLoaded = false;\r\naddOnLoadEvent(function(){\r\n    window.pageLoaded = true;\r\n    if(AMI.UI._savedAlert && !window.onloadAlerted){\r\n        var oAlertWindow = AMI.find('#status_message');\r\n        if (oAlertWindow){\r\n            var statusText = oAlertWindow.innerHTML.replace(/<script>[^<\\/script>]*<\\/script>/g, \"\");\r\n            alert(statusText);\r\n        }\r\n    }\r\n});\r\n\r\nsavePreviousOnLoadEvent();\r\n\r\nfunction loadMobileVersion(){\r\n      AMI.Cookie.set('forceMobile', '1', 3600, '\\\\');\r\n      AMI.Cookie.del('forceDesktop');\r\n      window.location.reload();\r\n}\r\nfunction loadDesktopVersion(){\r\n      if(isMobileDevice()){\r\n          AMI.Cookie.set('forceDesktop', '1', 3600, '\\\\');\r\n      }else{\r\n          AMI.Cookie.del('forceDesktop');\r\n      }\r\n      AMI.Cookie.del('forceMobile');\r\n      window.location.reload();\r\n}\r\n\r\nfunction isMobileLayout(){\r\n    return (typeof(bMobileLayout)=='undefined')? false : bMobileLayout;\r\n}\r\n\r\nfunction isMobileDevice(){\r\n    return ((screen.width <= 480) || (document.body.clientWidth <= 480));\r\n}\r\n\r\nfunction checkDeviceAndLoadVersion(){\r\n\r\n  var forceMobile = AMI.Cookie.get('forceMobile');\r\n  var forceDesktop = AMI.Cookie.get('forceDesktop');\r\n  var bMobileLayout = isMobileLayout();\r\n  var bMobileDevice = isMobileDevice();\r\n\r\n  if((forceMobile=='1') && !bMobileLayout){\r\n      loadMobileVersion();\r\n      return;\r\n  }\r\n\r\n  if((forceDesktop=='1') && bMobileLayout){\r\n      loadDesktopVersion();\r\n      return;\r\n  }\r\n\r\n  if(bMobileDevice && !bMobileLayout && (forceDesktop==null) && (forceMobile==null)){\r\n      loadMobileVersion();\r\n      return;\r\n  }\r\n}\r\n\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/front_system.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/front_filter.js\r\n */\r\n\r\nvar flagNames = [];\r\nvar flagMaps = [];\r\n\r\nfunction _dec_to_rgb(value) {\r\n  var hex_string = \"\";\r\n  for (var hexpair = 0; hexpair < 3; hexpair++) {\r\n    var onebyte = value & 0xFF;            // get low onebyte\r\n    value >>= 8;                        // drop low onebyte\r\n    var nybble2 = onebyte & 0x0F;          // get low nybble (4 bits)\r\n    var nybble1 = (onebyte >> 4) & 0x0F;   // get high nybble\r\n    hex_string += nybble1.toString(16); // convert nybble to hex\r\n    hex_string += nybble2.toString(16); // convert nybble to hex\r\n  }\r\n  return hex_string.toUpperCase();\r\n}\r\n\r\n\r\nfunction flagMapAdd(name, num, isCr){\r\n    if(!isNaN(num)){\r\n        mapID = -1;\r\n        for(i = 0; i < flagNames.length; i++){\r\n            if(flagNames[i] == name){\r\n                mapID = i;\r\n                break;\r\n            }\r\n        }\r\n        if(mapID == -1){\r\n            mapID = flagNames.length;\r\n            flagNames[mapID] = name;\r\n            flagMaps[mapID] = [];\r\n        }\r\n        if(flagMaps[mapID].length < num){\r\n            for(i = 0; i < num; i++)\r\n                if(!flagMaps[mapID][i])\r\n                    flagMaps[mapID][i] = 0;\r\n        }\r\n        if(!isCr)\r\n            flagMaps[mapID][num-1] = 1;\r\n    }\r\n}\r\n\r\nfunction arrToHex(arrIn){\r\n    realValTmp = \"\";\r\n    realVal = \"\";\r\n    var tmp = \"\";\r\n    var isLastProcessed = true;\r\n    for(k = 1; k <= arrIn.length; k++){\r\n        isLastProcessed = false;\r\n        tmp = arrIn[k-1]+tmp;\r\n        if(k % 4 == 0){\r\n            realValTmp += parseInt(tmp, 2).toString(16);\r\n            tmp = \"\";\r\n            isLastProcessed = true;\r\n        }\r\n    }\r\n    if(!isLastProcessed)\r\n        realValTmp += parseInt(tmp, 2).toString(16);\r\n    hexZeroStart = true;\r\n    for(k = realValTmp.length-1; k >= 0; k--){\r\n        if(realValTmp.substr(k, 1) != \"0\" || !hexZeroStart){\r\n            realVal += realValTmp.substr(k, 1);\r\n            hexZeroStart = false;\r\n        }\r\n    }\r\n    return realVal;\r\n}\r\n\r\nfunction CheckFilterForms(fform, isSearchForm, isOrder, skipOffestSetting) {\r\n    var forceSubmitUrl;\r\n    var _tmpVarName;\r\n    _tmpVarName = fform.name + \"_forceSubmitUrl\";\r\n\r\n    forceSubmitUrl = eval(\"if(typeof(\"+_tmpVarName+\") != 'undefined') {\"+_tmpVarName+\"} else {''}\");\r\n\r\n    if(isOrder != 1)\r\n        isOrder = 0;\r\n\r\n  // special run over checkbox filter fields\r\n               //if()\r\n  for(var i=0; i<fform.length; i++){\r\n   el = fform.elements[i];\r\n   if(el.type == 'checkbox' && el.name.indexOf(\"[]\") <= 0){\r\n     val = (el.checked)?1:0;\r\n     el.value = val;\r\n     cname=el.name;\r\n\r\n     if(fform.elements[cname] && (fform.elements[cname].type=='hidden')){\r\n         if(typeof(fform.elements[\"enc_\"+cname])=='object') {\r\n            fform.elements[\"enc_\"+cname].value = val;\r\n         }\r\n         fform.elements[cname].value = val;\r\n     }\r\n   }\r\n  }\r\n\r\n  if(typeof(skipOffestSetting) == 'undefined'){\r\n      if(typeof(fform.elements['offset'])=='object') {\r\n       fform.elements['offset'].value = 0;\r\n      }\r\n      if(typeof(fform.elements['enc_offset'])=='object') {\r\n       fform.elements['enc_offset'].value = 0;\r\n      }\r\n  }\r\n\r\n  // Create the submit URL\r\n  flagNames = [];\r\n  flagMaps = [];\r\n  var submitURL = '';\r\n  if(forceSubmitUrl != '') {\r\n      submitURL = forceSubmitUrl;\r\n  }else{\r\n      submitURL = _cms_script_link;\r\n  }\r\n  for(var i=0; i < fform.length; i++){\r\n   el = fform.elements[i];\r\n   elName = el.name;\r\n   if(el.name.indexOf(\"prop_\") >= 0 && isOrder){\r\n       if((fpos = el.name.lastIndexOf(\"_x\")) >= 0){\r\n            elName = el.name.substr(0, fpos);\r\n       }\r\n       elName += \"[]\";\r\n   }\r\n   if(el.type == 'checkbox'){\r\n     if(el.checked){\r\n         if((fpos = el.name.indexOf(\"_flag_\")) >= 0){\r\n            flagMapAdd(el.name.substr(0, fpos), parseInt(el.name.substr(fpos+6)), 0);\r\n         }else if(el.value != ''){\r\n            submitURL += '&'+elName+'='+encodeURIComponent(el.value);\r\n         }\r\n     }else{\r\n         if((fpos = el.name.indexOf(\"_flag_\")) >= 0){\r\n            flagMapAdd(el.name.substr(0, fpos), parseInt(el.name.substr(fpos+6)), 1);\r\n         }else{\r\n             //if(el.name.indexOf(\"[]\") <= 0) /* do not process array items */\r\n             //   submitURL += '&'+elName+'=';\r\n         }\r\n     }\r\n   }else if(el.type == 'select-one'){\r\n     if((fpos = el.name.indexOf(\"_flag\")) >= 0){\r\n        flagMapAdd(el.name.substr(0, fpos), parseInt(el.value), 0);\r\n     }else if(el.value != ''){\r\n         submitURL += '&'+elName+'='+encodeURIComponent(el.value);\r\n     }\r\n   }else if(el.type == 'select-multiple'){\r\n     fpos = el.name.indexOf(\"_flag\");\r\n     for(k = 0; k < el.length; k++){\r\n       if(el.options[k].selected){\r\n          if(fpos >= 0){\r\n            flagMapAdd(el.name.substr(0, fpos), parseInt(el.options[k].value), 0);\r\n          }else{\r\n            submitURL += '&'+encodeURIComponent(elName)+'='+encodeURIComponent(el.options[k].value);\r\n          }\r\n       }\r\n     }\r\n   }else if(el.type == 'radio'){\r\n     if(el.checked){\r\n         if((fpos = el.name.indexOf(\"_flag\")) >= 0){\r\n            flagMapAdd(el.name.substr(0, fpos), parseInt(el.value), 0);\r\n         }else{\r\n             submitURL += '&'+elName+'='+encodeURIComponent(el.value);\r\n         }\r\n     }\r\n   }else{\r\n     if(el.name == \"action\" && ((!isOrder && fform.search_subcats && fform.search_subcats.checked) || isSearchForm)) {\r\n        submitURL += '&action=search';\r\n     } else if(el.value != '' && elName != 'btnFlt_apply' && (!isOrder || el.name != \"action\" && el.name != \"order\")) {\r\n        submitURL += '&'+elName+'='+encodeURIComponent(el.value);\r\n     }\r\n   }\r\n  }\r\n  for(i = 0; i < flagMaps.length; i++){\r\n    if(flagNames[i]){\r\n     submitURL += '&'+flagNames[i]+'=0x'+arrToHex(flagMaps[i]);\r\n    }\r\n  }\r\n  if(isOrder)\r\n    submitURL += '&eshop_special=1&action=add';\r\n\r\n  document.location.href=submitURL;\r\n  return false;\r\n}\r\n\r\nfunction checkSearchForms(fform, fltFormName) {\r\n  if(typeof(fltFormName) != 'undefined') {\r\n      _cms_document_form = fltFormName;\r\n  } else if(typeof(_cms_document_form) == 'undefined') {\r\n    _cms_document_form = _cms_filter_form;\r\n  }\r\n\r\n  var sform = document.forms[_cms_document_form];\r\n  // special run over checkbox filter fields\r\n  for(var i=0; i<fform.length; i++){\r\n   el = fform.elements[i];\r\n   if(el.type == 'text'){\r\n     cname=el.name;\r\n\r\n     if(sform.elements[cname] && (sform.elements[cname].type=='hidden')){\r\n         if(typeof(sform.elements[\"enc_\"+cname])=='object') {\r\n            sform.elements[\"enc_\"+cname].value = el.value;\r\n         }\r\n         sform.elements[cname].value = el.value;\r\n     }\r\n   }\r\n  }\r\n  CheckFilterForms(sform, 1);\r\n  return false;\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/front_filter.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.js\r\n */\r\n\r\n/**\r\n* @fileOverview File contains AMI container with AMI global functions description.\r\n*/\r\n\r\n/**\r\n* Base container of Amiro JS API classes.\r\n*\r\n* @class Base container of Amiro JS API classes.\r\n*/\r\nvar AMI = {\r\n    /**\r\n    * Inherit one class from other and creating superclass definition in child.\r\n    *\r\n    * @example <strong>Example of inheriting classes:</strong>\r\n    * parentClass = function(param1, param2){}\r\n    * childClass = function(param1, param2){\r\n    *     AMI.ModuleComponentCustom.superclass.constructor.call(this, param1, param2);\r\n    *     // Child class methods further\r\n    * }\r\n    * AMI.inherit(childClass, parentClass);\r\n    *\r\n    * @param {function} oChildClass Class that should be inherited.\r\n    * @param {function} oParentClass Parent class object.\r\n    * @returns {void}\r\n    */\r\n    inherit: function(oChildClass, oParentClass){\r\n        var oTmp = function(){};\r\n        oTmp.prototype = oParentClass.prototype;\r\n        oChildClass.prototype = new oTmp();\r\n        oChildClass.prototype.constructor = oChildClass;\r\n        oChildClass.superclass = oParentClass.prototype;\r\n    },\r\n\r\n    /**\r\n    * Find element in DOM by id, class or tag.\r\n    *\r\n    * @param {string} search Search string in format \"#idOfElement\" or \".classNameOfElement\" or \"tagName\".\r\n    * @param {DOM object} oParent DOM element where target element will be searched.\r\n    * @returns {mixed} Found element or null in case of search by ID, array of elements in other search cases.\r\n    */\r\n    find: function(search, oParent){\r\n        oParent = oParent || document;\r\n        if(search.lastIndexOf('[') >= 0){\r\n            var parts = search.match(/\\[(.*)\\]/ig);\r\n            if(typeof(parts[0]) != 'undefined'){\r\n                parts = parts[0].split('=');\r\n                if(parts.length == 2){\r\n                    var attribute = parts[0].substr(1);\r\n                    var value = parts[1].substr(0, parts[1].length-1);\r\n                }\r\n                search = search.substr(0, search.lastIndexOf('['));\r\n            }\r\n        }\r\n\r\n        var result = null;\r\n        var singleObject = false;\r\n        if(search.length > 0){\r\n            if(search.substr(0, 1) == '#'){\r\n                result = document.getElementById(search.substr(1));\r\n                singleObject = true;\r\n            }else if(search.substr(0, 1) == '.'){\r\n                search = search.substr(1);\r\n                if(oParent.getElementsByClassName){\r\n                    result = oParent.getElementsByClassName(search);\r\n                }else{\r\n                    var aElements = oParent.getElementsByTagName('*');\r\n                    var aResult = [];\r\n                    for(var i = 0; i < aElements.length; i++){\r\n                        var rx = new RegExp('(^| )' + search + '( |$)', 'i');\r\n                        if(rx.test(aElements[i].className)){\r\n                            aResult.push(aElements[i]);\r\n                        }\r\n                    }\r\n                    result = aResult;\r\n                }\r\n            }else{\r\n                result = oParent.getElementsByTagName(search);\r\n            }\r\n        }else{\r\n            result = oParent.getElementsByTagName('*');\r\n        }\r\n\r\n        // Check attributes if needed\r\n        if((result != null) && (typeof(attribute) != 'undefined') && (typeof(value) != 'undefined')){\r\n            var res = null;\r\n            if(!singleObject){\r\n                for(var i=0; i < result.length; i++){\r\n                    var element = result[i];\r\n                    var val = (element.getAttribute && element.getAttribute(attribute)) || null;\r\n                    if( !val ) {\r\n                        var attrs = element.attributes;\r\n                        var length = attrs.length;\r\n                        for(var j = 0; j < length; j++){\r\n                            if(attrs[j].nodeName === attribute){\r\n                                val = attrs[j].nodeValue;\r\n                            }\r\n                        }\r\n                    }\r\n                    if(val == value){\r\n                        if (res == null){\r\n                            res = [];\r\n                        }\r\n                        res.push(element);\r\n                    }\r\n                }\r\n                result = res;\r\n            }else{\r\n                if((typeof(result.attributes[attribute]) == 'undefined') || (result.attributes[attribute] != value)){\r\n                    result = null;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n\r\n    /**\r\n    * Animated scroll to any object on page.\r\n    *\r\n    * @param {DOM object} oElement DOM element to scroll to.\r\n    * @param {number} paddingLeftTop Padding from left and top (equal) that shold be left after scrolling if possible.\r\n    * @returns {void}\r\n    */\r\n    scrollTo: function(oElement, paddingLeftTop){\r\n        /**\r\n        * @private\r\n        */\r\n        this.move = function(){\r\n            this.step++;\r\n\r\n            if(this.step == this.numberOfSteps){\r\n                this.currentPosition[0] = this.aMoveTo[0];\r\n                this.currentPosition[1] = this.aMoveTo[1];\r\n            }else{\r\n                this.currentPosition[0] += (this.aMoveTo[0] - this.currentPosition[0]) / (this.numberOfSteps - this.step);\r\n                this.currentPosition[1] += (this.aMoveTo[1] - this.currentPosition[1]) / (this.numberOfSteps - this.step);\r\n            }\r\n            var\r\n                x = Math.ceil(this.currentPosition[0]),\r\n                y = Math.ceil(this.currentPosition[1]);\r\n\r\n            if(typeof(window.scrollTo) == 'function'){\r\n                window.scrollTo(x, y);\r\n            }else{\r\n                AMI.Browser.setDocumentLeft(x);\r\n                AMI.Browser.setDocumentTop(y);\r\n            }\r\n            if(this.currentPosition[0] != this.aMoveTo[0] || this.currentPosition[1] != this.aMoveTo[1]){\r\n                setTimeout(function(_this){return function(){_this.move()}}(this), 10);\r\n            }\r\n        }\r\n\r\n        this.oElement = oElement;\r\n        this.numberOfSteps = 15;\r\n        this.step = 0;\r\n        if(typeof(this.oElement) == 'object'){\r\n            this.aMoveTo = AMI.Browser.getObjectPosition(this.oElement);\r\n            if(typeof(paddingLeftTop) != 'undefined'){\r\n                this.aMoveTo[0] = Math.max(0, this.aMoveTo[0] - paddingLeftTop);\r\n                this.aMoveTo[1] = Math.max(0, this.aMoveTo[1] - paddingLeftTop);\r\n            }\r\n            this.currentPosition = [AMI.Browser.getDocumentLeft(), AMI.Browser.getDocumentTop()];\r\n            this.move();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Check if element has class 'className'.\r\n     *\r\n     * @param {number} element DOM element\r\n     * @param {string} className class name\r\n     * @returns {bool}\r\n     */\r\n    hasClass: function (element, className){\r\n        return (element.className != undefined) ? element.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)')) : false;\r\n    },\r\n\r\n    /**\r\n     * Adds specified class name to the DOM element.\r\n     *\r\n     * @param {number} element DOM element\r\n     * @param {string} className class name\r\n     * @returns {void}\r\n     */\r\n    addClass: function(element, className){\r\n        if(!this.hasClass(element, className)){\r\n            element.className += \" \" + className;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Removes specified class name out of the DOM element.\r\n     *\r\n     * @param {number} element DOM element\r\n     * @param {string} className class name\r\n     * @returns {void}\r\n     */\r\n    removeClass: function(element, className){\r\n        if(this.hasClass(element, className)){\r\n            var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n            element.className=element.className.replace(reg,' ').replace('\\\\w+', ' ');\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.browser.js\r\n */\r\n\r\nAMI.Browser = {\n    isIE: document.swapNode,\n    isOpera: window.opera,\n    isIOS: navigator.appVersion.indexOf('iPad;') >= 0 || navigator.appVersion.indexOf('iPhone;') >= 0 || navigator.appVersion.indexOf('iPod;') >= 0,\n    isSensor: this.isIOS || navigator.appVersion.indexOf('Android') >= 0 || navigator.appVersion.indexOf('Symbian') >= 0 || navigator.appVersion.indexOf('Windows CE') >= 0,\n    isLowResolution: screen.width <= 800 || screen.height <= 480,\n\n    getWindowWidth : function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n        }\n        return oWindow.document.compatMode == 'CSS1Compat' ? oWindow.document.documentElement.clientWidth : oWindow.document.body.clientWidth;\n    },\n\n    getWindowHeight : function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n        }\n        return oWindow.document.compatMode == 'CSS1Compat' ? oWindow.document.documentElement.clientHeight : oWindow.document.body.clientHeight;\n    },\n\n    getDocumentWidth : function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n        }\n        return Math.max(oWindow.document.compatMode != 'CSS1Compat' ? oWindow.document.body.scrollWidth : oWindow.document.documentElement.scrollWidth, this.getWindowWidth(oWindow));\n    },\n\n    getDocumentHeight : function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n        }\n        return Math.max(oWindow.document.compatMode != 'CSS1Compat' ? oWindow.document.body.scrollHeight : oWindow.document.documentElement.scrollHeight, this.getWindowHeight(oWindow));\n    },\n\n    getDocumentLeft: function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n            var oDocument = document;\n        }else{\n            oDocument = oWindow.document;\n        }\n        return oWindow.pageXOffset || (oDocument.documentElement && oDocument.documentElement.scrollLeft) || (oDocument.body && oDocument.body.scrollLeft);\n    },\n\n    getDocumentTop: function(oWindow){\n        if(typeof(oWindow) == 'undefined'){\n            oWindow = window;\n            var oDocument = document;\n        }else{\n            oDocument = oWindow.document;\n        }\n        return oWindow.pageYOffset || (oDocument.documentElement && oDocument.documentElement.scrollTop) || (oDocument.body && oDocument.body.scrollTop);\n    },\n\n    setDocumentLeft: function(value){\n        if(document.documentElement){\n            document.documentElement.scrollLeft = value;\n        }else if(document.body){\n            document.body.scrollLeft = value;\n        }\n    },\n\n    setDocumentTop: function(value){\n        if(document.documentElement){\n            document.documentElement.scrollTop = value;\n        }else if(document.body){\n            document.body.scrollTop = value;\n        }\n    },\n\n    getPointerPosition : function(oEvent){\n        var aData = [0, 0];\n        oEvent = AMI.Browser.Event.validate(oEvent);\n        if(oEvent.pageX || oEvent.pageY){\n            aData[0] = oEvent.pageX;\n            aData[1] = oEvent.pageY;\n        }else if(oEvent.clientX || oEvent.clientY){\n            aData[0] = oEvent.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft) - document.documentElement.clientLeft;\n            aData[1] = oEvent.clientY + (document.documentElement.scrollTop || document.body.scrollTop) - document.documentElement.clientTop;\n        }\n        return aData;\n    },\n\n    getObjectPosition : function(oObject, bStopOnRelative){\n        if(typeof(bStopOnRelative) == 'undefined'){\n            bStopOnRelative = false;\n        }\n        var aData = [0, 0];\n        if(!oObject) return aData;\n        do{\n            if(bStopOnRelative){\n                var positionStyle = AMI.Browser.DOM.getStyle(oObject, 'position');\n                if(positionStyle == 'relative' || positionStyle == 'absolute' || positionStyle == 'fixed'){\n                    break;\n                }\n            }\n            aData[0] += oObject.offsetLeft;\n            aData[1] += oObject.offsetTop;\n        }while((oObject = oObject.offsetParent) != null);\n        return aData;\n    },\n\n    getCaretPosition : function(textObject){\n        var result = 0;\n        textObject.focus();\n        if(textObject.selectionStart){\n            result = textObject.selectionStart;\n        }else if(document.selection){\n            var rangeSelect = document.selection.createRange();\n            rangeSelect.collapse(true);\n            var rangeObject = textObject.createTextRange();\n            if(rangeObject.inRange(rangeSelect)){\n                rangeObject.setEndPoint('EndToEnd', rangeSelect);\n                result = rangeObject.text.length\n            }\n        }\n        return result;\n    },\n\n    setCaretPosition : function(textObject, position){\n        textObject.focus();\n        if(textObject.selectionStart){\n            textObject.selectionStart = position;\n            textObject.selectionEnd = position;\n        }else if(document.selection){\n            var rangeObject = textObject.createTextRange();\n            rangeObject.move('character', position);\n            rangeObject.select();\n        }\n    },\n\n    setOpacity: function(oElement, iOpacity){\n        if(typeof(oElement.style.MozOpacity) != \"undefined\"){\n            oElement.style.MozOpacity = iOpacity;\n        }else if(typeof(oElement.style.opacity) != \"undefined\"){\n            oElement.style.opacity = iOpacity;\n        }else if(typeof(oElement.style.KhtmlOpacity) != \"undefined\"){\n            oElement.style.KhtmlOpacity = iOpacity;\n        }else{\n            oElement.style.filter = \"progid:DXImageTransform.Microsoft.Alpha(opacity=\" + (iOpacity * 100) + \");\";\n        }\n    }\n}\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.browser.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.browser.cookie.js\r\n */\r\n\r\nAMI.Browser.Cookie = {\r\n    set : function(sName, sValue, iHours){\r\n      var oDate = new Date();\r\n      if(typeof(iHours) == \"undefined\"){\r\n        iHours = 1;\r\n      }\r\n      oDate.setHours(oDate.getHours() + iHours);\r\n      this.del(sName);\r\n      document.cookie = sName + \"=\" + escape(sValue) + \"; path=/; expires=\"+oDate.toGMTString();\r\n    },\r\n\r\n    del : function(sName) {\r\n        if(this.get(sName)){\r\n            document.cookie = sName + \"=\" + \"; path=/ ;expires=Thu, 01-Jan-1970 00:00:01 GMT\";\r\n        }\r\n    },\r\n\r\n    get : function(sName){\r\n        var cookiePairs = document.cookie.split('; ');\r\n        for(var i=0;i<cookiePairs.length;i++){\r\n            var cookieName = cookiePairs[i].substr(0, cookiePairs[i].indexOf('='));\r\n            var cookieValue = cookiePairs[i].substr(cookiePairs[i].indexOf('=') + 1);\r\n            if(cookieName == sName){\r\n                return unescape(cookieValue);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.browser.cookie.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.browser.event.js\r\n */\r\n\r\nAMI.Browser.Event = {\r\n\r\n    globalEvent: null,\r\n\r\n    validate: function(oEvent){\r\n        return oEvent ? oEvent : window.event;\r\n    },\r\n\r\n    getTarget: function(oEvent){\r\n        oEvent = this.validate(oEvent);\r\n        if(oEvent && typeof(oEvent.srcElement) == 'unknown') return null; // IE hack\r\n        return (oEvent) ? (oEvent.srcElement || oEvent.target) : null;\r\n    },\r\n\r\n    fire: function(oTarget, sEvent){\r\n        if(document.createEventObject){\r\n            var oEvent = document.createEventObject();\r\n            oTarget.fireEvent('on' + sEvent, oEvent);\r\n        }else if(document.createEvent){\r\n            var oEvent = document.createEvent(\"HTMLEvents\");\r\n            oEvent.initEvent(sEvent, true, true);\r\n            oTarget.dispatchEvent(oEvent);\r\n        }else{\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n\r\n    addHandler: function(oTarget, sEvent, oHandler){\r\n        if(typeof(oTarget.addEventListener) != 'undefined'){\r\n            if(sEvent == 'mousewheel'){\r\n                // Mozilla hack\r\n                oTarget.addEventListener('DOMMouseScroll', oHandler, false);\r\n            }\r\n            oTarget.addEventListener(sEvent, oHandler, false);\r\n        }else{\r\n            oTarget.attachEvent('on' + sEvent, oHandler);\r\n        }\r\n        return oHandler;\r\n    },\r\n\r\n    removeHandler: function(oTarget, sEvent, oHandler){\r\n        if(typeof(oTarget.removeEventListener) != 'undefined'){\r\n            if(sEvent == 'mousewheel'){\r\n                sEvent = 'DOMMouseScroll';\r\n            }\r\n            oTarget.removeEventListener(sEvent, oHandler, false);\r\n        }else if(oTarget.detachEvent){\r\n            oTarget.detachEvent('on' + sEvent, oHandler);\r\n        }\r\n    },\r\n\r\n    stopProcessing: function(oEvent){\r\n        oEvent = this.validate(oEvent);\r\n        if(typeof(oEvent.stopPropagation) != 'undefined'){\r\n            oEvent.stopPropagation();\r\n        }else if(typeof(oEvent.cancelBubble) != 'undefined'){\r\n            oEvent.cancelBubble = true;\r\n        }\r\n        if(typeof(oEvent.preventDefault) != 'undefined'){\r\n            oEvent.preventDefault();\r\n        }else{\r\n            oEvent.returnValue = false;\r\n        }\r\n    }\r\n}\r\n\r\nAMI.Browser.Event.addHandler(window,'load', function(){\r\n    AMI.Browser.Event.addHandler(document.body,'mousedown', function(e){\r\n        AMI.Browser.Event.globalEvent = (e) ? e :((window.event) ? window.event : null);\r\n    });\r\n});\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.browser.event.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.browser.dom.js\r\n */\r\n\r\nAMI.Browser.DOM = {\r\n    create: function(sTagName, sId, sClassName, sStyles, oParentNode){\r\n        var oObject = document.createElement(sTagName);\r\n        if(typeof(sId) != 'undefined' && sId != ''){\r\n            oObject.id = sId;\r\n        }\r\n        if(typeof(sClassName) != 'undefined' && sClassName != ''){\r\n            oObject.className = sClassName;\r\n        }\r\n        if(typeof(sStyles) != 'undefined' && sStyles != ''){\r\n            oObject.style.cssText = sStyles;\r\n        }\r\n        return oParentNode == null ? oObject : this.append(oParentNode, oObject);\r\n    },\r\n\r\n    append: function(oParentNode, oNode){\r\n\r\n        return oParentNode.appendChild(oNode);\r\n    },\r\n\r\n    remove: function(oNode){\r\n        oNode.parentNode.removeChild(oNode);\r\n        return this;\r\n    },\r\n\r\n    setInnerHTML: function(oNode, HTML){\r\n        var aJavaScripts = [];\r\n        // TODO: get back comments replacement. Commented because amiro-template structure <s cript><!-- --></s cript>\r\n        //HTML = HTML.replace(/<!--[\\s\\S]*?-->/ig, '').replace(/(<script[\\s\\S]*?>)([\\s\\S]*?)(<\\/script>)/ig, function(_aJavaScripts){return function(match, tagStart, code, tagEnd){\r\n        HTML = HTML.replace(/(<script[\\s\\S]*?>)([\\s\\S]*?)(<\\/script>)/ig, function(_aJavaScripts){return function(match, tagStart, code, tagEnd){\r\n            if(tagStart.indexOf('text/javascript') != -1){\r\n                if(tagStart.indexOf('src=') == -1){\r\n                    _aJavaScripts.push(code);\r\n                    replacement = '';\r\n                }else{\r\n                    var\r\n                        oScript = document.createElement('SCRIPT'),\r\n                        reSRC = /src=[\"']?([^\"'>\\s]+)/,\r\n                        reComponentId = /data-ami-component-id=[\"']?([^\"'>\\s]+)/;\r\n                    oScript.setAttribute('type', 'text/javascript');\r\n                    oScript.setAttribute('onload', \"AMI.Message.send('ON_SCRIPT_LOAD', '\" + reComponentId.exec(tagStart)[1] + \"');\");\r\n                    oScript.setAttribute('src', reSRC.exec(tagStart)[1]);\r\n                    AMI.find('head')[0].appendChild(oScript);\r\n                    replacement = '';\r\n                }\r\n            }else{\r\n                replacement = match;\r\n            }\r\n            return replacement;\r\n        }}(aJavaScripts));\r\n\r\n        oNode.innerHTML = HTML;\r\n        for(var i = 0; i < aJavaScripts.length; i++){\r\n            if(window.execScript){\r\n                try{\r\n                    window.execScript(aJavaScripts[i]);\r\n                }catch(e){\r\n                    // alert('Error in script: ' + aJavaScripts[i]);\r\n                }\r\n            }else{\r\n                eval.call(window, aJavaScripts[i]);\r\n            }\r\n        }\r\n    },\r\n\r\n    getCSSSelectors: function(){\r\n        var aResult = [];\r\n\r\n        if(typeof(document.styleSheets) != 'undefined'){\r\n            var aCSSSheets = document.styleSheets;\r\n\r\n            for(var i = 0; i < aCSSSheets.length; i++){\r\n                if(aCSSSheets[i].disabled){\r\n                    continue;\r\n                }\r\n                var aRules = typeof(aCSSSheets[i].cssRules) != 'undefined' ? aCSSSheets[i].cssRules : aCSSSheets[i].rules;\r\n                for(var ii = 0; ii < aRules.length; ii++){\r\n                    aResult.push(aRules[ii].selectorText);\r\n                }\r\n            }\r\n        }\r\n\r\n        return aResult;\r\n    },\r\n\r\n    findCSSClass: function(classMask){\r\n        var aResult = [];\r\n        var rx = new RegExp('\\\\.' + classMask + '($|[^a-z\\-_])', 'i');\r\n\r\n        var aSelectors = this.getCSSSelectors();\r\n        for(var i = 0; i < aSelectors.length; i++){\r\n            if(rx.test(aSelectors[i])){\r\n                aResult.push(aSelectors[i]);\r\n            }\r\n        }\r\n\r\n        return aResult;\r\n    },\r\n\r\n    getStyle: function(oObject, sStyleName){\r\n        var sResult = '';\r\n\r\n        if(window.getComputedStyle){\r\n            var oDeclaration = window.getComputedStyle(oObject, sStyleName);\r\n            sResult = oDeclaration.getPropertyValue(sStyleName);\r\n        }else if(oObject.currentStyle){\r\n            var i;\r\n            while((i = sStyleName.indexOf(\"-\")) != -1){\r\n                sStyleName = sStyleName.substr(0, i) + sStyleName.substr(i+1,1).toUpperCase() + sStyleName.substr(i+2);\r\n            }\r\n\r\n            if(oObject.currentStyle[sStyleName]){\r\n                sResult = oObject.currentStyle[sStyleName];\r\n            }\r\n        }\r\n\r\n        return sResult;\r\n    },\r\n\r\n    allDescendants: function(element) {\r\n        var res = [];\r\n        for (var i = 0; i < element.childNodes.length; i++) {\r\n            var child = element.childNodes[i];\r\n            var children = AMI.allDescendants(child);\r\n            res.push(child);\r\n            if(children.length){\r\n                for(var j = 0; j < children.length; j++){\r\n                    res.push(children[j]);\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n\r\n    getMaxZIndex: function(){\r\n        var elements = document.getElementsByTagName(\"*\");\r\n        var res = 0;\r\n\r\n        for (var i = 0; i < elements.length - 1; i++) {\r\n            if (parseInt(elements[i].style.zIndex) > res) {\r\n                res = parseInt(elements[i].style.zIndex);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n}\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.browser.dom.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.message.js\r\n */\r\n\r\nAMI.Message = {\r\n    oListeners: {},\r\n\r\n    addListener: function(sMessage, oCallback){\r\n        if(typeof(this.oListeners[sMessage]) == 'undefined'){\r\n            this.oListeners[sMessage] = [];\r\n        }\r\n        this.oListeners[sMessage].push(oCallback);\r\n    },\r\n\r\n    removeListener: function(sMessage, oCallback){\r\n        if(typeof(sMessage) == 'undefined'){\r\n            this.oListeners = {};\r\n        }else if(typeof(oCallback) == 'undefined'){\r\n            if(typeof(this.oListeners[sMessage]) != 'undefined'){\r\n                this.oListeners[sMessage] = [];\r\n            }\r\n        }else{\r\n            if(typeof(this.oListeners[sMessage]) != 'undefined'){\r\n                var iListenersNumber = this.oListeners[sMessage].length;\r\n                for(var i = 0; i < iListenersNumber; i++){\r\n                    if(this.oListeners[sMessage][i] == oCallback){\r\n                        this.oListeners[sMessage][i] = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    send: function(sMessage, param1, param2){\r\n        var bResult = true;\r\n        if(typeof(this.oListeners[sMessage]) != 'undefined'){\r\n            /*\r\n            param1 = typeof(param1) == 'undefined' ? null : param1;\r\n            param2 = typeof(param2) == 'undefined' ? null : param2;\r\n            */\r\n            if(typeof(param1) == 'undefined'){\r\n                param1 = null;\r\n            }\r\n            if(typeof(param2) == 'undefined'){\r\n                param2 = null;\r\n            }\r\n            var iListenersNumber = this.oListeners[sMessage].length;\r\n            for(var i = 0; i < iListenersNumber; i++){\r\n                if(this.oListeners[sMessage][i] != null){\r\n                    bResult = this.oListeners[sMessage][i](param1, param2);\r\n                    if(!bResult){\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return bResult;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.message.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.template.js\r\n */\r\n\r\nAMI.Template = {\r\n    currentValues : null,\r\n    conditionStrings : [],\r\n\r\n    storeConditionStrings : function(match, quote, str, offset, originalString){\r\n        var result = this.conditionStrings.length;\r\n        this.conditionStrings[result] = quote + str + quote;\r\n        return '\"' + result + '\"';\r\n    },\r\n\r\n    restoreConditionStrings : function(match, position, offset, originalString){\r\n        if(typeof(this.conditionStrings[position]) != 'undefined'){\r\n            return this.conditionStrings[position];\r\n        }else{\r\n            return '';\r\n        }\r\n    },\r\n\r\n    getCondition : function(construction){\r\n        construction = construction.replace(/\\\\'/g, \"'\").replace(/\\\\\\\\/g, '\\\\').replace(/&amp;/g, '&');\r\n        this.conditionStrings = [];\r\n        construction = construction.replace(\r\n            /('|\")((?:.|[\\r\\n])*?)\\1/g,\r\n            function(_this){\r\n                return function(match, quote, str, offset, originalString){\r\n                    return _this.storeConditionStrings(match, quote, str, offset, originalString);\r\n                }\r\n            }(this)\r\n        );\r\n        construction = construction.replace(/(^|[^\"\\'A-Za-z\\_0-9\\[])([0-9A-Za-z\\_]*[A-Za-z_]+[0-9A-Za-z\\_]*)([^\\]\"\\'A-Za-z\\_0-9\\(\\[]|$)/g, '$1AMI.Template.getValue(\"$2\")$3');\r\n        construction = construction.replace(\r\n            /\"(\\d+)\"/g,\r\n            function(_this){\r\n                return function(match, position, offset, originalString){\r\n                    return _this.restoreConditionStrings(match, position, offset, originalString);\r\n                }\r\n            }(this)\r\n        );\r\n        return construction;\r\n    },\r\n\r\n    replaceSpecial : function(match, construction, offset, originalString){\r\n        var result = '';\r\n        if(matches = construction.match(/^if\\((.*?)\\)$/)){\r\n            result = \"'; if(\" + this.getCondition(matches[1]) + \"){evalResult += '\";\r\n        }else if(matches = construction.match(/^else if\\((.*?)\\)$/)){\r\n            result = \"';} else if(\" + this.getCondition(matches[1]) + \"){evalResult += '\";\r\n        }else if(construction == 'else'){\r\n            result = \"';} else { evalResult += '\";\r\n        }else if(construction == 'endif'){\r\n            result = \"';} evalResult += '\";\r\n        }else if(/^[a-zA-Z0-9_\\.\\-]+$/.test(construction)){\r\n            result = \"' + AMI.Template.getValue('\" + construction + \"') + '\";\r\n        }else{\r\n            result = match;\r\n        }\r\n        return result;\r\n    },\r\n\r\n    getValue : function(varKey){\r\n        if(typeof(this.currentValues[varKey]) != 'undefined'){\r\n            return this.currentValues[varKey];\r\n        }else{\r\n            return '';\r\n        }\r\n    },\r\n\r\n    parse : function(content, aData){\r\n        content = \"'\" + content.replace(/\\\\/g, '\\\\' + '\\\\').replace(/'/g, \"\\\\'\").replace(/\\r/g, '').replace(/\\n/g, \"\\\\\" + \"\\n\") + \"';\";\r\n        content = content.replace(\r\n            /@@(.*?)@@/g,\r\n            function(_this){\r\n                return function(match, construction, offset, originalString){\r\n                    return _this.replaceSpecial(match, construction, offset, originalString);\r\n                }\r\n            }(this)\r\n        );\r\n\r\n        this.currentValues = aData;\r\n        var evalResult = '';\r\n        eval('evalResult = ' + content);\r\n\r\n        return evalResult;\r\n    },\r\n\r\n    getTemplate: function(elementId){\r\n        var content = '';\r\n        var oElement = AMI.find('#' + elementId);\r\n        if(oElement != null){\r\n            content = oElement.innerHTML;\r\n            content = content.replace(/^\\s*<\\!--([\\s\\S]*)-->\\s*$/i, '$1');\r\n        }\r\n        return content;\r\n    }\r\n}\r\n\r\nAMI.Template.Locale = {\r\n    oDictionary: {},\r\n\r\n    init: function(oDictionary){\r\n        this.oDictionary = oDictionary;\r\n    },\r\n\r\n    /**\r\n     * Set single caption\r\n     *\r\n     * @param  {string} key\r\n     * @param  {string} caption\r\n     * @return void\r\n     */\r\n    set : function(key, caption){\r\n        this.oDictionary[key] = caption;\r\n    },\r\n\r\n    /**\r\n     * Append only new captions to dictionary\r\n     *\r\n     * @param  {object} oDictionary  Object containing properties as keys and its values as captions\r\n     * @return void\r\n     */\r\n    append : function(oDictionary){\r\n        for(var key in oDictionary){\r\n            if(typeof(this.oDictionary[key]) == 'undefined'){\r\n                this.oDictionary[key] = oDictionary[key];\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Append new captions, override obsolete\r\n     *\r\n     * @param  {object} oDictionary  Object containing properties as keys and its values as captions\r\n     * @return void\r\n     */\r\n    merge : function(oDictionary){\r\n        for(var key in oDictionary){\r\n            this.oDictionary[key] = oDictionary[key];\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Get caption by key\r\n     *\r\n     * @param  {string} key\r\n     * @return {string} | null\r\n     */\r\n    get : function(key){\r\n        if(typeof(this.oDictionary[key]) == 'undefined'){\r\n            if(typeof(console) == 'object' && typeof(console.warn) == 'function'){\r\n                // firebug debugging\r\n                console.warn(\"Undefined dictionary key '\" + key + \"'\");\r\n                console.trace();\r\n            }\r\n            return null;\r\n        }else{\r\n            return this.oDictionary[key];\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Parse caption specified by key using variables\r\n     *\r\n     * @param  {string} key\r\n     * @param  {object} oVariables  Object containing properties as keys and its values as captions\r\n     * @return {string} | null\r\n     */\r\n    parse : function(key, oVariables){\r\n        var caption = this.get(key);\r\n        if(caption){\r\n            for(var variable in oVariables){\r\n                caption = caption.replace('_' + variable + '_', oVariables[variable]);\r\n            }\r\n        }\r\n        return caption;\r\n    }\r\n}\r\n\r\nfunction print_r( array, return_val ) {    // Prints human-readable information about a variable\r\n\r\n    var output = \"\", pad_char = \" \", pad_val = 4;\r\n\r\n    var formatArray = function (obj, cur_depth, pad_val, pad_char) {\r\n        if(cur_depth > 0)\r\n            cur_depth++;\r\n\r\n        var base_pad = repeat_char(pad_val*cur_depth, pad_char);\r\n        var thick_pad = repeat_char(pad_val*(cur_depth+1), pad_char);\r\n        var str = \"\";\r\n\r\n        if(obj instanceof Array || obj instanceof Object) {\r\n            str += \"Array\\n\" + base_pad + \"(\\n\";\r\n            for(var key in obj) {\r\n                if(obj[key] instanceof Array || obj[key] instanceof Object) {\r\n                    str += thick_pad + \"[\"+key+\"] => \"+formatArray(obj[key], cur_depth+1, pad_val, pad_char);\r\n                } else {\r\n                    str += thick_pad + \"[\"+key+\"] => \" + obj[key] + \"\\n\";\r\n                }\r\n            }\r\n            str += base_pad + \")\\n\";\r\n        } else {\r\n            str = obj.toString();\r\n        };\r\n\r\n        return str;\r\n    };\r\n\r\n    var repeat_char = function (len, char) {\r\n        var str = \"\";\r\n        for(var i=0; i < len; i++) { str += char; };\r\n        return str;\r\n    };\r\n\r\n    output = formatArray(array, 0, pad_val, pad_char);\r\n\r\n    if(return_val !== true) {\r\n        document.write(\"<pre>\" + output + \"</pre>\");\r\n        return true;\r\n    } else {\r\n        return output;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.template.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.string.js\r\n */\r\n\r\nAMI.String = {\r\n    decodeHTMLSpecialChars : function(content){\r\n        return content.replace(/&(.{2,4});/gi, function(wholeString, match){\r\n            // Remember to change php unhtmlentities when expanding replacements\r\n            var associations = {\r\n                '#039' : \"'\",\r\n                '#037' : \"%\",\r\n                '#035' : '#',\r\n                'quot' : '\"',\r\n                'lt' : '<',\r\n                'gt' : '>',\r\n                'amp' : '&'\r\n            };\r\n            if(associations[match]){\r\n                return associations[match];\r\n            }else{\r\n                return match;\r\n            }\r\n        });\r\n    },\r\n    \r\n    decodeJSON: function(data){\r\n        var oResult;\r\n        eval('oResult = ' + data);\r\n        return oResult;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.string.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.httprequest.js\r\n */\r\n\r\nAMI.HTTPRequest = {\r\n\r\n    requests: [],\r\n    variables: {},\r\n    urlHash: '',\r\n\r\n    // Init XML HTTP object\r\n    _initObjectRequest: function(requestId){\r\n        try{\r\n            this.requests[requestId]['transport'] = new XMLHttpRequest();\r\n        }catch(exception){\r\n            this.requests[requestId]['transport'] = null;\r\n        }\r\n        if(this.requests[requestId]['transport'] == null){\r\n            for(var i = 0; i < 2; i++){\r\n                activeXName = i == 0 ? 'Msxml2.XMLHTTP' : 'Microsoft.XMLHTTP';\r\n                try{\r\n                    this.requests[requestId]['transport'] = new ActiveXObject(activeXName);\r\n                }catch(exception){\r\n                    this.requests[requestId]['transport'] = null;\r\n                }\r\n                if(this.requests[requestId]['transport'] != null){\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return (this.requests[requestId]['transport'] != null);\r\n    },\r\n\r\n    // Create query string from variables object\r\n    _getRequestVariables: function(requestId){\r\n        var variables = '';\r\n        for(var key in this.requests[requestId]['variables']){\r\n            variables += variables.length > 0 ? '&' : '';\r\n            variables += encodeURIComponent(key) + '=' + encodeURIComponent(this.requests[requestId]['variables'][key]);\r\n        }\r\n        return variables;\r\n    },\r\n\r\n    // Create valid url for request\r\n    _prepeareUrl: function(requestId){\r\n        var url = this.requests[requestId]['url'];\r\n        if(this.requests[requestId]['method'] == 'GET'){\r\n            var variables = this._getRequestVariables(requestId);\r\n            if(variables.length > 0){\r\n                url = url + '?' + variables;\r\n            }\r\n            if(this.requests[requestId]['hash'].length > 0){\r\n                url = url + '#' + encodeURIComponent(this.requests[requestId]['hash']);\r\n            }\r\n        /*}else if(this.requests[requestId]['method'] == 'POST'){\r\n            var variables = this._getRequestVariables(requestId);\r\n            this.requests[requestId]['transport'].send(variables);*/\r\n        }\r\n        return url;\r\n    },\r\n\r\n    // Process request for session parameters\r\n    _request: function(requestId){\r\n        if(this._initObjectRequest(requestId)){\r\n            this.requests[requestId]['transport'].open(this.requests[requestId]['method'], this._prepeareUrl(requestId), true);\r\n            if(this.requests[requestId]['method'] == 'GET'){\r\n                this.requests[requestId]['transport'].setRequestHeader('If-Modified-Since', 'Sat, 1 Jan 2000 00:00:00 GMT');\r\n                this.requests[requestId]['transport'].send(null);\r\n            }else{\r\n                this.requests[requestId]['transport'].setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n                this.requests[requestId]['transport'].send(this._getRequestVariables(requestId));\r\n            }\r\n\t\t\tthis.resetRequestVariables();\r\n            setTimeout('AMI.HTTPRequest._checkResponse('+requestId+')', 10);\r\n        }else{\r\n            alert('Problem with XML HTTP initialization');\r\n        }\r\n    },\r\n\r\n    // Check the response from server and process action\r\n    _checkResponse: function(requestId){\r\n        if(this.requests[requestId]['transport'].readyState == 4){\r\n            if(this.requests[requestId]['transport'].status == 200){\r\n                this.requests[requestId]['status'] = 1;\r\n                this.requests[requestId]['content'] = this.requests[requestId]['transport'].responseText;\r\n            }\r\n            else if(this.requests[requestId]['transport'].status == 401){ // Unauthorized\r\n                this.requests[requestId]['status'] = 3;\r\n            }\r\n            else{\r\n                this.requests[requestId]['status'] = 2;\r\n            }\r\n            if(this.requests[requestId]['callback'] != null){\r\n                this.requests[requestId]['callback'](this.requests[requestId]['status'], this.requests[requestId]['content']);\r\n            }\r\n            this.requests[requestId]['transport'] = null;\r\n            this.requests[requestId] = null;\r\n        }else{\r\n            setTimeout('AMI.HTTPRequest._checkResponse('+requestId+')', 10);\r\n        }\r\n    },\r\n\r\n    // Remove all query variables\r\n    resetRequestVariables: function(){\r\n        this.variables = {};\r\n    },\r\n\r\n    // Add query variable\r\n    addVariable: function(key, value, bDecode){\r\n        bDecode = bDecode || false;\r\n        if(bDecode){\r\n            value = decodeURIComponent(value);\r\n        }\r\n        this.variables[decodeURIComponent(key)] = value;\r\n    },\r\n\r\n    // Set url hash code\r\n    setUrlHash: function(value){\r\n        this.urlHash = decodeURIComponent(value);\r\n    },\r\n\r\n    // Parse query string and create variables object\r\n    setVariables: function(mVariables){\r\n        if(mVariables != '')\r\n            this.resetRequestVariables();\r\n        if(typeof(mVariables) == 'object'){\r\n            this.setUrlHash('');\r\n\r\n            for(key in mVariables){\r\n                this.addVariable(key, mVariables[key]);\r\n            }\r\n        }else if(mVariables != ''){\r\n            mVariables = mVariables.replace(/^[\\s?]*(.*?)[\\s]*$/g, '$1');\r\n\r\n            var aHash = mVariables.split('#');\r\n            if(typeof(aHash[1]) != 'undefined'){\r\n                mVariables = aHash[0];\r\n                this.setUrlHash(aHash[1]);\r\n            }else{\r\n                this.setUrlHash('');\r\n            }\r\n\r\n            var aPairs = mVariables.split('&');\r\n            for(var i = 0; i < aPairs.length; i++){\r\n                aPair = aPairs[i].split('=');\r\n                if(aPair[0] != ''){\r\n                    this.addVariable(aPair[0], aPair[1], true);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    addVariablesFromForm: function(oForm){\r\n        for(var i = 0; i < oForm.elements.length; i++){\r\n            var oField = oForm.elements[i];\r\n            if(!oField.disabled && oField.name != ''){\r\n                if(oField.type == 'checkbox' || oField.type == 'radio'){\r\n                    if(oField.checked){\r\n                        this.addVariable(oField.name, oField.value);\r\n                    }\r\n                }else{\r\n                    this.addVariable(oField.name, oField.value);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    getContent: function(method, url, mVariables, callbackFunction){\r\n        var requestId = this.requests.length;\r\n        this.requests[requestId] = {};\r\n        this.requests[requestId]['status'] = 0;\r\n        this.requests[requestId]['callback'] = typeof(callbackFunction) == 'function' ? callbackFunction : null;\r\n        this.requests[requestId]['transport'] = null;\r\n        this.requests[requestId]['method'] = method.toUpperCase();\r\n        this.requests[requestId]['url'] = url;\r\n        this.setVariables(typeof(mVariables) == 'undefined' ? '' : mVariables);\r\n        this.requests[requestId]['variables'] = this.variables;\r\n        this.requests[requestId]['hash'] = this.urlHash;\r\n        this.requests[requestId]['content'] = '';\r\n        this._request(requestId);\r\n    },\r\n\r\n    submitForm: function(method, oForm, mAdditionalVariables, callbackFunction){\r\n        var sURL = oForm.attributes.action.value;\r\n\r\n        this.setVariables(typeof(mAdditionalVariables) == 'undefined' ? '' : mAdditionalVariables);\r\n        this.addVariablesFromForm(oForm);\r\n\r\n        this.getContent(\r\n            method != '' ? method.toUpperCase() : (oForm.attributes.method && oForm.attributes.method.value.toLowerCase() == 'post' ? 'POST' : 'GET'),\r\n            sURL,\r\n            '',\r\n            callbackFunction\r\n        );\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.httprequest.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.cookie.js\r\n */\r\n\r\n/**\r\n* @fileOverview File contains Cookie implementation.\r\n*/\r\n\r\n/**\r\n* Static object that allows to manipulate by cookies and stores cookie data to server or client (base difference from AMI.Browser.Cookie).\r\n*\r\n* @class Static object for page actions and data handling.\r\n*/\r\nAMI.Cookie = {\r\n    /**\r\n    * Default scope for read and set cookie variables. Could be 'client' (regular cookie) or 'server'.\r\n    *\r\n    * @private\r\n    */\r\n    defaultScope: 'server',\r\n\r\n    /**\r\n    * Storage for server variables.\r\n    *\r\n    * @private\r\n    */\r\n    serverData: {},\r\n\r\n    /**\r\n    * Storage for server variables that should be set with save() method.\r\n    *\r\n    * @private\r\n    */\r\n    serverDataToSave: {},\r\n\r\n    /**\r\n    * Mode for saving variables. If true request will be sent to server for variable storing after set(...) calling. False - only with save() method.\r\n    *\r\n    * @private\r\n    */\r\n    bAutoSave: false,\r\n\r\n    /**\r\n     * Autosave timeout\r\n     *\r\n     * @private\r\n     */\r\n    timeout: null,\r\n\r\n    /**\r\n    * Init variables. There are two methods - from global JS variable serverCookies and with AJAX query to server in case serverCookies = 'load'. If serverCookies is not set empty server data initialized.\r\n    *\r\n    * @returns {void}\r\n    */\r\n    init: function(){\r\n        this.serverData = {};\r\n        if(typeof serverCookies != 'undefined'){\r\n            if(serverCookies == 'load'){\r\n                // Todo\r\n            }else{\r\n                this.serverData = serverCookies;\r\n            }\r\n        }else{\r\n            this.setDefaultScope('client');\r\n        }\r\n    },\r\n\r\n    /**\r\n    * Set default scope for cookie variables. \"server\" is default.\r\n    *\r\n    * @param {string} scope Scope that could be \"server\" or \"client\".\r\n    * @returns {void}\r\n    */\r\n    setDefaultScope: function(scope){\r\n        this.defaultScope = scope;\r\n    },\r\n\r\n    /**\r\n    * Calls _save with a little delay.\r\n    *\r\n    * @param {bool} doDirectSave Set to true if you wish to send request for saving variable directly.\r\n    * @returns {void}\r\n    */\r\n    save: function(doDirectSave){\r\n        if(doDirectSave){\r\n            var getString = '?action=saveServerCookie';\r\n            var oData = /* typeof(oData) == 'object' ? oData : */ this.serverDataToSave;\r\n            for(var variableName in oData){\r\n                getString += '&key[]=' + encodeURIComponent(variableName) + '&value[]=' + encodeURIComponent(oData[variableName].value) + '&expire[]=' + encodeURIComponent(oData[variableName].expire) + '&path[]=' + encodeURIComponent(oData[variableName].path);\r\n            }\r\n            if(getString.length > 24){\r\n                AMI.HTTPRequest.getContent('GET', getString);\r\n            }\r\n            // @todo: think\r\n            // this.serverDataToSave = {};\r\n        }else{\r\n            if(this.timeout){\r\n                clearTimeout(this.timeout);\r\n            }\r\n            this.timeout = setTimeout(function(cookies){\r\n                return function(){\r\n                    cookies.save(true);\r\n                    cookies.timeout = null;\r\n                }\r\n            }(this), 1000);\r\n        }\r\n    },\r\n\r\n    /**\r\n    * Set cookie variable.\r\n    *\r\n    * @param {string} name Variable name.\r\n    * @param {string} value Variable value.\r\n    * @param {int} expireSeconds Number of seconds that variable will be actual (1 hour by default).\r\n    * @param {string} path Cookie path.\r\n    * @param {bool} doDirectSave Not required. Set to true if you wish to send request for saving variable directly.\r\n    * @param {string} scope Not required. Scope in which variable should be stored.\r\n    * @returns {void}\r\n    */\r\n    set: function(name, value, expireSeconds, path, doDirectSave, scope){\r\n        scope = scope || this.defaultScope;\r\n        if(typeof(expireSeconds) == 'undefined'){\r\n            expireSeconds = 3600;\r\n        }\r\n        if(typeof(doDirectSave) == 'undefined'){\r\n            doDirectSave = false;\r\n        }\r\n        if(typeof(path) == 'undefined'){\r\n            path = '';\r\n        }\r\n        if(expireSeconds <= 0){\r\n            this.del(name, doDirectSave, scope);\r\n        }else{\r\n            if(scope == 'server'){\r\n                this.serverData[name] = value;\r\n                this.serverDataToSave[name] = {'value' : value, 'expire': expireSeconds, 'path' : path};\r\n                this.save((this.bAutoSave || doDirectSave));\r\n            }else{\r\n                AMI.Browser.Cookie.set(name, value, Math.ceil(expireSeconds / 3600));\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n    * Get cookie variable.\r\n    *\r\n    * @param {string} name Variable name.\r\n    * @param {string} scope Not required. Scope from which variable should be read.\r\n    * @returns {string} Variable value or null if it is not set.\r\n    */\r\n    get: function(name, scope){\r\n        scope = scope || this.defaultScope;\r\n\r\n        if(scope == 'server'){\r\n            if(typeof(this.serverData[name]) != 'undefined'){\r\n                return this.serverData[name];\r\n            }else{\r\n                return null;\r\n            }\r\n        }else{\r\n            return AMI.Browser.Cookie.get(name);\r\n        }\r\n    },\r\n\r\n    /**\r\n    * Check if variable is set (in required scope).\r\n    *\r\n    * @param {string} name Variable name.\r\n    * @param {string} scope Not required. Scope from which variable should be read.\r\n    * @returns {bool} True if variable was found and false otherwise.\r\n    */\r\n    isset: function(name, scope){\r\n        scope = scope || this.defaultScope;\r\n        return this.get(name, scope) != null;\r\n    },\r\n\r\n    /**\r\n    * Delete variable (from required scope).\r\n    *\r\n    * @param {string} name Variable name.\r\n    * @param {string} path Cookie path.\r\n    * @param {bool} doDirectSave Not required. Set to true if you wish to send request for deleting variable directly.\r\n    * @param {string} scope Not required. Scope from which variable should be read.\r\n    * @returns {bool} True if variable was found and false otherwise.\r\n    */\r\n    del: function(name, path, doDirectSave, scope){\r\n        scope = scope || this.defaultScope;\r\n        doDirectSave = typeof(doDirectSave) == 'undefined' ? false : doDirectSave;\r\n        path = typeof(path) == 'undefined' ? '' : path;\r\n        if(scope == 'server'){\r\n            if(typeof this.serverData[name] != 'undefined'){\r\n                delete this.serverData[name];\r\n                this.serverDataToSave[name] = {'value' : '', 'expire': 0, 'path' : path};\r\n                this.save((this.bAutoSave || doDirectSave));\r\n            }\r\n        }else{\r\n            AMI.Browser.Cookie.del(name);\r\n        }\r\n    }\r\n}\r\nAMI.Cookie.init();\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.cookie.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.js\r\n */\r\n\r\nAMI.UI = {\r\n\r\n     /**\r\n     * Property to save old alert\r\n     */\r\n    _savedAlert: null,\r\n\r\n     /**\r\n     * Alert window container\r\n     */\r\n    oAlertWindow: null,\r\n\r\n     /**\r\n     * Alert window timer\r\n     */\r\n    alertWindowTimer: null,\r\n\r\n    /**\r\n     * Is alert visible?\r\n     */\r\n    alertVisible: false,\r\n\r\n    /**\r\n     * Is body onclick handler attached?\r\n     */\r\n    bodyClickHandler: false,\r\n\r\n     /**\r\n     * Overload default alert() function with a custom div\r\n     *\r\n     * @param {bool} bState true if overload\r\n     * @returns {void}\r\n     */\r\n    overloadAlert: function(bState){\r\n        window.onloadAlerted = false;\r\n        if(bState){\r\n            this._savedAlert = window.alert;\r\n            window.alert = function(message, type){\r\n                if((window.pageLoaded == undefined) || !window.pageLoaded) return;\r\n                window.onloadAlerted = true;\r\n                if(!message || (message == '')){\r\n                    return false;\r\n                }\r\n                AMI.UI.Alert.show(message, type);\r\n            }\r\n        }else{\r\n            if(typeof(this._savedAlert) == 'function'){\r\n                alert = this._savedAlert;\r\n            }\r\n        }\r\n    },\r\n\r\n    center: function(div){\r\n        AMI.UI.centerH(div);\r\n        AMI.UI.centerW(div);\r\n    },\r\n\r\n    centerH: function(div){\r\n        var divHeight = div.offsetHeight;\r\n        var scrHeight = AMI.Browser.getWindowHeight();\r\n        div.style.top = parseInt((scrHeight - divHeight) / 2) + 'px';\r\n    },\r\n\r\n    centerW: function(div){\r\n        var divWidth = div.offsetWidth;\r\n        var scrWidth = AMI.Browser.getWindowWidth();\r\n        div.style.left = parseInt((scrWidth - divWidth) / 2) + 'px';\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.list.js\r\n */\r\n\r\nAMI.UI.List = function(containerId, requestData){\r\n    this.idContainer = containerId;\r\n    this.oProgress = null;\r\n    this.oContainer = null;\r\n    this.oPrevious = null;\r\n    this.oNext = null;\r\n    this.oPlayPause = null;\r\n\r\n    this.oDebug = null;\r\n\r\n    this.sRowTemplateId = 'itemRowTemplate_' + containerId;\r\n    this.aRequestData = requestData;\r\n\r\n    // Refresh data\r\n    this.refreshInterval = typeof(requestData.refreshInterval) == 'undefined' ? 0 : Math.max(1, parseFloat(requestData.refreshInterval));\r\n    this.refreshIntervalInitial = this.refreshInterval;\r\n    this.refreshMultiplier = typeof(requestData.refreshIntervalMultiplier) == 'undefined' ? 0 : Math.max(1, parseFloat(requestData.refreshIntervalMultiplier));\r\n    this.refreshMaximum = typeof(requestData.refreshNumber) == 'undefined' ? 50 : Math.min(50, parseInt(requestData.refreshNumber));\r\n    this.refreshMaximumInitial = this.refreshMaximum;\r\n    this.refreshType = typeof(requestData.refreshType) == 'undefined' ? 'reload' : requestData.refreshType;\r\n    this.refreshTimeout = null;\r\n    this.refreshPaused = false;\r\n\r\n    this.lastAction = '';\r\n    this.lastRecordsCount = 0;\r\n\r\n    this.scriptName = 'ami_resp';\r\n    this.scriptExt = 'php';\r\n\r\n    this.init = function(){\r\n        this.oContainer = document.getElementById('amiContent' + containerId);\r\n        this.oProgress = document.getElementById('amiProgress' + containerId);\r\n        this.oPrevious = document.getElementById('amiNavPreviuos' + containerId);\r\n        this.oNext = document.getElementById('amiNavNext' + containerId);\r\n        this.oPlayPause = document.getElementById('amiNavPlayPause' + containerId);\r\n\r\n        if(this.oProgress == null && this.oContainer != null){\r\n            this.oProgress = AMI.Browser.DOM.create('DIV', '', 'amiListProgress', '', this.oContainer.parentNode);\r\n            var oProgressImage = AMI.Browser.DOM.create('IMG', '', '', '', this.oProgress);\r\n            oProgressImage.src = '/_img/ami_jsapi/loader.gif';\r\n        }\r\n        if(isNaN(this.refreshMaximum)){\r\n            this.refreshMaximum = 0;\r\n            this.refreshMaximumInitial = 0;\r\n        }\r\n        if(this.oPlayPause && this.refreshInterval > 0 && this.refreshMaximum > 0){\r\n            this.oPlayPause.className = this.oPlayPause.className.replace(/\\s*ami_resp_play_pause_disabled/, '');\r\n        }\r\n\r\n        AMI.Message.send('ON_AMI_LIST_READY', this.idContainer, this);\r\n    }\r\n\r\n    this.showProgress = function(){\r\n        if(this.oProgress != null){\r\n            var oPos = AMI.Browser.getObjectPosition(this.oContainer, true);\r\n            this.oProgress.style.left = oPos[0] + 'px';\r\n            this.oProgress.style.top = oPos[1] + 'px';\r\n            this.oProgress.style.width = this.oContainer.offsetWidth + 'px';\r\n            this.oProgress.style.height = this.oContainer.offsetHeight + 'px';\r\n            this.oProgress.style.display = 'block';\r\n        }\r\n    }\r\n\r\n    this.hideProgress = function(){\r\n        if(this.oProgress != null){\r\n            this.oProgress.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    this.updatePrevNext = function(iDisableNext){\r\n        if(this.oPrevious != null){\r\n            if(parseInt(this.aRequestData.offset) <= 0 && this.oPrevious.className.indexOf('ami_resp_prev_disabled') == -1){\r\n                AMI.Message.send('ON_AMI_LIST_PREVIOUS_DISABLE', this.idContainer, this.oPrevious);\r\n                this.oPrevious.className = this.oPrevious.className + (this.oPrevious.className.length > 0 ? ' ' : '') + 'ami_resp_prev_disabled';\r\n            }else if(parseInt(this.aRequestData.offset) > 0 && this.oPrevious.className.indexOf('ami_resp_prev_disabled') >= 0){\r\n                AMI.Message.send('ON_AMI_LIST_PREVIOUS_ENABLE', this.idContainer, this.oPrevious);\r\n                this.oPrevious.className = this.oPrevious.className.replace(/\\s*ami_resp_prev_disabled/, '');\r\n            }\r\n        }\r\n        if(this.oNext != null && typeof(iDisableNext) != 'undefined'){\r\n            if(iDisableNext && this.oNext.className.indexOf('ami_resp_next_disabled') == -1){\r\n                AMI.Message.send('ON_AMI_LIST_NEXT_DISABLE', this.idContainer, this.oNext);\r\n                this.oNext.className = this.oNext.className + (this.oNext.className.length > 0 ? ' ' : '') + 'ami_resp_next_disabled';\r\n            }else if(!iDisableNext && this.oNext.className.indexOf('ami_resp_next_disabled') >= 0){\r\n                AMI.Message.send('ON_AMI_LIST_NEXT_ENABLE', this.idContainer, this.oNext);\r\n                this.oNext.className = this.oNext.className.replace(/\\s*ami_resp_next_disabled/, '');\r\n            }\r\n        }\r\n    }\r\n\r\n    this.setDebug = function(aReceivedData){\r\n        if(DEBUG_BY_IP && typeof(aReceivedData.debug) != 'undefined'){\r\n            if(this.oDebug == null){\r\n                this.oDebug = AMI.Browser.DOM.create('div', '', '', '', document.getElementById('ami_resp_outer_' + this.idContainer));\r\n            }\r\n            this.oDebug.innerHTML = '<div style=\"background: red; height: 1px; margin-bottom: 5px; overflow: hidden;\"></div>' + aReceivedData.debug + this.oDebug.innerHTML;\r\n        }\r\n    }\r\n\r\n    this.load = function(lastAction){\r\n        if(typeof(lastAction) == 'undefined'){\r\n            this.lastAction = 'load';\r\n        }else{\r\n            this.lastAction = lastAction;\r\n        }\r\n\r\n        clearTimeout(this.refreshTimeout);\r\n        if(this.oContainer != null){\r\n            this.showProgress();\r\n\r\n            var url = document.location.protocol + '//' + document.location.host + '/' + this.scriptName + '.' + this.scriptExt + '?';\r\n            var cnt = 0;\r\n            for(var name in this.aRequestData){\r\n                if(name != 'refresh' && name != 'refreshMultiplier' && name != 'refreshType'){\r\n                    url = url + (cnt++ > 0 ? '&' : '') + encodeURIComponent(name) + '=' + encodeURIComponent(this.aRequestData[name]);\r\n                }\r\n            }\r\n            AMI.HTTPRequest.getContent(\r\n                'GET',\r\n                url,\r\n                '',\r\n                function(_this){\r\n                    return function(state, content){\r\n                        _this.onContentReceived(state, content);\r\n                    }\r\n                }(this)\r\n            );\r\n        }\r\n    }\r\n\r\n    this.onContentReceived = function(state, content){\r\n        if(state == 1){\r\n            this.hideProgress();\r\n\r\n            var aReceived = {};\r\n\r\n            if(content.indexOf('{') != 0){\r\n                aReceived.debug = 'Unknown data received for block ' + this.idContainer + ': ' + content;\r\n                this.setDebug(aReceived);\r\n                return;\r\n            }\r\n\r\n            aReceived = AMI.String.decodeJSON(content);\r\n            var bDisableNext = true;\r\n            if(typeof(aReceived) == 'object'){\r\n                if(typeof(aReceived.code) != 'undefined' && aReceived.code == -1){\r\n                    document.getElementById('ami_resp_outer_' + this.idContainer).style.display = 'none';\r\n                    document.getElementById('ami_resp_forbidden_' + this.idContainer).innerHTML += \" '\" + aReceived.message + \"'\";\r\n                    document.getElementById('ami_resp_forbidden_' + this.idContainer).style.display = 'block';\r\n                    return;\r\n                }\r\n\r\n                this.setDebug(aReceived);\r\n\r\n                if(typeof(aReceived.data) == 'object' && typeof(aReceived.data.list) == 'object'){\r\n                    this.lastRecordsCount = aReceived.data.list.length;\r\n                    if(aReceived.data.list.length == this.aRequestData.limit){\r\n                        bDisableNext = false;\r\n                    }\r\n\r\n                    this.setListData(aReceived.data.list);\r\n                    this.playNext();\r\n                }\r\n            }\r\n            if(this.lastAction == 'next' && this.lastRecordsCount == 0){\r\n                this.aRequestData.offset = Math.max(0, parseInt(this.aRequestData.offset) - parseInt(this.aRequestData.limit));\r\n            }\r\n            if(this.refreshType == 'next' && bDisableNext || this.refreshType == 'previous' && parseInt(this.aRequestData.offset) == 0){\r\n                this.playPause('pause');\r\n            }\r\n            this.updatePrevNext(bDisableNext);\r\n        }\r\n    }\r\n\r\n    this.setListData = function(aRowsData){\r\n        var sRowTemplate = AMI.Template.getTemplate(this.sRowTemplateId);\r\n\r\n        if(aRowsData.length && aRowsData.length > 0){\r\n            var content = '';\r\n            for(var i in aRowsData){\r\n                AMI.Message.send('ON_AMI_LIST_DRAW_ROW', this.idContainer, aRowsData[i]);\r\n                aRowsData[i]['mod_link'] = this.aRequestData.mod_link;\r\n                aRowsData[i]['ROW_NUMBER'] = i;\r\n                content += AMI.Template.parse(sRowTemplate, aRowsData[i]);\r\n            }\r\n            this.fillBlockContent(content);\r\n        }\r\n    }\r\n\r\n    this.fillBlockContent = function(content){\r\n        this.oContainer.innerHTML = content;\r\n    }\r\n\r\n    this.previousPage = function(bAutoAction){\r\n        if(typeof(bAutoAction) == 'undefined' || !bAutoAction){\r\n            this.playPause('pause');\r\n        }\r\n        if(parseInt(this.aRequestData.offset) > 0){\r\n            this.aRequestData.offset = parseInt(this.aRequestData.offset) - parseInt(this.aRequestData.limit);\r\n            this.load('previous');\r\n        }\r\n        return false;\r\n    }\r\n\r\n    this.nextPage = function(bAutoAction){\r\n        if(typeof(bAutoAction) == 'undefined' || !bAutoAction){\r\n            this.playPause('pause');\r\n        }\r\n        if(this.lastRecordsCount && this.lastRecordsCount == this.aRequestData.limit){\r\n            this.aRequestData.offset = parseInt(this.aRequestData.offset) + parseInt(this.aRequestData.limit);\r\n            this.load('next');\r\n        }\r\n        return false;\r\n    }\r\n\r\n    this.playPause = function(forceAction){\r\n        if(typeof(forceAction) == 'indefined'){\r\n            forceAction = 'none';\r\n        }\r\n        if(this.refreshPaused && forceAction != 'pause'){\r\n            if(this.refreshType == 'next' && this.lastRecordsCount != this.aRequestData.limit){\r\n                return;\r\n            }\r\n            this.refreshPaused = false;\r\n            if(this.oPlayPause){\r\n                this.oPlayPause.className = this.oPlayPause.className.replace(/\\s*ami_resp_pause/, '');\r\n            }\r\n            this.refreshInterval = this.refreshIntervalInitial;\r\n            this.refreshMaximum = this.refreshMaximumInitial;\r\n            this.playNext(true);\r\n        }else if(!this.refreshPaused && forceAction != 'play'){\r\n            this.refreshPaused = true;\r\n            this.playStop();\r\n            if(this.oPlayPause){\r\n                this.oPlayPause.className = this.oPlayPause.className + ' ami_resp_pause';\r\n            }\r\n        }\r\n    }\r\n\r\n    this.playNext = function(bImmediately){\r\n        if(!this.refreshPaused && this.refreshInterval > 0 && this.refreshMaximum > 0){\r\n            var callback = null;\r\n            if(this.refreshType == 'next'){\r\n                var callback = function(_this){return function(){_this.nextPage(true)}}(this);\r\n            }else if(this.refreshType == 'previous'){\r\n                var callback = function(_this){return function(){_this.previousPage(true)}}(this);\r\n            }else{\r\n                var callback = function(_this){return function(){_this.load()}}(this);\r\n            }\r\n            if(bImmediately){\r\n                this.refreshTimeout = setTimeout(callback, 200);\r\n            }else{\r\n                this.refreshTimeout = setTimeout(callback, this.refreshInterval * 1000);\r\n            }\r\n            if(this.refreshMultiplier > 0){\r\n                this.refreshInterval *= this.refreshMultiplier;\r\n                this.refreshMaximum--;\r\n            }\r\n        }else if(!this.refreshPaused){\r\n            this.playPause('pause');\r\n        }\r\n    }\r\n\r\n    this.playStop = function(){\r\n        clearTimeout(this.refreshTimeout);\r\n    }\r\n\r\n    this.init();\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.list.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.slider.js\r\n */\r\n\r\nAMI.UI.Slider = function(oParent, oBackward, oForward, iStep, bHorizontal){\r\n    this.oParent = oParent;\r\n    this.oSlider = null;\r\n    this.oBackward = oBackward;\r\n    this.oForward = oForward;\r\n    this.iStep = iStep;\r\n    this.bHorizontal = bHorizontal == undefined ? true : bHorizontal;\r\n\r\n    this.currentPosition = 0;\r\n    this.minPosition = 0;\r\n    this.controlClassDisabled = 'disabled';\r\n\r\n    this.hTimeout = null;\r\n    this.bForward = true;\r\n    this.iPeriod = 10; // ms\r\n    this.toPosition = 0;\r\n\r\n    this.bWheelAction = false;\r\n\r\n    this.init = function(){\r\n        this.oSlider = this.oParent.getElementsByTagName('div')[0];\r\n        this.oBackward.onclick = function(_this){return function(){_this.setMoveParameters(true);_this.move()}}(this);\r\n        this.oForward.onclick = function(_this){return function(){_this.setMoveParameters(false);_this.move()}}(this);\r\n        AMI.Browser.Event.addHandler(this.oSlider, 'mousewheel', function(_this){return function(event){\r\n            if( !_this.bWheelAction ){\r\n                _this.bWheelAction = true;\r\n                var delta = 0;\r\n                if (event.wheelDelta) { /* IE/Opera. */\r\n                    delta = event.wheelDelta/120;\r\n                } else if (event.detail) { /* Mozilla. */\r\n                    delta = -event.detail/3;\r\n                }\r\n\r\n                // todo: mousewheel only 1 step\r\n                _this.setMoveParameters(delta > 0);\r\n                _this.move();\r\n            }\r\n            if (event.preventDefault)\r\n                event.preventDefault();\r\n\r\n            event.returnValue = false;\r\n        }}(this))\r\n        this.reInit();\r\n    }\r\n\r\n    this.reInit = function(step){\r\n        this.oBackward.className = this.oBackward.className + ' ' + this.controlClassDisabled;\r\n        this.minPosition = Math.min(0, (this.bHorizontal ? this.oParent.offsetWidth - this.oSlider.offsetWidth : this.oParent.offsetHeight - this.oSlider.offsetHeight));\r\n        if(typeof(step) != 'undefined'){\r\n            this.iStep =  step;\r\n        }\r\n    }\r\n\r\n    this.setMoveParameters = function(bForward){\r\n        if(this.minPosition == 0){\r\n            this.minPosition = Math.min(0, (this.bHorizontal ? this.oParent.offsetWidth - this.oSlider.offsetWidth : this.oParent.offsetHeight - this.oSlider.offsetHeight));\r\n        }\r\n        this.toPosition = Math.max(this.minPosition, Math.min(0, this.toPosition + this.iStep * (bForward ? 1 : -1)));\r\n        this.bForward = bForward;\r\n    }\r\n\r\n    this.move = function(iIterationNumber){\r\n        clearTimeout(this.hTimeout);\r\n        if(typeof(iIterationNumber) == 'undefined'){\r\n            iIterationNumber = 1;\r\n        }\r\n        var bContinue = true;\r\n        var iMultiplier = AMI.Browser.isIE ? 5 : 1;\r\n        var iDelta = 10 * iMultiplier;\r\n        var iDiff = Math.abs(this.toPosition - this.currentPosition);\r\n        if(iDiff < 15 || iIterationNumber <= 5 / iMultiplier){\r\n            iDelta = 1 * iMultiplier;\r\n        }else if(iDiff < 25 || iIterationNumber <= 10 / iMultiplier){\r\n            iDelta = 3 * iMultiplier;\r\n        }else if(iDiff < 50 || iIterationNumber <= 20 / iMultiplier){\r\n            iDelta = 5 * iMultiplier;\r\n        }\r\n        iDelta *= this.bForward ? 1 : -1;\r\n        var iPosition = this.currentPosition + iDelta;\r\n        if(iPosition >= 0){\r\n            bContinue = false;\r\n            iPosition = 0;\r\n            this.oBackward.className = this.oBackward.className + ' ' + this.controlClassDisabled;\r\n        }else if(iPosition <= this.minPosition){\r\n            bContinue = false;\r\n            iPosition = this.minPosition;\r\n            this.oForward.className = this.oForward.className + ' ' + this.controlClassDisabled;\r\n        }else if(this.bForward && iPosition >= this.toPosition){\r\n            bContinue = false;\r\n            iPosition = this.toPosition;\r\n        }else if(!this.bForward && iPosition <= this.toPosition){\r\n            bContinue = false;\r\n            iPosition = this.toPosition;\r\n        }else{\r\n            this.oBackward.className = this.oBackward.className.replace(this.controlClassDisabled, '');\r\n            this.oForward.className = this.oForward.className.replace(this.controlClassDisabled, '');\r\n        }\r\n\r\n        this.currentPosition = iPosition;\r\n        if(this.bHorizontal){\r\n            this.oSlider.style.left = this.currentPosition + 'px';\r\n        }else{\r\n            this.oSlider.style.top = this.currentPosition + 'px';\r\n        }\r\n\r\n        if(bContinue){\r\n            this.hTimeout = setTimeout(function(_this, _iIterationNumber){return function(){_this.move(_iIterationNumber)}}(this, ++iIterationNumber), this.iPeriod);\r\n        }else{\r\n            this.bWheelAction = false;\r\n        }\r\n    }\r\n\r\n    this.init();\r\n}\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.slider.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.mediabox.js\r\n */\r\n\r\nAMI.UI.MediaBox = {\r\n    iImageAnimateTime: 100, //ms\r\n    iImageFadeInTime: 100, //ms\r\n\r\n    bOpenEnlarged: false,\r\n    bShowGroupName: true,\r\n    bShowGroupNameIfSingle: false,\r\n    bShowSlider: false,\r\n\r\n    bInitialized: false,\r\n    oMediaShadow: null, oMediaBox: null, oLoader: null, oClose: null,\r\n    oGroup: null, oHeader: null, oURL: null, oDescription: null,\r\n    oImageArea: null, oPrevious: null, oNext: null, oImageContainer: null, oImage: null, oImageZoom: null, oImageZoomA: null,\r\n    oSliderPrevious: null, oSliderNext: null, oSlider: null, oSliderCtrl: null, oImageCounter: null,\r\n    sImageType: 'image',\r\n    iImageWidthAddon: 20,\r\n    iImageHeightAddon: 20,\r\n    iImageHeightAddonOriginal: 20,\r\n\r\n    hAnimateTimeout: null,\r\n    iAnimateStepTime: null,\r\n    iAnimateStepX: 0,\r\n    iAnimateStepY: 0,\r\n    iAnimateCurrentWidth: 0,\r\n    iAnimateCurrentHeight: 0,\r\n    iAnimateWidthTo: 0,\r\n    iAnimateHeightTo: 0,\r\n    iFadeInStep: 0,\r\n    iFadeAnimationStep: 0,\r\n    isOpening: false,\r\n    isClosing: false,\r\n\r\n    _iDocLeft: 0,\r\n    _iDocTop: 0,\r\n    _iWndWidth: 0,\r\n    _iWndHeight: 0,\r\n    _iTimeAnimateStop: 0,\r\n\r\n    aGroupImages: [],\r\n    groupCurrentIndex: 0,\r\n\r\n    imageSizeCache: {},\r\n\r\n    oSkins: {\r\n        __default: {'skin': 'MediaBoxWhite', 'iWidthAddon': 20, 'iHeightAddon': 20}\r\n    },\r\n\r\n    addSkin: function(sSkin, aExtensions, iWidthAddon, iHeightAddon){\r\n        if(typeof(aExtensions) == 'object'){\r\n            for(var i = 0; i < aExtensions.length; i++){\r\n                this.oSkins[aExtensions[i]] = {'skin': sSkin, 'iWidthAddon': iWidthAddon || 0, 'iHeightAddon':iHeightAddon || 0};\r\n            }\r\n        }\r\n    },\r\n\r\n    setOpenEnlarged: function(bState){\r\n        this.bOpenEnlarged = bState;\r\n    },\r\n\r\n    setShowGroupName: function(bState){\r\n        this.bShowGroupName = bState;\r\n    },\r\n\r\n    setShowGroupNameIfSingle: function(bState){\r\n        this.bShowGroupNameIfSingle = bState;\r\n    },\r\n\r\n    open: function(imageUrl, imageWidth, imageHeight, groupName, header, url, urlCaption, description){\r\n        if(this.isOpening){\r\n            return;\r\n        }\r\n        this.isOpening = true;\r\n\r\n        AMI.Browser.Event.addHandler(document, 'keydown', AMI.UI.MediaBox.closeOnEscape);\r\n\r\n        imageWidth = imageWidth || 170;\r\n        imageHeight = imageHeight || 150;\r\n        groupName = groupName || '';\r\n        header = header || '';\r\n        url = url || '';\r\n        urlCaption = urlCaption || '';\r\n        description = description || '';\r\n\r\n        var self = this;\r\n\r\n        if(!this.bInitialized){\r\n            this.oMediaShadow = AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadow', '', document.body);\r\n            this.oMediaBox = AMI.Browser.DOM.create('DIV', 'MediaBox', 'MediaBox', '', document.body);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowL', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowR', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowT', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowB', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowLT', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowRT', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowLB', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_shadowRB', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_speckLT', '', this.oMediaBox);\r\n            AMI.Browser.DOM.create('DIV', '', 'MediaBox_speckRB', '', this.oMediaBox);\r\n            this.oClose = AMI.Browser.DOM.create('DIV', '', 'MediaBox_close', '', this.oMediaBox);\r\n            this.oLoader = AMI.Browser.DOM.create('DIV', '', 'MediaBox_loader', '', this.oMediaBox);\r\n\r\n            this.oGroup = AMI.Browser.DOM.create('DIV', '', 'MediaBox_group', '', this.oMediaBox);\r\n            this.oHeader = AMI.Browser.DOM.create('DIV', '', 'MediaBox_header', '', this.oMediaBox);\r\n\r\n            this.oImageArea = AMI.Browser.DOM.create('DIV', 'MediaBox_imageArea', 'MediaBox_imageArea', '', this.oMediaBox);\r\n            this.oPrevious = AMI.Browser.DOM.create('DIV', 'MediaBox_previous', 'MediaBox_previous', '', this.oImageArea);\r\n            this.oNext = AMI.Browser.DOM.create('DIV', 'MediaBox_next', 'MediaBox_next', '', this.oImageArea);\r\n            this.oImageContainer = AMI.Browser.DOM.create('DIV', '', 'MediaBox_container', '', this.oImageArea);\r\n            this.oImageZoom = AMI.Browser.DOM.create('DIV', '', 'MediaBox_zoom', '', this.oMediaBox);\r\n            this.oImageZoomA = AMI.Browser.DOM.create('A', '', 'MediaBox_zoomA', '', this.oImageZoom);\r\n            this.oImageZoomA.href = '';\r\n\r\n            this.oDescription = AMI.Browser.DOM.create('DIV', '', 'MediaBox_description', '', this.oMediaBox);\r\n            this.oURL = AMI.Browser.DOM.create('DIV', '', 'MediaBox_url', '', this.oMediaBox);\r\n\r\n            this.oSliderPrevious = AMI.Browser.DOM.create('DIV', 'MediaBox_sliderPrevious', '', '', this.oMediaBox);\r\n            this.oSliderNext = AMI.Browser.DOM.create('DIV', 'MediaBox_sliderNext', '', '', this.oMediaBox);\r\n            this.oSlider = AMI.Browser.DOM.create('DIV', '', 'MediaBox_slider', '', this.oMediaBox);\r\n            this.oImageCounter = AMI.Browser.DOM.create('DIV', '', 'MediaBox_counter', '', this.oMediaBox);\r\n\r\n            if(AMI.Browser.isIE){\r\n                if (navigator.appVersion.indexOf('MSIE 7.0') >= 0){\r\n                    AMI.find('#MediaBox_previous').style.left = '-38px';\r\n                    header = '<span style=\"font-size:1px;\">&nbsp;</span>';\r\n                    setInterval(\r\n                        function() {\r\n                            var height = AMI.find('#MediaBox').offsetHeight;\r\n                            AMI.find('#MediaBox_previous').style.top = height ? parseInt(height/2-32) + 'px' : '50%';\r\n                            AMI.find('#MediaBox_next').style.top = height ? parseInt(height/2-32) + 'px' : '50%';\r\n                        }, \r\n                        100\r\n                    );\r\n                }\r\n            }\r\n\r\n            AMI.Browser.Event.addHandler(this.oClose, 'click', function(){self.close()});\r\n            AMI.Browser.Event.addHandler(this.oMediaShadow, 'click', function(){self.close()});\r\n            AMI.Browser.Event.addHandler(this.oPrevious, 'click', function(){self.previous()});\r\n            AMI.Browser.Event.addHandler(this.oNext, 'click', function(){self.next()});\r\n\r\n            this.bInitialized = true;\r\n        }\r\n        if(this.bInitialized){\r\n            this.oMediaShadow.style.display = 'block';\r\n            if(AMI.Browser.isIE || AMI.Browser.isIOS){\r\n                this.oMediaShadow.style.width = AMI.Browser.getDocumentWidth() + 'px';\r\n                this.oMediaShadow.style.height = AMI.Browser.getDocumentHeight() + 'px';\r\n                this.oMediaBox.style.position = 'absolute';\r\n            }\r\n            this.startShadowAnimation(0);\r\n            this.fadeInShadow();\r\n\r\n            itemExtension = '';\r\n            if(aMatches = imageUrl.match(/\\.([a-zA-Z]{3,4})$/)){\r\n                var itemExtension = aMatches[1].toLowerCase();\r\n            }else if(aMatches = imageUrl.match(/\\?sname=[^&]*\\.([a-zA-Z]{3,4})&/)){\r\n                var itemExtension = aMatches[1].toLowerCase();\r\n            }\r\n            var extension = typeof(this.oSkins[itemExtension]) != 'undefined' ? itemExtension : '__default';\r\n\r\n            this.oMediaBox.className = 'MediaBox ' + this.oSkins[extension]['skin'];\r\n            this.iImageWidthAddon = parseInt(this.oSkins[extension]['iWidthAddon']);\r\n            this.iImageHeightAddon = this.iImageHeightAddonOriginal = parseInt(this.oSkins[extension]['iHeightAddon']);\r\n\r\n            if(AMI.Browser.isIE || AMI.Browser.isIOS){\r\n                this._iDocLeft = AMI.Browser.getDocumentLeft();\r\n                this._iDocTop = AMI.Browser.getDocumentTop();\r\n            }\r\n            this._iWndWidth = AMI.Browser.getWindowWidth();\r\n            this._iWndHeight = AMI.Browser.getWindowHeight();\r\n\r\n            this.getGroupData(groupName, imageUrl);\r\n            this.initSlider();\r\n            this.updatePrevNext(false);\r\n            this.loadImage(imageUrl, imageWidth, imageHeight, groupName, header, url, urlCaption, description);\r\n        }\r\n    },\r\n\r\n    loadImage: function(imageUrl, imageWidth, imageHeight, groupName, header, url, urlCaption, description){\r\n        var self = this;\r\n\r\n        var bSWF = imageUrl.match(/\\.swf$/i);\r\n\r\n        this.setGroup(groupName);\r\n        this.setHeader(header);\r\n        this.setDescription(description);\r\n        this.setURL(url, urlCaption);\r\n        this.setZoom(false, [], false);\r\n        this.setCounter(this.groupCurrentIndex + 1);\r\n\r\n        if(imageWidth > 0 && imageHeight > 0){\r\n            var ratio = this.getRatio(imageWidth, imageHeight, bSWF);\r\n            imageWidth = Math.floor(imageWidth * ratio);\r\n            imageHeight = Math.floor(imageHeight * ratio);\r\n\r\n            this.positionBox(imageWidth + this.iImageWidthAddon, imageHeight + this.iImageHeightAddon);\r\n        }\r\n\r\n        if(!bSWF){\r\n            this.sImageType = 'image';\r\n            this.oLoader.style.display = 'block';\r\n            this.oImage = new Image();\r\n            this.oImage.className = 'MediaBox_image';\r\n            this.oImage.onload = function(){self.displayImage();}\r\n            if(this.aGroupImages.length > 1){\r\n                this.oImage.onclick = function(evt){self.onImageClick(evt);}\r\n            }\r\n            this.oImage.src = imageUrl;\r\n        }else{\r\n            this.updatePrevNext();\r\n            this.sImageType = 'FLASH';\r\n            this.oLoader.style.display = 'none';\r\n            this.oImageContainer.style.width = imageWidth + 'px';\r\n            this.oImageContainer.style.height = imageHeight + 'px';\r\n\r\n            this.showGroup();\r\n            this.showHeader();\r\n            this.showZoom();\r\n            this.showDescription();\r\n            this.showURL();\r\n            this.showSlider();\r\n            this.showCounter();\r\n\r\n            this.oImageContainer.innerHTML = '<object type=\"application/x-shockwave-flash\" data=\"' + imageUrl + '\" width=\"' + imageWidth + '\" height=\"' + imageHeight + '\"><param name=\"movie\" value=\"' + imageUrl + '\"><param name=\"wmode\" value=\"opaque\"></object>';\r\n        }\r\n    },\r\n\r\n    openFromObject: function(oElement){\r\n        var image = oElement.getAttribute('data-ami-mbpopup') || '';\r\n        var imageWidth = oElement.getAttribute('data-ami-mbpopup-width') || 0;\r\n        var imageHeight = oElement.getAttribute('data-ami-mbpopup-height') || 0;\r\n        var groupName = oElement.getAttribute('data-ami-mbgrp') || '';\r\n        var header = oElement.getAttribute('data-ami-mbhdr') || '';\r\n        var url = oElement.getAttribute('data-ami-mburl') || '';\r\n        var urlCaption = oElement.getAttribute('data-ami-mburlcapt') || '';\r\n        var description = oElement.getAttribute('data-ami-mbdescr') || '';\r\n\r\n        if(AMI.Browser.isIE){\r\n            if (navigator.appVersion.indexOf('MSIE 7.0') >= 0 ){\r\n                if(!header){\r\n                    header = '<span style=\"font-size:1px;\">&nbsp;</span>';\r\n                }\r\n            }\r\n        }\r\n        \r\n        if(image != ''){\r\n            if(!image.match(/\\.swf$/i)){\r\n                imageWidth = 0;\r\n                imageHeight = 0;\r\n            }\r\n            if(this.isOpening){\r\n                this.loadImage(image, imageWidth, imageHeight, groupName, header, url, urlCaption, description);\r\n            }else{\r\n                this.open(image, imageWidth, imageHeight, groupName, header, url, urlCaption, description);\r\n            }\r\n        }\r\n    },\r\n\r\n    openByUrl: function(url){\r\n        url = AMI.UI.MediaBox.PageImages.getImageLink(url);\r\n        var aImages = AMI.find('img');\r\n        for(var i = 0; i < aImages.length; i++){\r\n            var popupImage = aImages[i].getAttribute('data-ami-mbpopup');\r\n            if(popupImage != null && popupImage == url){\r\n                this.openFromObject(aImages[i]);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    openByIndex: function(index){\r\n        if(index >= 0 && index < this.aGroupImages.length){\r\n            this.groupCurrentIndex = index;\r\n            this.openFromObject(this.aGroupImages[this.groupCurrentIndex]);\r\n        }\r\n    },\r\n\r\n    closeOnEscape: function(e){\r\n        if (!e) e = window.event; // fix IE\r\n        if (e.keyCode) // IE\r\n        {\r\n            if (e.keyCode == \"27\") AMI.UI.MediaBox.close();\r\n        }\r\n        else if (e.charCode) // Netscape/Firefox/Opera\r\n        {\r\n            if (e.charCode == \"27\") AMI.UI.MediaBox.close();\r\n        }\r\n    },\r\n\r\n    close: function(){\r\n        if(!this.isClosing){\r\n            this.isClosing = true;\r\n            clearTimeout(this.hAnimateTimeout);\r\n\r\n            if(this.oImage){\r\n                this.oImage.onload = null;\r\n                this.oImage = null;\r\n            }\r\n            this.oImageContainer.innerHTML = '';\r\n            this.oMediaBox.style.display = 'none';\r\n\r\n            this.startShadowAnimation(3)\r\n            this.fadeOutShadow();\r\n        }\r\n    },\r\n\r\n    previous: function(){\r\n        this.openByIndex(this.groupCurrentIndex - 1);\r\n    },\r\n\r\n    next: function(){\r\n        this.openByIndex(this.groupCurrentIndex + 1);\r\n    },\r\n\r\n    onImageClick: function(evt){\r\n        var aPosition = AMI.Browser.getPointerPosition(evt);\r\n        var aImagePosition = AMI.Browser.getObjectPosition(this.oImage);\r\n        var clickX = aPosition[0] - aImagePosition[0] - AMI.Browser.getDocumentLeft();\r\n        var median = this.oImage.offsetWidth / 2;\r\n        if(clickX <= median){\r\n            this.previous();\r\n        }else{\r\n            this.next();\r\n        }\r\n    },\r\n\r\n    getGroupData: function(groupName, currentImageUrl){\r\n        this.aGroupImages = [];\r\n        this.groupCurrentIndex = 0;\r\n\r\n        if(groupName != ''){\r\n            var oRequest = {'groupName': groupName};\r\n            var oResponse = {'aGroupImages': []};\r\n            AMI.Message.send('ON_AMI_MEDIABOX_GET_GROUP', oRequest, oResponse);\r\n            this.aGroupImages = oResponse.aGroupImages;\r\n            for(var i = 0; i < this.aGroupImages.length; i++){\r\n                if(this.aGroupImages[i].getAttribute('data-ami-mbpopup') == currentImageUrl){\r\n                    this.groupCurrentIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    initSlider: function(){\r\n        this.oSlider.innerHTML = '';\r\n        this.oSlider.style.visibility = 'hidden';\r\n        this.oSliderPrevious.style.visibility = 'hidden';\r\n        this.oSliderNext.style.visibility = 'hidden';\r\n\r\n        if(!this.bShowSlider || this.aGroupImages.length <= 1){\r\n            this.oSlider.style.display = 'none';\r\n            this.oSliderPrevious.style.display = 'none';\r\n            this.oSliderNext.style.display = 'none';\r\n            return;\r\n        }else{\r\n            this.oSlider.style.display = 'block';\r\n            this.oSliderPrevious.style.display = 'block';\r\n            this.oSliderNext.style.display = 'block';\r\n        }\r\n\r\n        var self = this;\r\n\r\n        var oSliderContent = AMI.Browser.DOM.create('DIV', '', '', 'position: absolute', this.oSlider);\r\n        for(var i = 0; i < this.aGroupImages.length; i++){\r\n            if(i > 0){\r\n                AMI.Browser.DOM.create('DIV', '', 'MediaBox_sliderDelimeter', '', oSliderContent).innerHTML = '&nbsp;';\r\n            }\r\n            var oSliderImage = AMI.Browser.DOM.create('IMG', '', 'MediaBox_sliderImage', '', oSliderContent);\r\n            oSliderImage.src = this.aGroupImages[i].getAttribute('data-ami-mbpopup');\r\n            AMI.Browser.Event.addHandler(oSliderImage, 'click', function(_this, _i){return function(){_this.openByIndex(_i)}}(this, i));\r\n        }\r\n        this.oSliderCtrl = new AMI.UI.Slider(this.oSlider, this.oSliderPrevious, this.oSliderNext, 50, true);\r\n    },\r\n\r\n    updatePrevNext: function(bForceValue){\r\n        if(typeof(bForceValue) != 'undefined'){\r\n            this.oPrevious.style.display = bForceValue ? 'block' : 'none';\r\n            this.oNext.style.display = bForceValue ? 'block' : 'none';\r\n        }else{\r\n            this.oPrevious.style.display = this.aGroupImages.length > 1 && this.groupCurrentIndex > 0 ? 'block' : 'none';\r\n            this.oNext.style.display = this.aGroupImages.length > 1 && this.groupCurrentIndex < this.aGroupImages.length - 1 ? 'block' : 'none';\r\n        }\r\n    },\r\n\r\n    setGroup: function(groupName){\r\n        if(!this.bShowGroupName){\r\n            groupName = '';\r\n        }else if(groupName != '' && !this.bShowGroupNameIfSingle){\r\n            var oResponse = {result: 0};\r\n            AMI.Message.send('ON_AMI_MEDIABOX_GROUPS_NUMBER', oResponse);\r\n            if(oResponse.result <= 1){\r\n                groupName = '';\r\n            }\r\n        }\r\n\r\n        this.oGroup.style.display = groupName == '' ? 'none' : 'block';\r\n        this.oGroup.style.visibility = 'hidden';\r\n        this.oGroup.innerHTML = groupName;\r\n    },\r\n\r\n    showGroup: function(){\r\n        if(this.oGroup.style.display == 'block'){\r\n            this.oGroup.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    setHeader: function(header){\r\n        this.oHeader.style.display = header == '' ? 'none' : 'block';\r\n        this.oHeader.style.visibility = 'hidden';\r\n        this.oHeader.innerHTML = header;\r\n    },\r\n\r\n    showHeader: function(){\r\n        if(this.oHeader.style.display == 'block'){\r\n            this.oHeader.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    setURL: function(url, urlCaption){\r\n        this.oURL.style.display = url == '' ? 'none' : 'block';\r\n        this.oURL.style.visibility = 'hidden';\r\n        this.oURL.innerHTML = '<a href=\"' + url + '\" target=\"_blank\">' + (urlCaption != '' ? urlCaption : url) + '</a>';\r\n    },\r\n\r\n    showURL: function(){\r\n        if(this.oURL.style.display == 'block'){\r\n            this.oURL.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    setDescription: function(description){\r\n        this.oDescription.style.display = description == '' ? 'none' : 'block';\r\n        this.oDescription.style.visibility = 'hidden';\r\n        this.oDescription.innerHTML = description;\r\n    },\r\n\r\n    showDescription: function(){\r\n        if(this.oDescription.style.display == 'block'){\r\n            this.oDescription.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    setZoom: function(bZoommed, aSizes, bShow){\r\n        this.oImageZoom.style.display = bShow ? 'block' : 'none';\r\n        this.oImageZoom.style.visibility = 'hidden';\r\n        this.setZoomText(bZoommed, aSizes);\r\n    },\r\n\r\n    setZoomText: function(bZoommed, aSizes){\r\n        var zoomText = bZoommed ? AMI.Template.Locale.get('mediaBoxZommed') : AMI.Template.Locale.get('mediaBoxNotZommed');\r\n        zoomText = zoomText.replace('__width__', aSizes[0]).replace('__height__', aSizes[1]);\r\n        this.oImageZoom.innerHTML = zoomText;\r\n    },\r\n\r\n    showZoom: function(){\r\n        if(this.oImageZoom.style.display == 'block'){\r\n            this.oImageZoom.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    showSlider: function(){\r\n        if(this.oSlider.style.display == 'block'){\r\n            this.oSlider.style.visibility = 'visible';\r\n            this.oSliderPrevious.style.visibility = 'visible';\r\n            this.oSliderNext.style.visibility = 'visible';\r\n            this.oSliderCtrl.reInit(this.oSlider.offsetWidth);\r\n        }\r\n    },\r\n\r\n    setCounter: function(currentImage){\r\n        this.oImageCounter.style.display = this.aGroupImages.length > 1 ? 'block' : 'none';\r\n        this.oImageCounter.style.visibility = 'hidden';\r\n        this.oImageCounter.innerHTML = AMI.Template.Locale.get('mediaBoxCounter').replace('__current__', currentImage).replace('__total__', this.aGroupImages.length);\r\n    },\r\n\r\n    showCounter: function(){\r\n        if(this.oImageCounter.style.display == 'block'){\r\n            this.oImageCounter.style.visibility = 'visible';\r\n        }\r\n    },\r\n\r\n    getRatioIndex: function(iImageWidth, iImageHeight){\r\n        var ratio = 1;\r\n        if(iImageWidth > this._iWndWidth - this.iImageWidthAddon - 30 || iImageHeight > this._iWndHeight - this.iImageHeightAddon - 30){\r\n            var ratioX = (this._iWndWidth - this.iImageWidthAddon - 30) / iImageWidth;\r\n            var ratioY = (this._iWndHeight - this.iImageHeightAddon - 30) / iImageHeight;\r\n            ratio = Math.min(ratioX, ratioY);\r\n        }\r\n        return ratio;\r\n    },\r\n\r\n    getRatio: function(imageWidth, imageHeight, bCorrectRation){\r\n        if(typeof(bCorrectRation) == 'undefined'){\r\n            bCorrectRation = true;\r\n        }\r\n\r\n        var ratio = this.getRatioIndex(imageWidth, imageHeight);\r\n        if(!bCorrectRation){\r\n            return ratio;\r\n        }\r\n\r\n        for(var i = 0; i < 10 /*max iterations*/; i++){\r\n            var addon = 0;\r\n            this.iImageHeightAddon = this.iImageHeightAddonOriginal;\r\n            if(this.oGroup.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oGroup, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oHeader.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oHeader, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oImageZoom.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oImageZoom, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oDescription.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oDescription, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oURL.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oURL, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oSlider.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oSlider, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(this.oImageCounter.style.display == 'block'){\r\n                addon += this.getBlockHeight(this.oImageCounter, Math.floor(imageWidth * ratio));\r\n            }\r\n            if(addon == 0){\r\n                break;\r\n            }else{\r\n                this.iImageHeightAddon += addon;\r\n                newRatio = this.getRatioIndex(imageWidth, imageHeight);\r\n                if(ratio == newRatio){\r\n                    break;\r\n                }else{\r\n                    ratio = newRatio;\r\n                }\r\n            }\r\n        }\r\n\r\n        return ratio;\r\n    },\r\n\r\n    getBlockHeight: function(oBlock, width){\r\n        var oClone = oBlock.cloneNode(true);\r\n        oClone.style.position = 'static';\r\n        oClone.style.display = 'block';\r\n        oClone.style.visibility = 'visible';\r\n\r\n        var oBlock = AMI.Browser.DOM.create('DIV', '', '', 'position: absolute; left: -10000px; top: -10000px; width: ' + (width + this.iImageWidthAddon) + 'px', document.body);\r\n        oClone = oBlock.appendChild(oClone);\r\n        var height = oBlock.offsetHeight;\r\n        oBlock.parentNode.removeChild(oBlock);\r\n\r\n        return height;\r\n    },\r\n\r\n    positionBox: function(width, height){\r\n        var deltaX = this._iDocLeft;\r\n        var deltaY = this._iDocTop;\r\n        this.oMediaBox.style.width = width + 'px';\r\n        this.oMediaBox.style.height = height + 'px';\r\n        this.oMediaBox.style.left = Math.max(this._iDocLeft + 10, parseInt((this._iWndWidth - ( (width > 320) ? width : 320) ) / 2 + deltaX)) + 'px';\r\n        this.oMediaBox.style.top = Math.max(this._iDocTop + 10, parseInt((this._iWndHeight - height) / 2 + deltaY)) + 'px';\r\n        this.oMediaBox.style.display = 'block';\r\n    },\r\n\r\n    displayImage: function(){\r\n        var iNumberOfAnimateIterations = 13;\r\n        if(AMI.Browser.isIE || AMI.Browser.isIOS){\r\n            var iNumberOfAnimateIterations = 3;\r\n        }\r\n\r\n        var ratio = this.getRatio(this.oImage.width, this.oImage.height);\r\n        if(ratio < 1){\r\n            this.setZoom(!this.bOpenEnlarged, [this.oImage.width, this.oImage.height], true);\r\n            ratio = this.getRatio(this.oImage.width, this.oImage.height);\r\n        }\r\n\r\n        if(this.bOpenEnlarged && ratio < 1){\r\n            this.iAnimateWidthTo = Math.min(this._iWndWidth - this.iImageWidthAddon, this.oImage.width + this.iImageWidthAddon + 16);\r\n            this.iAnimateHeightTo = Math.min(this._iWndHeight - this.iImageHeightAddon, this.oImage.height + this.iImageHeightAddon + 16);\r\n        }else{\r\n            this.iAnimateWidthTo = Math.floor(this.oImage.width * ratio) + this.iImageWidthAddon;\r\n            this.iAnimateHeightTo = Math.floor(this.oImage.height * ratio) + this.iImageHeightAddon;\r\n        }\r\n\r\n        if(ratio < 1){\r\n            var iCalculatedWidth = Math.floor(this.oImage.width * ratio);\r\n            var iCalculatedHeight = Math.floor(this.oImage.height * ratio);\r\n            this.oImageZoom.onclick = function(_this, _iImageWidth, _iImageHeight, _iCalculatedWidth, _iCalculatedHeight){return function(){_this.resizeImage(_iImageWidth, _iImageHeight, _iCalculatedWidth, _iCalculatedHeight);return false;}}(this, this.oImage.width, this.oImage.height, iCalculatedWidth, iCalculatedHeight);\r\n            if(this.bOpenEnlarged){\r\n                this.oImage.setAttribute('bOriginalSize', '1');\r\n                /*\r\n                this.oImage.style.width = this.oImage.style.width + 'px';\r\n                this.oImage.style.height = this.oImage.style.height + 'px';\r\n                */\r\n                this.oImageContainer.style.width = this.iAnimateWidthTo - this.iImageWidthAddon + 'px';\r\n                this.oImageContainer.style.height = this.iAnimateHeightTo - this.iImageHeightAddon + 'px';\r\n                this.oImageContainer.style.overflow = 'auto';\r\n            }else{\r\n                this.oImage.setAttribute('bOriginalSize', '0');\r\n                this.oImageContainer.style.overflow = 'hidden';\r\n                this.oImageContainer.style.width = this.oImage.style.width = iCalculatedWidth + 'px';\r\n                this.oImageContainer.style.height = this.oImage.style.height = iCalculatedHeight + 'px';\r\n            }\r\n        }else{\r\n            this.oImageContainer.style.width = this.oImage.width + 'px';\r\n            this.oImageContainer.style.height = this.oImage.height + 'px';\r\n        }\r\n\r\n        this.iAnimateStepX = Math.ceil((this.iAnimateWidthTo - parseInt(this.oMediaBox.style.width)) / iNumberOfAnimateIterations),\r\n        this.iAnimateStepY = Math.ceil((this.iAnimateHeightTo - parseInt(this.oMediaBox.style.height)) / iNumberOfAnimateIterations),\r\n        this.iAnimateStepTime = this.iImageAnimateTime / iNumberOfAnimateIterations;\r\n\r\n        this.oLoader.style.display = 'none';\r\n        this.oImageContainer.style.display = 'none';\r\n\r\n        if(this.iAnimateStepX == 0 || this.iAnimateStepY == 0 || this.iAnimateStepTime == 0){\r\n            this.positionBox(this.iAnimateWidthTo, this.iAnimateHeightTo);\r\n\r\n            this.showGroup();\r\n            this.showHeader();\r\n            this.showZoom();\r\n            this.showDescription();\r\n            this.showURL();\r\n            this.showSlider();\r\n            this.showCounter();\r\n            this.updatePrevNext();\r\n\r\n            this.oImageContainer.innerHTML = '';\r\n            this.oImageContainer.style.display = 'block';\r\n            this.oImageContainer.appendChild(this.oImage);\r\n            AMI.Browser.setOpacity(this.oImage, 0);\r\n            this.iFadeInStep = 0;\r\n            this.fadeIn();\r\n        }else{\r\n            this._iTimeAnimateStop = (new Date()).getTime() + this.iImageAnimateTime;\r\n            this.animatePosition();\r\n        }\r\n    },\r\n\r\n    animatePosition: function(){\r\n        var bFinalStep = (new Date()).getTime() > this._iTimeAnimateStop;\r\n        if(!bFinalStep){\r\n            var width = parseInt(this.oMediaBox.style.width) + this.iAnimateStepX;\r\n            var height = parseInt(this.oMediaBox.style.height) + this.iAnimateStepY;\r\n            if(width >= this.iAnimateWidthTo || height >= this.iAnimateHeightTo){\r\n                width = this.iAnimateWidthTo;\r\n                height = this.iAnimateHeightTo;\r\n                bFinalStep = true;\r\n            }else{\r\n                bFinalStep = false;\r\n                this.positionBox(width, height);\r\n            }\r\n        }\r\n        if(bFinalStep){\r\n            this.positionBox(this.iAnimateWidthTo, this.iAnimateHeightTo);\r\n\r\n            this.showGroup();\r\n            this.showHeader();\r\n            this.showZoom();\r\n            this.showDescription();\r\n            this.showURL();\r\n            this.showSlider();\r\n            this.showCounter();\r\n            this.updatePrevNext();\r\n\r\n            this.oImageContainer.innerHTML = '';\r\n            this.oImageContainer.style.display = 'block';\r\n            this.oImageContainer.appendChild(this.oImage);\r\n            AMI.Browser.setOpacity(this.oImage, 0);\r\n            this.iFadeInStep = 0;\r\n            this.fadeIn();\r\n        }else{\r\n            var self = this;\r\n            this.hAnimateTimeout = setTimeout(function(){self.animatePosition()}, this.iAnimateStepTime);\r\n        }\r\n    },\r\n\r\n    fadeIn: function(){\r\n        if(AMI.Browser.isIE || AMI.Browser.isIOS){\r\n            this.iFadeInStep += 3;\r\n        }else{\r\n            this.iFadeInStep ++;\r\n        }\r\n        AMI.Browser.setOpacity(this.oImage, this.iFadeInStep / 10);\r\n        if(this.iFadeInStep < 10){\r\n            var self = this;\r\n            this.hAnimateTimeout = setTimeout(function(){self.fadeIn()}, 12);\r\n        }else{\r\n            AMI.Browser.setOpacity(this.oImage, 1);\r\n            this.isOpening = true;\r\n        }\r\n    },\r\n\r\n    startShadowAnimation: function(iStartOpacity){\r\n        this.iFadeAnimationStep = 0;\r\n        AMI.Browser.setOpacity(this.oMediaShadow, iStartOpacity);\r\n    },\r\n\r\n\r\n    fadeInShadow: function(){\r\n        AMI.Browser.setOpacity(this.oMediaShadow, ++this.iFadeAnimationStep / 10);\r\n        if(this.iFadeAnimationStep < (AMI.Browser.isIE || AMI.Browser.isIOS ? 2 : 3)){\r\n            var self = this;\r\n            this.hAnimateTimeout = setTimeout(function(){self.fadeInShadow()}, 24);\r\n        }\r\n    },\r\n\r\n    fadeOutShadow: function(){\r\n        AMI.Browser.setOpacity(this.oMediaShadow, (3 - ++this.iFadeAnimationStep) / 10);\r\n        if(this.iFadeAnimationStep < (AMI.Browser.isIE || AMI.Browser.isIOS ? 2 : 3)){\r\n            var self = this;\r\n            this.hAnimateTimeout = setTimeout(function(){self.fadeOutShadow()}, 24);\r\n        }else{\r\n            this.oMediaShadow.style.display = 'none';\r\n            this.isOpening = false;\r\n            this.isClosing = false;\r\n        }\r\n    },\r\n\r\n    resizeImage :function(iImageWidth, iImageHeight, iCalculatedWidth, iCalculatedHeight){\r\n        var bOriginalSize = this.oImage.getAttribute('bOriginalSize') == 1 ? 0 : 1;\r\n        this.oImage.setAttribute('bOriginalSize', bOriginalSize);\r\n        if(bOriginalSize == 0){\r\n            this.oImage.style.width = iCalculatedWidth + 'px';\r\n            this.oImage.style.height = iCalculatedHeight + 'px';\r\n\r\n            var iWndWidth = Math.min(this._iWndWidth - this.iImageWidthAddon, iCalculatedWidth + this.iImageWidthAddon);\r\n            var iWndHeight = Math.min(this._iWndHeight - this.iImageHeightAddonOriginal, iCalculatedHeight + this.iImageHeightAddon);\r\n            this.positionBox(iWndWidth, iWndHeight);\r\n\r\n            this.oImageContainer.style.width = iWndWidth - this.iImageWidthAddon + 'px';\r\n            this.oImageContainer.style.height = iWndHeight - this.iImageHeightAddon + 'px';\r\n            this.oImageContainer.style.overflow = 'hidden';\r\n\r\n            this.setZoomText(true, [iImageWidth, iImageHeight]);\r\n        }else{\r\n            this.oImage.style.width = iImageWidth + 'px';\r\n            this.oImage.style.height = iImageHeight + 'px';\r\n\r\n            var iWndWidth = Math.min(this._iWndWidth - this.iImageWidthAddon, iImageWidth + this.iImageWidthAddon + 16);\r\n            var iWndHeight = Math.min(this._iWndHeight - this.iImageHeightAddonOriginal, iImageHeight + this.iImageHeightAddon + 16);\r\n            this.positionBox(iWndWidth, iWndHeight);\r\n\r\n            this.oImageContainer.style.width = iWndWidth - this.iImageWidthAddon + 'px';\r\n            this.oImageContainer.style.height = iWndHeight - this.iImageHeightAddon + 'px';\r\n            this.oImageContainer.style.overflow = 'auto';\r\n\r\n            this.setZoomText(false, [iImageWidth, iImageHeight]);\r\n        }\r\n    }\r\n}\r\n\r\nAMI.UI.MediaBox.addSkin('MediaBoxBlack', ['swf'], 0, 0);\r\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.mediabox.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.overimage.js\r\n */\r\n\r\nAMI.UI.OverImage = {\n    oBlock: null,\n    hTimeout: null,\n\n    onOver: function(evt){\n        this.stopWaiting();\n        var oTarget = AMI.Browser.Event.getTarget(evt);\n        if(oTarget != null && oTarget.tagName && oTarget.tagName == 'IMG'){\n            imageLink = oTarget.getAttribute('data-ami-mbover');\n            if(imageLink != null && imageLink != ''){\n                if(this.oBlock == null){\n                    this.oBlock = AMI.Browser.DOM.create('DIV', '', 'amiOverImage', 'position: absolute', document.body);\n                }\n                this.oBlock.style.display = 'none';\n\n                this.hTimeout = setTimeout(\n                    function(_this, _oTarget, _imageLink){return function(){\n                        var oImage = new Image();\n                        oImage.onload = function(__this, __oTarget){return function(){__this.showBlock(__oTarget)}}(_this, _oTarget);\n                        oImage.src = _imageLink;\n                        _this.oBlock.innerHTML = '';\n                        _this.oBlock.appendChild(oImage);\n                    }}(this, oTarget, imageLink),\n                    700\n                );\n            }\n        }\n    },\n\n    onOut: function(evt){\n        this.stopWaiting();\n        var oTarget = AMI.Browser.Event.getTarget(evt);\n        if(oTarget != null && oTarget.tagName && oTarget.tagName == 'IMG'){\n            imageLink = oTarget.getAttribute('data-ami-mbover');\n            if(this.oBlock != null && imageLink != null && imageLink != ''){\n                this.oBlock.style.display = 'none';\n            }\n        }\n    },\n\n    stopWaiting: function(evt){\n        clearTimeout(this.hTimeout);\n    },\n\n    showBlock: function(oParent){\n        var aPosition = AMI.Browser.getObjectPosition(oParent);\n        this.oBlock.style.display = 'block';\n        this.oBlock.style.left = (aPosition[0] + oParent.offsetWidth) + 'px';\n        this.oBlock.style.top = aPosition[1] + 'px';\n    }\n}\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.overimage.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.suggestion.js\r\n */\r\n\r\nAMI.UI.Suggestion = function (fieldId, aRequestData, itemsSplitter){\r\n    this.aRequestData = aRequestData || {};\r\n\r\n    this.minimumFieldTextLength = 3; // Minimum length of text in parent field when suggestion should be shown\r\n    this.fillRowsTimeout = 500; // Time between last key up and new rows load\r\n    this.maxNameLength = 65; // Maximum length befor ... in dropdown list\r\n\r\n    this.fieldId = fieldId;\r\n    this.fieldObject = null;\r\n    this.suggestionId = fieldId + '_suggestion';\r\n    this.suggestionObject = null;\r\n    this.suggestionObjectShown = false;\r\n    this.suggestionIframeObject = null;\r\n    this.allowProcessing = true;\r\n    this.showCauseOfArrows = false;\r\n\r\n    this.rowObjects = [];\r\n    this.currentRow = -1;\r\n    this.fillTimeout = null;\r\n\r\n    this.itemsSplitter = typeof(itemsSplitter) != 'undefined' ? itemsSplitter : '';\r\n    this.lastFieldValueLength = 0;\r\n    this.doStoreFieldValue = true;\r\n    this.isFieldValueModified = false;\r\n    this.storedFieldValue = '';\r\n    this.fieldLeadingSpaces = '';\r\n    this.itemInitialCaretPosition = 0;\r\n    this.itemEndCaretPosition = 0;\r\n\r\n    this.scriptName = 'ami_resp';\r\n    this.scriptExt = 'php';\r\n\r\n    // Initialize: Attach class events to text field and other actions\r\n    this.init = function(){\r\n        this.fieldObject = document.getElementById(this.fieldId);\r\n        this.storedFieldValue = this.fieldObject.value;\r\n        this.lastFieldValueLength = this.storedFieldValue.length;\r\n\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'mousedown', function(currentObject){return function(currentEvent){currentObject.onFieldMouseDown(currentEvent)}}(this));\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'keydown', function(currentObject){return function(currentEvent){currentObject.onFieldKeyDown(currentEvent)}}(this));\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'keyup', function(currentObject){return function(currentEvent){currentObject.onFieldKeyUp(currentEvent)}}(this));\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'blur', function(currentObject){return function(currentEvent){currentObject.onFieldBlur(currentEvent)}}(this));\r\n        AMI.Browser.Event.addHandler(this.fieldObject, 'focus', function(currentObject){return function(currentEvent){currentObject.showCauseOfArrows = true; currentObject.startShowObject(true)}}(this));\r\n    }\r\n\r\n    this.setDebug = function(aReceived){\r\n        if(DEBUG_BY_IP && typeof(aReceived.debug) != 'undefined'){\r\n            var oDebugBlock = document.getElementById('amid');\r\n            if(oDebugBlock != null){\r\n                oDebugBlock.innerHTML = oDebugBlock.innerHTML + aReceived.debug;\r\n            }\r\n        }\r\n    }\r\n\r\n    //\r\n    // Event handlers\r\n    //\r\n\r\n    this.onFieldMouseDown = function(currentEvent){\r\n        if((this.showCauseOfArrows || this.allowProcessing) && this.suggestionObjectShown && this.itemsSplitter != ''){\r\n            this.hideSuggestionObject();\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    // Key down is used for arrow and escape processing\r\n    this.onFieldKeyDown = function(currentEvent){\r\n        currentEvent = AMI.Browser.Event.validate(currentEvent);\r\n        if(currentEvent.keyCode == 38 || currentEvent.keyCode == 40){\r\n            AMI.Browser.Event.stopProcessing(currentEvent);\r\n        }\r\n\r\n        if(!this.allowProcessing && !this.showCauseOfArrows){\r\n            return true;\r\n        }\r\n\r\n        if(this.suggestionObjectShown){\r\n            if(currentEvent.keyCode == 38 || currentEvent.keyCode == 40){\r\n                if(this.doStoreFieldValue){\r\n                    this.storedFieldValue = this.fieldObject.value;\r\n                    this.doStoreFieldValue = false;\r\n                }\r\n                var rowIndex = this.currentRow + (currentEvent.keyCode == 40 ? 1 : -1);\r\n                if(rowIndex > this.rowObjects.length - 1){\r\n                    rowIndex = -1;\r\n                }else if(rowIndex < -1){\r\n                    rowIndex = this.rowObjects.length - 1;\r\n                }\r\n                this.selectRow(rowIndex, true);\r\n            }else if(currentEvent.keyCode == 27){\r\n                this.resetFieldText();\r\n                this.closeSuggestionObject();\r\n                AMI.Browser.setCaretPosition(this.fieldObject, this.itemInitialCaretPosition);\r\n                AMI.Browser.Event.stopProcessing(currentEvent);\r\n            }else if(currentEvent.keyCode == 13){\r\n                var bSubmit = true;\r\n                if(this.currentRow >= 0 && typeof(this.rowObjects[this.currentRow]) != 'undefined'){\r\n                    if(this.rowObjects[this.currentRow].getAttribute('rowType') == 'result'){\r\n                        var resultURL = this.rowObjects[this.currentRow].getAttribute('rowValue');\r\n                        if(resultURL != ''){\r\n                            document.location = resultURL;\r\n                            bSubmit = false;\r\n                        }\r\n                    }\r\n                }\r\n                this.doStoreFieldValue = true;\r\n                this.hideSuggestionObject();\r\n                AMI.Browser.setCaretPosition(this.fieldObject, this.itemEndCaretPosition);\r\n                AMI.Browser.Event.stopProcessing(currentEvent);\r\n                if(bSubmit){\r\n                    this.submitForm();\r\n                }\r\n            }else if(this.itemsSplitter != '' && (currentEvent.keyCode == 35 || currentEvent.keyCode == 36 || currentEvent.keyCode == 37 || currentEvent.keyCode == 39)){\r\n                this.hideSuggestionObject();\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    // Key up shows/hides suggestion object when user typing\r\n    this.onFieldKeyUp = function(currentEvent){\r\n\r\n        currentEvent = AMI.Browser.Event.validate(currentEvent);\r\n\r\n        var doInitActionsCauseOfArrows = false;\r\n        if(!this.showCauseOfArrows){\r\n            this.showCauseOfArrows = (!this.suggestionObjectShown && (currentEvent.keyCode == 38 || currentEvent.keyCode == 40));\r\n            doInitActionsCauseOfArrows = this.showCauseOfArrows;\r\n        }\r\n\r\n        if(!this.allowProcessing && !this.showCauseOfArrows){\r\n            return true;\r\n        }\r\n\r\n        if(currentEvent.keyCode == 27 || currentEvent.keyCode == 13){\r\n            return false;\r\n        }\r\n\r\n        this.startShowObject(doInitActionsCauseOfArrows);\r\n\r\n        return true;\r\n    }\r\n\r\n    this.startShowObject = function(doInitActionsCauseOfArrows){\r\n        if(this.lastFieldValueLength != this.fieldObject.value.length){\r\n            this.doStoreFieldValue = true;\r\n            this.lastFieldValueLength = this.fieldObject.value.length;\r\n        }else if(!doInitActionsCauseOfArrows){\r\n            return false;\r\n        }\r\n\r\n        var currentItem = this.getEditedItemText();\r\n        if(currentItem.length >= this.minimumFieldTextLength){\r\n            this.itemInitialCaretPosition = AMI.Browser.getCaretPosition(this.fieldObject);\r\n\r\n            // Create content div\r\n            if(this.suggestionObject == null){\r\n                this.createSuggestionObject();\r\n            }\r\n\r\n            // Fill rows\r\n            clearTimeout(this.fillTimeout);\r\n            if(doInitActionsCauseOfArrows){\r\n                this.fillRows();\r\n            }else{\r\n                this.fillTimeout = setTimeout(function(currentObject){return function(){currentObject.fillRows()}}(this), this.fillRowsTimeout);\r\n            }\r\n        }else{\r\n            this.hideSuggestionObject();\r\n        }\r\n    }\r\n\r\n    this.doNotCloseOnBlur = false;\r\n\r\n    // Hide suggestion object upon blur\r\n    this.onFieldBlur = function(currentEvent){\r\n        if(this.doNotCloseOnBlur){\r\n            this.doNotCloseOnBlur = false;\r\n            return true;\r\n        }\r\n\r\n        if(!this.allowProcessing && !this.showCauseOfArrows){\r\n            return true;\r\n        }\r\n\r\n        this.hideSuggestionObject();\r\n        return true;\r\n    }\r\n\r\n    this.onSuggestionObjectClick = function(currentEvent){\r\n        currentEvent = AMI.Browser.Event.validate(currentEvent);\r\n        var currentTarget = AMI.Browser.Event.getTarget(currentEvent);\r\n        if(currentTarget.tagName){\r\n            if(currentTarget.tagName == 'A' && currentTarget.className == 'suggestionClose'){\r\n                this.resetFieldText();\r\n                this.closeSuggestionObject();\r\n                AMI.Browser.setCaretPosition(this.fieldObject, this.itemInitialCaretPosition);\r\n                AMI.Browser.Event.stopProcessing(currentEvent);\r\n            }else if(currentTarget.tagName == 'A'){\r\n                this.fieldObject.focus();\r\n                this.doNotCloseOnBlur = true;\r\n            }else if(currentTarget.tagName == 'DIV'){\r\n                if(currentTarget.className.indexOf('suggestionRow') == 0){\r\n                    currentIndex = currentTarget.getAttribute('rowIndex');\r\n                    this.selectRow(currentIndex, true);\r\n                    this.hideSuggestionObject();\r\n                    this.submitForm();\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    //\r\n    // Create / show / hide object functions\r\n    //\r\n\r\n    this.createSuggestionObject = function(){\r\n        contentDiv = document.createElement('div');\r\n        contentDiv.id = this.suggestionId;\r\n        contentDiv.className = 'suggestionDiv';\r\n\r\n        var fieldPosition = AMI.Browser.getObjectPosition(this.fieldObject);\r\n        contentDiv.style.left = fieldPosition[0] + 'px';\r\n        contentDiv.style.top = fieldPosition[1] + this.fieldObject.offsetHeight + 'px';\r\n        contentDiv.style.height = '12px';\r\n\r\n        contentDiv.onmousedown = function(currentObject){return function(currentEvent){currentObject.onSuggestionObjectClick(currentEvent)}}(this);\r\n\r\n        this.suggestionObject = document.body.appendChild(contentDiv);\r\n    }\r\n\r\n    this.showSuggestionObject = function(bHasHistory, bHasResults){\r\n        this.suggestionObject.style.height = ((this.rowObjects.length - (!bHasHistory ? 1 : 0)) * 15 + (bHasResults ? 42 : 2)) + 'px';\r\n\r\n        if(!this.suggestionObjectShown && this.suggestionObject != null){\r\n            this.selectRow(-1, false);\r\n\r\n            var fieldPosition = AMI.Browser.getObjectPosition(this.fieldObject);\r\n            contentDiv.style.left = fieldPosition[0] + 'px';\r\n            this.suggestionObject.style.display = 'block';\r\n\r\n            var iScreenLeft = AMI.Browser.getDocumentLeft();\r\n            var iScreenRight = AMI.Browser.getWindowWidth() + iScreenLeft - 2;\r\n            var iRightPoint = fieldPosition[0] + this.suggestionObject.offsetWidth;\r\n            if(iRightPoint > iScreenRight){\r\n                contentDiv.style.left = fieldPosition[0] - (iRightPoint - iScreenRight) + 'px';\r\n            }\r\n\r\n            this.suggestionObjectShown = true;\r\n        }\r\n    }\r\n\r\n    this.hideSuggestionObject = function(){\r\n        this.showCauseOfArrows = false;\r\n        clearTimeout(this.fillTimeout);\r\n        if(this.suggestionObjectShown && this.suggestionObject != null){\r\n            this.suggestionObject.style.display = 'none';\r\n            this.suggestionObjectShown = false;\r\n        }\r\n    }\r\n\r\n    this.closeSuggestionObject = function(){\r\n        this.allowProcessing = false;\r\n        this.hideSuggestionObject();\r\n    }\r\n\r\n    //\r\n    // Manage data in object\r\n    //\r\n\r\n    this.fillRows = function(){\r\n        var url = document.location.protocol + '//' + document.location.host + '/' + this.scriptName + '.' + this.scriptExt + '?';\r\n\r\n        var cnt = 0;\r\n        this.aRequestData['phrase'] = this.getEditedItemText();\r\n        for(var name in this.aRequestData){\r\n            url = url + (cnt++ > 0 ? '&' : '') + encodeURIComponent(name) + '=' + encodeURIComponent(this.aRequestData[name]);\r\n        }\r\n\r\n        AMI.HTTPRequest.getContent(\r\n            'GET',\r\n            url,\r\n            '',\r\n            function(_this){\r\n                return function(state, content){\r\n                    _this.fillRowsCallback(state, content)\r\n                }\r\n            }(this)\r\n        );\r\n    }\r\n\r\n    this.fillRowsCallback = function(state, content){\r\n        if(state == 1){\r\n            this.currentRow = -1;\r\n            this.rowObjects = [];\r\n            this.suggestionObject.innerHTML = '';\r\n            var fieldText = this.getEditedItemText();\r\n            var bHasHistory = false;\r\n            var bHasResults = false;\r\n\r\n            if(content.length){\r\n                var aReceived = {};\r\n\r\n                if(content.indexOf('{') != 0){\r\n                    aReceived.debug = 'Unknown data received for block ' + this.idContainer + ': ' + content;\r\n                    this.setDebug(aReceived);\r\n                    return;\r\n                }\r\n\r\n                aReceived = AMI.String.decodeJSON(content);\r\n                var bResultInserted = false;\r\n                if(typeof(aReceived) == 'object' && typeof(aReceived.data) != 'undefined'){\r\n\r\n                    this.setDebug(aReceived);\r\n\r\n                    for(var i = 0; i < aReceived.data.list.length; i++){\r\n                        if(typeof(aReceived.data.list[i].query) != 'undefined'){\r\n                            var name = this.trimText(aReceived.data.list[i].query);\r\n                            var itemValue = name;\r\n                            var itemType = 'suggestion';\r\n                            var bExact = aReceived.data.list[i].query == fieldText;\r\n                            bHasHistory = true;\r\n                        }else{\r\n                            name = '<a href=\"' + aReceived.data.list[i].link + '\" title=\"' + document.location.protocol + '//' + document.location.host + '/' + aReceived.data.list[i].link.replace('\"', '&quot;') + '\">' + this.trimText(aReceived.data.list[i].name) + '</a>';\r\n                            itemValue = aReceived.data.list[i].link;\r\n                            itemType = 'result'\r\n                            bExact = false;\r\n                            bHasResults = true;\r\n                        }\r\n\r\n                        if(itemType == 'result' && !bResultInserted){\r\n                            bResultInserted = true;\r\n                            var oResultsDiv = AMI.Browser.DOM.create('div', '', 'suggestionResult' + (i == 0 ? 'First' : ''), '', this.suggestionObject);\r\n                            oResultsDiv.innerHTML = 'Результаты поиска:';\r\n                        }\r\n\r\n                        this.appendRow(name, itemValue, itemType, bExact);\r\n\r\n                        if(itemType == 'result' && i == aReceived.data.list.length - 1){\r\n                            this.appendResultsRow();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(bHasHistory || bHasResults){\r\n                var minWidthDiv = AMI.Browser.DOM.create('div', '', 'suggestionMinWidth', '', this.suggestionObject);\r\n                minWidthDiv.style.width = this.fieldObject.offsetWidth - 3 + 'px';\r\n\r\n                this.showSuggestionObject(bHasHistory, bHasResults);\r\n            }else{\r\n                this.hideSuggestionObject();\r\n            }\r\n        }\r\n    }\r\n\r\n    this.trimText = function(data){\r\n        if(data.length > this.maxNameLength){\r\n            data = data.substr(0, this.maxNameLength) + '...';\r\n        }\r\n        return data;\r\n    }\r\n\r\n    this.appendRow = function(itemText, itemValue, itemType, isExact){\r\n        var currentIndex = this.rowObjects.length;\r\n        this.rowObjects[currentIndex] = AMI.Browser.DOM.create('div', this.fieldId + '_suggestionItem_' + currentIndex, 'suggestionRow' + (isExact ? ' suggestionRowExact' : ''), '', this.suggestionObject);\r\n        this.rowObjects[currentIndex].innerHTML = itemText;\r\n        this.rowObjects[currentIndex].setAttribute('rowIndex', currentIndex);\r\n        this.rowObjects[currentIndex].setAttribute('rowValue', itemValue);\r\n        this.rowObjects[currentIndex].setAttribute('rowType', itemType);\r\n        this.rowObjects[currentIndex].setAttribute('rowExact', isExact ? '1' : '0');\r\n        this.rowObjects[currentIndex].onmouseover = function(currentObject, divIndex){return function(){currentObject.selectRow(divIndex, false)}}(this, currentIndex);\r\n    }\r\n\r\n    this.appendResultsRow = function(){\r\n        var currentIndex = this.rowObjects.length;\r\n        this.rowObjects[currentIndex] = AMI.Browser.DOM.create('div', this.fieldId + '_suggestionItem_' + currentIndex, 'suggestionRow suggestionRowAllResults', '', this.suggestionObject);\r\n        this.rowObjects[currentIndex].setAttribute('rowIndex', currentIndex);\r\n        this.rowObjects[currentIndex].setAttribute('rowValue', '');\r\n        this.rowObjects[currentIndex].setAttribute('rowType', 'resultAll');\r\n        this.rowObjects[currentIndex].setAttribute('rowExact', '0');\r\n        this.rowObjects[currentIndex].onmouseover = function(currentObject, divIndex){return function(){currentObject.selectRow(divIndex, false)}}(this, currentIndex);\r\n\r\n        var oResultsOthersLink = AMI.Browser.DOM.create('a', '', 'suggestionAllResults', '', this.rowObjects[currentIndex]);\r\n        oResultsOthersLink.href = 'javascript:void(0)';\r\n        oResultsOthersLink.innerHTML = 'Все результаты &raquo;';\r\n        oResultsOthersLink.onclick = function(_this){return function(){_this.submitForm()}}(this);\r\n    }\r\n\r\n    this.selectRow = function(rowIndex, setRowText){\r\n        if(this.currentRow >= 0){\r\n            this.rowObjects[this.currentRow].className = 'suggestionRow' + (this.rowObjects[this.currentRow].getAttribute('rowExact') == '1' ? ' suggestionRowExact' : '') + (this.rowObjects[this.currentRow].getAttribute('rowType') == 'resultAll' ? ' suggestionRowAllResults' : '');\r\n        }\r\n        if(rowIndex != null && rowIndex >= 0){\r\n            this.rowObjects[rowIndex].className = 'suggestionRowSelected' + (this.rowObjects[rowIndex].getAttribute('rowExact') == '1' ? ' suggestionRowExact' : '') + (this.rowObjects[rowIndex].getAttribute('rowType') == 'resultAll' ? ' suggestionRowAllResults' : '');\r\n        }\r\n\r\n        if(setRowText){\r\n            if(rowIndex != null && rowIndex >= 0){\r\n                var rowType = this.rowObjects[rowIndex].getAttribute('rowType');\r\n                if(rowType == 'suggestion'){\r\n                    this.setItemText(this.rowObjects[rowIndex].getAttribute('rowValue'));\r\n                    this.lastFieldValueLength = this.fieldObject.value.length;\r\n                    this.isFieldValueModified = true;\r\n                }else{\r\n                    this.resetFieldText();\r\n                }\r\n            }else{\r\n                this.resetFieldText();\r\n            }\r\n        }\r\n\r\n        this.currentRow = rowIndex;\r\n    }\r\n\r\n    this.resetFieldText = function(){\r\n        if(this.isFieldValueModified){\r\n            var caretPosition = AMI.Browser.getCaretPosition(this.fieldObject);\r\n            this.fieldObject.value = this.storedFieldValue;\r\n            AMI.Browser.setCaretPosition(this.fieldObject, caretPosition);\r\n            this.lastFieldValueLength = this.fieldObject.value.length;\r\n        }\r\n    }\r\n\r\n    this.getEditedItemText = function(){\r\n        var itemText = '';\r\n        if(this.itemsSplitter != ''){\r\n            var splitterLength = this.itemsSplitter.length;\r\n            var caretPosition = AMI.Browser.getCaretPosition(this.fieldObject);\r\n            var items = this.fieldObject.value.split(this.itemsSplitter);\r\n            var currentLength = 0;\r\n            for(var i = 0; i < items.length; i++){\r\n                currentLength += items[i].length + (i > 0 ? splitterLength : 0);\r\n                if(currentLength >= caretPosition){\r\n                    itemText = items[i];\r\n                    break;\r\n                }\r\n            }\r\n        }else{\r\n            itemText = this.fieldObject.value;\r\n        }\r\n\r\n        itemText = itemText.replace(/^( *)(.*) *$/, function(currentObject){return function(wholeString, spaces, content){\r\n            currentObject.fieldLeadingSpaces = spaces;\r\n            return content;\r\n        }}(this));\r\n        return itemText;\r\n    }\r\n\r\n    this.setItemText = function(textValue){\r\n        if(this.itemsSplitter != ''){\r\n            var splitterLength = this.itemsSplitter.length;\r\n            var caretPosition = AMI.Browser.getCaretPosition(this.fieldObject);\r\n            var items = this.fieldObject.value.split(this.itemsSplitter);\r\n            var currentLength = 0;\r\n            var isReplaced = false;\r\n            var result = '';\r\n            for(var i = 0; i < items.length; i++){\r\n                currentLength += items[i].length + (i > 0 ? splitterLength : 0);\r\n                var itemValue = items[i];\r\n                if(!isReplaced && currentLength >= caretPosition){\r\n                    itemValue = this.fieldLeadingSpaces + AMI.String.decodeHTMLSpecialChars(textValue);\r\n                    isReplaced = true;\r\n                    this.itemEndCaretPosition = currentLength + itemValue.length - items[i].length;\r\n                }\r\n                result += (result != '' ? this.itemsSplitter : '') + itemValue;\r\n            }\r\n            this.fieldObject.value = result;\r\n            AMI.Browser.setCaretPosition(this.fieldObject, caretPosition);\r\n        }else{\r\n            this.fieldObject.value = this.fieldLeadingSpaces + AMI.String.decodeHTMLSpecialChars(textValue);\r\n            this.itemEndCaretPosition = this.fieldObject.value.length;\r\n        }\r\n    }\r\n\r\n    this.submitForm = function(){\r\n        if(this.fieldObject != null && typeof(this.fieldObject.form) != 'undefined'){\r\n            this.fieldObject.form.submit();\r\n        }\r\n    }\r\n\r\n    // Do initializing\r\n    this.init();\r\n}\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.suggestion.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.multiselect.js\r\n */\r\n\r\nAMI.UI.Multiselect = function(idField, iWidth, iRowHeight){\r\n    this.oField = document.getElementById(idField);\r\n    this.oControl = null;\r\n    \r\n    this.lastOptionNumber = -1;\r\n    this.lastOptionSelected = true;\r\n    this.bAllowMoveSelection = false;\r\n    this.hMoveSelectionStop = null;\r\n    \r\n    this.init = function(){\r\n        if(this.oField != null){\r\n            var width = iWidth || this.oField.offsetWidth;\r\n            var height = this.oField.offsetHeight;\r\n            var rowHeight = 18 || iRowHeight;\r\n            var numRows = this.oField.getAttribute('size');\r\n            if(numRows != null && numRows > 0){\r\n                height = rowHeight * numRows;\r\n            }\r\n            \r\n            this.oControl = AMI.Browser.DOM.create(\r\n                'DIV',\r\n                '',\r\n                'mSelectFrame',\r\n                'width: ' + width + 'px; height: ' + height + 'px;'\r\n            );\r\n            this.oControl = this.oField.parentNode.insertBefore(this.oControl, this.oField);\r\n            if(typeof(this.oControl.onselectstart) != 'undefined'){\r\n                this.oControl.onselectstart = function(){ return false; };\r\n            }\r\n            if(typeof(this.oControl.style.MozUserSelect) != 'undefined'){\r\n                this.oControl.style.MozUserSelect = 'none'; \r\n            }\r\n            this.oField.style.display = 'none';\r\n            \r\n            for(i = 0; i < this.oField.options.length; i++){\r\n                var oOption = AMI.Browser.DOM.create(\r\n                    'DIV',\r\n                    '',\r\n                    'mSelectOption' + (this.oField.options[i].selected ? 'Selected' : ''),\r\n                    'height: ' + rowHeight + 'px; line-height: ' + rowHeight + 'px;',\r\n                    this.oControl\r\n                );\r\n                oOption.innerHTML = this.oField.options[i].text;\r\n                oOption.setAttribute('optionNumber', i);\r\n                oOption.setAttribute('optionValue', this.oField.options[i].value);\r\n                oOption.onmousedown = function(_this){ return function(evt){_this.selectOption(evt, this)} }(this);\r\n                oOption.onmouseup = function(_this){ return function(){_this.selectOptionStop(true)} }(this);\r\n                oOption.onmouseover = function(_this){ return function(evt){_this.selectOptionOnMove(evt, this)} }(this);\r\n                oOption.onmouseout = function(_this){ return function(){_this.selectOptionStop(false)} }(this);\r\n            }\r\n        }\r\n    };\r\n    \r\n    this.selectOption = function(evt, oOption){\r\n        var bSelected = oOption.className == 'mSelectOptionSelected';\r\n        var optionNumber = oOption.getAttribute('optionNumber');\r\n        \r\n        evt = AMI.Browser.Event.validate(evt);\r\n        \r\n        if(evt.shiftKey && this.lastOptionNumber >= 0 && this.lastOptionNumber != optionNumber){\r\n            var iStartIndex = Math.min(optionNumber, this.lastOptionNumber);\r\n            var iEndIndex = Math.max(optionNumber, this.lastOptionNumber);\r\n            aOptions = this.oControl.getElementsByTagName('DIV');\r\n            for(var i = 0; i < aOptions.length; i++){\r\n                var iIntervalOptionNumber = aOptions[i].getAttribute('optionNumber');\r\n                if(iIntervalOptionNumber != null && iIntervalOptionNumber >= iStartIndex && iIntervalOptionNumber <= iEndIndex){\r\n                    this.doSelectOption(aOptions[i], iIntervalOptionNumber, this.lastOptionSelected);\r\n                }\r\n            }\r\n        }else{\r\n            this.doSelectOption(oOption, optionNumber, !bSelected);\r\n        }\r\n        \r\n        if(this.lastOptionNumber == -1 || !evt.shiftKey){\r\n            this.lastOptionNumber = optionNumber;\r\n            this.lastOptionSelected = this.oField.options[optionNumber].selected;\r\n        }\r\n        \r\n        this.bAllowMoveSelection = true;\r\n    }\r\n    \r\n    this.selectOptionOnMove = function(evt, oOption){\r\n        if(this.bAllowMoveSelection){\r\n            clearTimeout(this.hMoveSelectionStop);\r\n            var optionNumber = oOption.getAttribute('optionNumber');\r\n            this.doSelectOption(oOption, optionNumber, this.lastOptionSelected);\r\n        }\r\n    }\r\n    \r\n    this.selectOptionStop = function(bImmediate){\r\n        if(bImmediate){\r\n            clearTimeout(this.hMoveSelectionStop);\r\n            this.bAllowMoveSelection = false;\r\n        }else{\r\n            this.hMoveSelectionStop = setTimeout(function(_this){ return function(){_this.bAllowMoveSelection = false;} }(this), 10);\r\n        }\r\n        \r\n    }\r\n    \r\n    this.doSelectOption = function(oOption, optionNumber, bSelect){\r\n        if(bSelect){\r\n            oOption.className = 'mSelectOptionSelected';\r\n            this.oField.options[optionNumber].selected = true;\r\n        }else{\r\n            oOption.className = 'mSelectOption';\r\n            this.oField.options[optionNumber].selected = false;\r\n        }\r\n    }\r\n    \r\n    this.init();\r\n}\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.multiselect.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.tooltip.js\r\n */\r\n\r\nAMI.UI.ToolTip = function(evt, text, minWidth, maxWidth){\r\n    this.oOwner = AMI.Browser.Event.getTarget(AMI.Browser.Event.validate(evt));\r\n    this.text = text;\r\n    this.oToolTip = null;\r\n    \r\n    this.bMovable = false;\r\n    \r\n    this.show = function(evt){\r\n        if(this.oOwner != null){\r\n            if(this.oOwner.getAttribute('isToolTipInstalled') != '1'){\r\n                AMI.Browser.Event.addHandler(\r\n                    this.oOwner,\r\n                    'mouseout',\r\n                    function(_this){return function(){_this.hide()}}(this)\r\n                );\r\n                AMI.Browser.Event.addHandler(\r\n                    this.oOwner,\r\n                    'mousemove',\r\n                    function(_this){return function(evt){_this.move(evt)}}(this)\r\n                );\r\n                this.oOwner.setAttribute('isToolTipInstalled', '1');\r\n            }\r\n            var oPosition = this.getPosition(evt);\r\n            this.oToolTip = AMI.Browser.DOM.create(\r\n                'DIV',\r\n                '',\r\n                'AMIToolTip',\r\n                'left: ' + oPosition[0] + 'px; top: ' + oPosition[1] + 'px;',\r\n                document.body\r\n            );\r\n            \r\n            minWidth = 0 || minWidth;\r\n            maxWidth = 0 || maxWidth;\r\n            if(minWidth > 0 && maxWidth > 0 && minWidth == maxWidth){\r\n                this.oToolTip.style.width = minWidth + 'px';\r\n            }else{\r\n                if(minWidth > 0){\r\n                    this.oToolTip.style.minWidth = minWidth + 'px';\r\n                }\r\n                if(maxWidth > 0){\r\n                    this.oToolTip.style.maxWidth = maxWidth + 'px';\r\n                }\r\n            }\r\n            \r\n            this.oToolTip.innerHTML = this.text;\r\n            this.oToolTip.style.display = 'block';\r\n            this.correctPosition();\r\n            this.bMovable = true;\r\n        }\r\n    }\r\n    \r\n    this.getPosition = function(evt){\r\n        var oPointer = AMI.Browser.getPointerPosition(evt);\r\n        return [parseInt(oPointer[0]) + 11, parseInt(oPointer[1]) + 16];\r\n    }\r\n    \r\n    this.correctPosition = function(){\r\n        var iLeft = parseInt(this.oToolTip.style.left) + this.oToolTip.offsetWidth;\r\n        var iMinRight = document.body.scrollLeft;\r\n        var iMaxRight = iMinRight + AMI.Browser.getWindowWidth();\r\n        if(iLeft > iMaxRight){\r\n            iLeft = Math.max(iMinRight, iMaxRight - this.oToolTip.offsetWidth);\r\n            this.oToolTip.style.left = iLeft + 'px';\r\n        }\r\n    }\r\n    \r\n    this.move = function(evt){\r\n        if(this.bMovable){\r\n            var oPosition = this.getPosition(evt);\r\n            this.oToolTip.style.left = oPosition[0] + 'px';\r\n            this.oToolTip.style.top = oPosition[1] + 'px';\r\n            this.correctPosition();\r\n        }\r\n    }\r\n    \r\n    this.hide = function(){\r\n        if(this.oToolTip && this.oToolTip.parentNode){\r\n            this.oToolTip.parentNode.removeChild(this.oToolTip);\r\n            this.oToolTip.style.display = 'none';\r\n            this.bMovable = false;\r\n            this.oOwner.setAttribute('isToolTipInstalled', '');\r\n        }\r\n    }\r\n    \r\n    this.show(evt);\r\n}\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.tooltip.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.showblock.js\r\n */\r\n\r\nAMI.UI.showBlock = function(idLink, idBlock, shownClassName, mReplacement){\n    \n    this.oLink = AMI.find('#' + idLink);\n    this.oBlock = AMI.find('#' + idBlock);\n    this.blockHiddenHeight = 0;\n    this.blockFullHeight = 0;\n    this.hiddenClassName = this.oLink != null ? this.oLink.className : '';\n    this.shownClassName = shownClassName;\n    this.replacement = mReplacement || null;\n    this.originalLinkContent = this.oLink.innerHTML;\n    \n    this.hAnimation = null;\n    this.aAnimationInterval = 10;\n    this.animationIteration = 0;\n    this.currentHeight = 0;\n    this.destinationHeight = 0;\n\n    this.init = function(){\n        this.blockHiddenHeight = this.oBlock.offsetHeight;\n        AMI.Browser.Event.addHandler(this.oLink, 'click', function(_this){return function(evt){_this.onLinkClick(evt); return false;}}(this));\n    }\n    \n    this.onLinkClick = function(evt){\n        clearTimeout(this.hAnimation);\n        AMI.Browser.Event.stopProcessing(evt);\n        var currentState = this.oBlock.getAttribute('data-showblock-state');\n        if(currentState == 'shown'){\n            if(this.shownClassName != null){\n                this.oLink.className = this.hiddenClassName;\n            }\n            if(this.replacement != null){\n                this.oLink.innerHTML = this.originalLinkContent;\n            }\n            this.oBlock.setAttribute('data-showblock-state', 'hidden');\n\n            if(this.oBlock.offsetHeight > this.blockHiddenHeight){\n                this.startAnimation(this.blockHiddenHeight);\n            }\n        }else{\n            if(this.shownClassName != null){\n                this.oLink.className = this.shownClassName;\n            }\n            if(this.replacement != null){\n                this.oLink.innerHTML = typeof(this.replacement) == 'object' ? this.replacement.innerHTML : this.replacement;\n            }\n            this.oBlock.setAttribute('data-showblock-state', 'shown');\n\n            this.blockFullHeight = this.oBlock.scrollHeight;\n            if(this.blockFullHeight > this.blockHiddenHeight){\n                this.startAnimation(this.blockFullHeight);\n            }\n        }\n    }\n    \n    this.startAnimation = function(destinationHeight){\n        this.animationIteration = 0;\n        this.currentHeight = this.oBlock.offsetHeight;\n        this.destinationHeight = destinationHeight;\n        this.move();\n    }\n    \n    this.move = function(){\n        this.animationIteration ++;\n        var difference = Math.abs(this.currentHeight - this.destinationHeight);\n        \n        var step = 1;\n        if(difference < 50){\n            step = Math.max(1, difference / 3);\n        }else{\n            step = Math.min(step + this.animationIteration, 20);\n        }\n        \n        if(this.currentHeight < this.destinationHeight){\n            this.currentHeight += step;\n            this.currentHeight = Math.min(this.currentHeight, this.destinationHeight);\n        }else if(this.currentHeight > this.destinationHeight){\n            step *= -1;\n            this.currentHeight += step;\n            this.currentHeight = Math.max(this.currentHeight, this.destinationHeight);\n        }else{\n            step = 0;\n        }\n        \n        this.oBlock.style.height = this.currentHeight + 'px';\n\n        if(step != 0){\n            this.hAnimation = setTimeout(\n                function(_this){return function(){_this.move(); return false;}}(this),\n                this.aAnimationInterval\n            );\n        }\n    }\n    \n    this.init();\n}\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.showblock.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.effects.js\r\n */\r\n\r\n/**\r\n* @fileOverview File contains AMI.UI.Effects static object required to animate UI elements and AMI.UI.AnimatedObject\r\n*/\r\n\r\n/**\r\n* Static object that manages UI visual effects\r\n*\r\n* @class Static object for UI visual effects.\r\n*/\r\nAMI.UI.Effects = {\r\n\r\n     /**\r\n     * Smoothly displays an obect, from invisible to visible\r\n     *\r\n     * @param {HTMLElement} oObj Object to manipulate\r\n     * @param {int} time Time interval of the effect\r\n     * @param {function} callback A callback function\r\n     * @returns {void}\r\n     */\r\n    fadeIn: function(oObj, time, callback){\r\n        var delay = 50;\r\n        if(oObj.style.visibility != 'visible'){\r\n            oObj.style.visibility = 'visible';\r\n            AMI.Browser.setOpacity(oObj, 0);\r\n        }\r\n        if(time==null){\r\n            var time = 500;\r\n        }\r\n        if(time > 0){\r\n            time -= delay;\r\n            var opacity = AMI.Browser.DOM.getStyle(oObj, 'opacity');\r\n            var newOpacity = parseFloat(opacity) + (1 - parseFloat(opacity)) / (time / delay);\r\n            AMI.Browser.setOpacity(oObj, newOpacity);\r\n\r\n            oObj.style.opacity = parseFloat(oObj.style.opacity) + (1 - parseFloat(oObj.style.opacity)) / (time / delay);\r\n            window.setTimeout(function(_oObj, _time, _callback){return function(){AMI.UI.Effects.fadeIn(_oObj, _time, _callback)}}(oObj, time, callback), delay);\r\n        }else{\r\n            //Callback\r\n            if(typeof(callback) == 'function'){\r\n                callback(oObj);\r\n            }\r\n        }\r\n    },\r\n\r\n     /**\r\n     * Smoothly hides an obect, from visible to invisible\r\n     *\r\n     * @param {HTMLElement} oObj Object to manipulate\r\n     * @param {int} time Time interval of the effect\r\n     * @param {function} callback A callback function\r\n     * @returns {void}\r\n     */\r\n    fadeOut: function(oObj, time, callback){\r\n        var delay = 50;\r\n        if(time==null){\r\n            var time = 500;\r\n        }\r\n        if(time > 0){\r\n            time -= delay;\r\n            var opacity = AMI.Browser.DOM.getStyle(oObj, 'opacity');\r\n            var newOpacity = parseFloat(opacity) - ( parseFloat(opacity) / (time / delay) );\r\n            AMI.Browser.setOpacity(oObj, newOpacity);\r\n            window.setTimeout(function(_oObj, _time, _callback){return function(){AMI.UI.Effects.fadeOut(_oObj, _time, _callback)}}(oObj, time, callback), delay);\r\n        }else{\r\n            AMI.Browser.setOpacity(oObj, 1);\r\n            oObj.style.visibility = 'hidden';\r\n\r\n            //Callback\r\n            if(typeof(callback) == 'function'){\r\n                callback(oObj);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Move or resize element from start point to end point within specified time\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {object} oStart Start point {'top':int, 'left':int, 'height':int, 'width':int}\r\n     * @param {object} oEnd End point {'top':int, 'left':int, 'height':int, 'width':int}\r\n     * @param {int} interval Time interval in mseconds\r\n     * @param {function} callback A callback function\r\n     * @returns {void}\r\n     */\r\n    animate: function(oObj, oStart, oEnd, interval, callback){\r\n        var endTime = new Date().getTime() + interval;\r\n        AMI.UI.Effects._move(oObj, oStart, oEnd, endTime, 0, callback);\r\n    },\r\n\r\n    /**\r\n     * Move or resize element from start point to end point within specified time\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {object} oStart Start point {'top':int, 'left':int, 'height':int, 'width':int}\r\n     * @param {object} oEnd End point {'top':int, 'left':int, 'height':int, 'width':int}\r\n     * @param {int} endTime Sheduled time to finish the animation task (ms)\r\n     * @param {int} lastTime Last time this was called\r\n     * @param {function} callback A callback function\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    _move: function(oObj, oStart, oEnd, endTime, lastTime, callback){\r\n\r\n        var curTime = new Date().getTime();\r\n\r\n        // Extract start point\r\n        var startTop    = (typeof(oStart.top) != 'undefined')   ? Math.round(oStart.top)    : null;\r\n        var startLeft   = (typeof(oStart.left) != 'undefined')  ? Math.round(oStart.left)   : null;\r\n        var startHeight = (typeof(oStart.height) != 'undefined')? Math.round(oStart.height) : null;\r\n        var startWidth  = (typeof(oStart.width) != 'undefined') ? Math.round(oStart.width)  : null;\r\n\r\n        // Extract end point\r\n        var endTop      = (typeof(oEnd.top) != 'undefined')     ? Math.round(oEnd.top)      : null;\r\n        var endLeft     = (typeof(oEnd.left) != 'undefined')    ? Math.round(oEnd.left)     : null;\r\n        var endHeight   = (typeof(oEnd.height) != 'undefined')  ? Math.round(oEnd.height)   : null;\r\n        var endWidth    = (typeof(oEnd.width) != 'undefined')   ? Math.round(oEnd.width)    : null;\r\n\r\n        var interval = ((endTime - curTime) > 0) ? endTime - curTime : 0;\r\n        var diffTime = (lastTime && (lastTime < curTime)) ? interval / (curTime - lastTime) : interval;\r\n\r\n        if (diffTime < 1) diffTime = 1;\r\n\r\n        if(interval){\r\n\r\n            // Next point\r\n            var oNewStart = {};\r\n\r\n            this._moveLeft(oObj, startLeft, endLeft, diffTime, oStart, oNewStart);\r\n            this._moveTop(oObj, startTop, endTop, diffTime, oStart, oNewStart);\r\n            this._resizeHeight(oObj, startHeight, endHeight, diffTime, oStart, oNewStart);\r\n            this._resizeWidth(oObj, startWidth, endWidth, diffTime, oStart, oNewStart);\r\n\r\n            // Wait 1 ms and repeat from next point\r\n            window.setTimeout(\r\n                function(_oObj, _oStart, _oEnd, _endTime, _lastTime, _callback){\r\n                    return function(){\r\n                        AMI.UI.Effects._move(_oObj, _oStart, _oEnd, _endTime, _lastTime, _callback);\r\n                    }\r\n                }(oObj, oNewStart, oEnd, endTime, curTime, callback),\r\n                1\r\n            );\r\n        }else{\r\n            // Set final object state\r\n            if((startLeft != null) && (endLeft != null)){\r\n                oObj.style.left = endLeft + 'px';\r\n            }\r\n            if((startTop != null) && (endTop != null)){\r\n                oObj.style.top = endTop + 'px';\r\n            }\r\n            if((startHeight != null) && (endHeight != null)){\r\n                oObj.style.height = endHeight + 'px';\r\n            }\r\n            if((startWidth != null) && (endWidth != null)){\r\n                oObj.style.width = endWidth + 'px';\r\n            }\r\n            //Callback\r\n            if(typeof(callback) == 'function'){\r\n                callback(oObj);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Move object by X axis (one step)\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {int} startLeft Left start point\r\n     * @param {int} endLeft Left end point\r\n     * @param {int} diffTime Time interval to move\r\n     * @param {object} oStart Initial start point\r\n     * @param {object} oNewStart New start point\r\n     * @returns {void}\r\n     */\r\n    _moveLeft: function(oObj, startLeft, endLeft, diffTime, oStart, oNewStart){\r\n        if((startLeft != null) && (endLeft != null)){\r\n            var diffLeft = endLeft - startLeft;\r\n            var stepLeft = diffLeft / diffTime;\r\n            oNewStart.left = oStart.left + stepLeft;\r\n            oObj.style.left = oNewStart.left + 'px';\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Move object by Y axis (one step)\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {int} startTop Top start point\r\n     * @param {int} endTop Top end point\r\n     * @param {int} diffTime Time interval to move\r\n     * @param {object} oStart Initial start point\r\n     * @param {object} oNewStart New start point\r\n     * @returns {void}\r\n     */\r\n    _moveTop: function(oObj, startTop, endTop, diffTime, oStart, oNewStart){\r\n        if((startTop != null) && (endTop != null)){\r\n            var diffTop = endTop - startTop;\r\n            var stepTop = diffTop / diffTime;\r\n            oNewStart.top = oStart.top + stepTop;\r\n            oObj.style.top = oNewStart.top + 'px';\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Resize object's height (one step)\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {int} startHeight Initial value of object's height\r\n     * @param {int} endHeight Final value of object's height\r\n     * @param {int} diffTime Time interval to move\r\n     * @param {object} oStart Initial start point\r\n     * @param {object} oNewStart New start point\r\n     * @returns {void}\r\n     */\r\n    _resizeHeight: function(oObj, startHeight, endHeight, diffTime, oStart, oNewStart){\r\n        if((startHeight != null) && (endHeight != null)){\r\n            var diffHeight = endHeight - startHeight;\r\n            var stepHeight = diffHeight / diffTime;\r\n            oNewStart.height = oStart.height + stepHeight;\r\n            oObj.style.height = oNewStart.height + 'px';\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Resize object's width (one step)\r\n     *\r\n     * @param {HTMLElement} oObj Object to move\r\n     * @param {int} startWidth Initial value of object's width\r\n     * @param {int} endWidth Final value of object's width\r\n     * @param {int} diffTime Time interval to move\r\n     * @param {object} oStart Initial start point\r\n     * @param {object} oNewStart New start point\r\n     * @returns {void}\r\n     */\r\n    _resizeWidth: function(oObj, startWidth, endWidth, diffTime, oStart, oNewStart){\r\n        if((startWidth != null) && (endWidth != null)){\r\n            var diffWidth = endWidth - startWidth;\r\n            var stepWidth = diffWidth / diffTime;\r\n            oNewStart.width = oStart.width + stepWidth;\r\n            oObj.style.width = oNewStart.width + 'px';\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n* Adds animation methods for an object\r\n*\r\n*\r\n*/\r\nAMI.UI.AnimatedObject = function(oNode){\r\n    /**\r\n     * Animation queue\r\n     */\r\n    oNode._amiQueue = [];\r\n\r\n    /**\r\n     * Callback to call after animation is finished\r\n     */\r\n    oNode._amiCallback = null;\r\n\r\n    /**\r\n     * Adds \"move\" action to a queue\r\n     */\r\n    oNode.move = function(oStart, oEnd, duration, callback){\r\n        this._amiQueue.push({\r\n            action:  'move',\r\n            start:    oStart,\r\n            end:      oEnd,\r\n            duration: duration,\r\n            callback: callback\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Adds \"wait\" action to a queue\r\n     */\r\n    oNode.wait = function(duration, callback){\r\n        this._amiQueue.push({\r\n            action:  'wait',\r\n            duration: duration,\r\n            callback: callback\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Adds \"fadeIn\" action to a queue\r\n     */\r\n    oNode.fadeIn = function(duration, callback){\r\n        this._amiQueue.push({\r\n            action:  'fadein',\r\n            duration: duration,\r\n            callback: callback\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Adds \"fadeOut\" action to a queue\r\n     */\r\n    oNode.fadeOut = function(duration, callback){\r\n        this._amiQueue.push({\r\n            action:  'fadeout',\r\n            duration: duration,\r\n            callback: callback\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Starts animation process\r\n     */\r\n    oNode.startAnimation = function(){\r\n\r\n        // Perform animation\r\n        if(this._amiQueue.length){\r\n            var ani = this._amiQueue.shift();\r\n\r\n            // Set a callback function if specified\r\n            if(typeof(ani.callback) == 'function'){\r\n                this._amiCallback = ani.callback;\r\n            }\r\n\r\n            switch(ani.action){\r\n                case 'move':\r\n                    AMI.UI.Effects.animate(this, ani.start, ani.end, ani.duration, function(oObj){\r\n                        if(typeof(oObj._amiCallback) == 'function'){\r\n                            oObj._amiCallback();\r\n                        }\r\n                        oObj.startAnimation();\r\n                    });\r\n                    break;\r\n                case 'wait':\r\n                    setTimeout(function(oObj){\r\n                        return function(){\r\n                            if(typeof(oObj._amiCallback) == 'function'){\r\n                                oObj._amiCallback();\r\n                            }\r\n                        }\r\n                    }(this), ani.duration);\r\n                    break;\r\n                case 'fadein':\r\n                    AMI.UI.Effects.fadeIn(this, ani.duration, function(oObj){\r\n                        if(typeof(oObj._amiCallback) == 'function'){\r\n                            oObj._amiCallback();\r\n                        }\r\n                        oObj.startAnimation();\r\n                    });\r\n                    break;\r\n                case 'fadeout':\r\n                    AMI.UI.Effects.fadeOut(this, ani.duration, function(oObj){\r\n                        if(typeof(oObj._amiCallback) == 'function'){\r\n                            oObj._amiCallback();\r\n                        }\r\n                        oObj.startAnimation();\r\n                    });\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return oNode;\r\n}\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.effects.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.dnd.js\r\n */\r\n\r\nAMI.UI.DnD = {\n\tinitialMouseX: undefined,\n\tinitialMouseY: undefined,\n\tstartX: undefined,\n\tstartY: undefined,\n\tdraggedObject: undefined,\n    movedObjects: {},\n\n\tinitElement: function (windowEl, draggableEl) {\n        AMI.UI.DnD.movedObjects[draggableEl.id] = windowEl.id;\n\t\tdraggableEl.onmousedown = AMI.UI.DnD.startDragMouse;\n\t},\n\n    startDragMouse: function (e) {\n\t\tAMI.UI.DnD.startDrag(this);\n\t\tvar evt = e || window.event;\n\t\tAMI.UI.DnD.initialMouseX = evt.clientX;\n\t\tAMI.UI.DnD.initialMouseY = evt.clientY;\n\t\tAMI.Browser.Event.addHandler(document,'mousemove',AMI.UI.DnD.dragMouse);\n\t\tAMI.Browser.Event.addHandler(document,'mouseup',AMI.UI.DnD.releaseElement);\n        AMI.Browser.Event.addHandler(AMI.UI.DnD.draggedObject,'click',AMI.UI.DnD.removeClass);\n        return false;\n\t},\n\n\tstartDrag: function (obj) {\n\t\tif (AMI.UI.DnD.draggedObject)\n\t\t\tAMI.UI.DnD.releaseElement();\n        var dragArea = AMI.find('#' + AMI.UI.DnD.movedObjects[obj.id]);\n\n        if(AMI.Browser.isIE || AMI.Browser.isOpera){\n            AMI.UI.DnD.startX = parseInt(dragArea.style.left);\n            AMI.UI.DnD.startY = parseInt(dragArea.style.top);\n        }else{\n            AMI.UI.DnD.startX = dragArea.offsetLeft;\n            AMI.UI.DnD.startY = dragArea.offsetTop;\n        }\n\t\tAMI.UI.DnD.draggedObject = obj;\n        AMI.addClass(obj, 'dragged');\n\t},\n\n\tdragMouse: function (e) {\n\t\tvar evt = e || window.event;\n\t\tvar dX = evt.clientX - AMI.UI.DnD.initialMouseX;\n\t\tvar dY = evt.clientY - AMI.UI.DnD.initialMouseY;\n\t\tAMI.UI.DnD.setPosition(dX,dY);\n\t\treturn false;\n\t},\n\n\tsetPosition: function (dx,dy) {\n        dragArea = AMI.find('#' + AMI.UI.DnD.movedObjects[AMI.UI.DnD.draggedObject.id]);\n\t\tdragArea.style.left = parseInt(parseInt(AMI.UI.DnD.startX) + dx) + 'px';\n\t\tdragArea.style.top = parseInt(parseInt(AMI.UI.DnD.startY) + dy) + 'px';\n\t},\n\n\treleaseElement: function() {\n\t\tAMI.Browser.Event.removeHandler(document,'mousemove',AMI.UI.DnD.dragMouse);\n\t\tAMI.Browser.Event.removeHandler(document,'mouseup',AMI.UI.DnD.releaseElement);\n        AMI.removeClass(AMI.UI.DnD.draggedObject, 'dragged');\n\t},\n\n    removeClass: function(e) {\n        AMI.Browser.Event.stopProcessing(e);\n        AMI.UI.DnD.draggedObject = null;\n\t}\n}\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.dnd.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.popups.js\r\n */\r\n\r\n/**\n * Popup Manager\n */\nAMI.UI.PopupManager = {\n    popupCount: 0,\n    nextId: 1,\n    popups: {},\n\n    add: function(id, obj){\n        this.popups[id] = obj;\n        this.popupCount++;\n        this.nextId++;\n    },\n\n    del: function(id){\n        this.popups[id] = null;\n        this.popupCount--;\n    },\n\n    show: function(id){\n        this.popups[id].up();\n    },\n\n    findParentPopup: function(obj){\n        while(obj = obj.parentNode){\n            if(obj.popupId != undefined){\n                return this.popups[obj.popupId];\n            }\n        }\n        return false;\n    }\n};\n\n/**\n * content:     [object/string] object to wrap or a text string,\n * params:\n * {\n *      id:          [string] popup id\n *      width:       [int] popup width\n *      height:      [int] popup height\n *      left:        [int] X position\n *      top:         [int] Y position\n *      header:      [string] header string\n *      modal:       [bool] modal or not\n *      hasCloseBtn: [bool] has close button in header or not\n *      movable:     [bool] can be moved by dragging header\n *      dragBy:      [string] header/body\n *      autoshow:    [bool] show on init\n *      animated:    [bool] is animated\n *      animation:   [object] {open: none/fadein/resize, close: none/fadeout/resize}\n *      openFrom:    [object] {x: x-position, y: y-position} Start coordinates of opening animation\n *      closeTo:     [object] {x: x-position, y: y-position} End coordinates of closing animation\n *      showAt:      [object] {x: x-position, y: y-position} Coordinates of open popup\n *      onInit:      [function] onInit callback\n *      onShow:      [function] onShow callback\n *      onClose:     [function] ocClose callback\n *      className:   [string] popup window class name, defaul - amiPopup\n * }\n */\nAMI.UI.Popup = function(content, params){\n\n    this.params = params;\n\n    this.ieCompat = false;\n    if(AMI.Browser.isIE){\n        this.ieCompat = (document.documentMode) ? document.documentMode : (document.compatMode && document.compatMode==\"CSS1Compat\") ? 7 : 5;\n    }\n\n    /**\n     * Constructor.\n     */\n    this.init = function(){\n        this.popupId = (this.params.id != undefined) ? this.params.id : 'ami_popup_' + AMI.UI.PopupManager.nextId;\n        this.content.popupId = this.popupId;\n        this.layer = null;\n        this.originParent = null;\n        this.originNextSibling = null;\n        this.popupContent = null;\n        this.header = null;\n        this.object = null;\n        this.className = (this.params.className != undefined) ? params.className : 'amiPopup';\n        this.hasCloseBtn = (this.params.hasCloseBtn != undefined) ? this.params.hasCloseBtn : true;\n        this.openAnimation = ((this.params.animation != undefined) && (this.params.animation.open != undefined)) ? this.params.animation.open : 'resize';\n        this.closeAnimation = ((this.params.animation != undefined) && (this.params.animation.close != undefined)) ? this.params.animation.close : 'resize';\n        this.dragBy = (this.params.dragBy != undefined) ? this.params.dragBy : 'header';\n\n        var clientWidth = AMI.Browser.getWindowWidth();\n        var clientHeight = AMI.Browser.getWindowHeight();\n\n        this.params.width = (this.params.width != undefined) ? this.params.width : 500;\n        this.params.height = (this.params.height != undefined) ? this.params.height : 500;\n\n        this.params.width = Math.min(this.params.width, clientWidth - 40);\n        this.params.height = Math.min(this.params.height, clientHeight - 40);\n\n        this.positionX = Math.max(0, Math.round((clientWidth - this.params.width) / 2));\n        this.positionY = Math.max(0, Math.round((clientHeight - this.params.height) / 2));\n\n        var oTarget = AMI.Browser.Event.getTarget(AMI.Browser.Event.globalEvent);\n        this.openX = Math.round(AMI.Browser.getWindowWidth()/2);\n        this.openY = Math.round(AMI.Browser.getWindowHeight()/2);\n        if(oTarget && !AMI.Browser.isOpera){\n            var coords = AMI.Browser.getObjectPosition(oTarget);\n            if(AMI.UI.PopupManager.findParentPopup(oTarget)){\n                // link in a popup\n                this.openX = coords[0];\n                this.openY = coords[1];\n            }else{\n                // link on a document body\n                this.openX = coords[0] - AMI.Browser.getDocumentLeft();\n                this.openY = coords[1] - AMI.Browser.getDocumentTop();\n            }\n        }\n        this.closeX = this.openX;\n        this.closeY = this.openY;\n\n        if(this.params.openFrom != undefined){\n            this.openX = this.params.openFrom.x;\n            this.openY = this.params.openFrom.y;\n        }\n        if(this.params.closeTo != undefined){\n            this.closeX = this.params.closeTo.x;\n            this.closeY = this.params.closeTo.y;\n        }\n        if(this.params.showAt != undefined){\n            this.positionX = this.params.showAt.x;\n            this.positionY = this.params.showAt.y;\n        }\n\n        this.zIndex = AMI.Browser.DOM.getMaxZIndex() + 10;\n\n        AMI.UI.PopupManager.add(this.popupId, this);\n\n        if((this.params.modal == undefined) || this.params.modal){\n            this._createLayer();\n        }\n        this._createWindow();\n        this.placeContent();\n\n        // Set margin-box box sizing for popup, header and content\n        var boxSizing = 'border-box';\n        this.content.style.boxSizing = boxSizing;\n        this.content.style.MozBoxSizing = boxSizing;\n        this.content.style.webkitBoxSizing = boxSizing;\n        this.header.style.boxSizing = boxSizing;\n        this.header.style.MozBoxSizing = boxSizing;\n        this.header.style.webkitBoxSizing = boxSizing;\n\n        var boxSizing = 'content-box';\n        this.object.style.boxSizing = boxSizing;\n        this.object.style.MozBoxSizing = boxSizing;\n        this.object.style.webkitBoxSizing = boxSizing;\n\n        // onInit callback\n        if(typeof(params.onInit) == 'function'){\n            params.onInit(this);\n        }\n\n        // Auto show\n        if((typeof(params.autoShow) == 'undefined') || params.autoShow){\n            this.show();\n        }\n    };\n\n    /**\n     * Display popup.\n     */\n    this.show = function(){\n        if (this.layer) this.layer.style.display = 'block';\n        if((this.params.animated == undefined) || this.params.animated){\n            this.object.style.left = parseInt(this.openX) + 'px';\n            this.object.style.top = parseInt(this.openY) + 'px';\n            this.object.style.display = 'block';\n            this.object.style.position = (this.ieCompat == 5) ? 'absolute' : 'fixed';\n            switch(this.openAnimation){\n                case 'resize':\n                    this._openResize();\n                    break;\n                case 'fadein':\n                    this._openFadein();\n                    break;\n                default:\n                    this._openNone();\n                    break;\n            }\n        }else{\n            this._openNone();\n        }\n    };\n\n    /**\n     * Place popup content into popup window.\n     */\n    this.placeContent = function(){\n\n        if(this.origin){\n            this.originParent = (this.origin.parentNode != undefined) ? this.origin.parentNode : null;\n            this.originNextSibling = (this.origin.nextSibling != undefined) ? this.origin.nextSibling : null;\n            this.originParent.removeChild(this.origin);\n        }\n        this.popupContent.appendChild(this.content);\n        var headerH = this.header.offsetHeight;\n        this.params.width = Math.max(this.params.width, this.content.offsetWidth);\n        this.params.height = Math.max(this.params.height, this.content.offsetHeight + headerH);\n\n        AMI.UI.center(this.object);\n        if(this.ieCompat == 5){\n            this.object.style.top = (parseInt(this.object.style.top) + AMI.Browser.getDocumentTop(window)) + 'px';\n        }\n    };\n\n    /**\n     * Set popup size according to its content.\n     */\n    this.autosize = function(allowShrink){\n\n        var popupHeight = parseInt(this.object.style.height);\n        if(this.ieCompat == 5){\n            this.contentHeight = this.content.offsetHeight + (this.content.offsetTop * 2);\n            this.object.style.height = this.contentHeight + this.header.offsetHeight + 'px';\n        }else{\n            var doResize = ((allowShrink == undefined) || !allowShrink) ? \n                (this.content.offsetHeight > (popupHeight - this.header.offsetHeight)) :\n                (this.content.offsetHeight != (popupHeight - this.header.offsetHeight));\n            if(doResize){\n                this.object.style.height = (this.content.offsetHeight + this.header.offsetHeight) + 'px';\n                if((this.params.movable != undefined) && !this.params.movable){\n                    AMI.UI.centerH(this.object);\n                    this.object.style.top = (parseInt(this.object.style.top) + AMI.Browser.getDocumentTop(window)) + 'px';\n                }\n            }\n        }\n    }\n\n    /**\n     * Close the popup.\n     */\n    this.close = function(){\n        if(this.resizeTimer != undefined){\n            clearInterval(this.resizeTimer);\n        }\n        AMI.UI.PopupManager.del(this.popupId);\n        if(this.layer && this.layer.parentNode){\n            this.layer.parentNode.removeChild(this.layer);\n        }\n        this.content.popupId = null;\n        this.content.style.display = 'none';\n        /*if(this.content.parentNode){\n            this.content.parentNode.removeChild(this.content);\n        }*/\n\n        if((this.params.animated == undefined) || this.params.animated){\n            switch(this.closeAnimation){\n                case 'resize':\n                    this._closeResize();\n                    break;\n                case 'fadeout':\n                    this._closeFadeout();\n                    break;\n                default:\n                    this._closeNone();\n                    break;\n            }\n        }else{\n            this._closeNone();\n        }\n    };\n\n    /**\n     * Set content of the popup as raw HTML.\n     */\n    this.setHTML = function(html){\n        this.content.innerHTML = html;\n    }\n\n    /**\n     * --------------------------------------------------\n     *                 Private methods\n     * --------------------------------------------------\n     */\n\n    /**\n     * Open popup with no animation.\n     */\n    this._openNone = function(){\n        this.object.style.left = parseInt(this.positionX) + 'px';\n        this.object.style.top = parseInt(this.positionY) + 'px';\n        this.object.style.width = this.params.width + 'px';\n        this.object.style.height = this.params.height + 'px';\n        this.content.style.display = 'block';\n        this.object.style.display = 'block';\n        this.object.style.visibility = 'visible';\n\n        if(((this.params.height == undefined)||(this.params.width == undefined))||(this.content.offsetHeight > this.params.height)){\n            this.autosize();\n        }\n\n        AMI.Browser.Event.addHandler(this.content, 'click', function(_this){return function(e){_this.autosize();}}(this));\n\n        // Correct popup top in IE compatibility mode 5\n        if(this.ieCompat == 5){\n            this.object.style.top = (parseInt(this.object.style.top) + AMI.Browser.getDocumentTop(window)) + 'px';\n        }\n\n        // Fix for alerts\n        if(this.ieCompat == 5){\n            var contentHeight = this.content.offsetHeight + (this.content.offsetTop * 2);\n            this.object.style.height = contentHeight + this.header.offsetHeight + 'px';\n        }\n\n        // Close popup by layer click\n        if(this.layer){\n            AMI.Browser.Event.addHandler(this.layer, 'click', function(popup){return function(){popup.close();}}(this));\n        }\n        if(typeof(this.params.onShow) == 'function'){\n            this.params.onShow(this);\n        }\n    },\n\n    /**\n     * Open popup with resize animation.\n     */\n    this._openResize = function(){\n\n        // Do not use effects in compatibility mode\n        if(this.ieCompat == 5){\n            this._openNone();\n            return;\n        }\n\n        AMI.UI.Effects.animate(\n            this.object,\n            {   // initial state\n                left:   this.openX,\n                top:    this.openY,\n                width:  0,\n                height: 0\n            },\n            {   // final state\n                left:   this.positionX,\n                top:    this.positionY,\n                width:  this.params.width,\n                height: this.params.height\n            },\n            300, // Open in 300 ms.\n            function(popup){\n                return function(){\n                    popup._openNone();\n                }\n            }(this)\n        );\n    },\n\n    /**\n     * Open popup with fade in animation.\n     */\n    this._openFadein = function(){\n\n        // Do not use effects in compatibility mode\n        if(this.ieCompat == 5){\n            this._openNone();\n            return;\n        }\n\n        this.object.style.left = parseInt(this.positionX) + 'px';\n        this.object.style.top = parseInt(this.positionY) + 'px';\n        this.object.style.width = this.params.width + 'px';\n        this.object.style.height = this.params.height + 'px';\n\n        this.object.style.visibility = 'hidden';\n        this.object.style.display = 'block';\n        if(((this.params.height == undefined)||(this.params.width == undefined))||(this.content.offsetHeight > this.params.height)){\n            this.autosize();\n        }\n        this.content.style.display = 'block';\n        AMI.UI.Effects.fadeIn(\n            this.object,\n            600,\n            function(popup){\n                return function(){\n                    popup._openNone();\n                }\n            }(this)\n        );\n    },\n\n    /**\n     * Close popup with no animation.\n     */\n    this._closeNone = function(){\n        if(this.object.parentNode){\n            this.object.parentNode.removeChild(this.object);\n        }\n        if(this.origin){\n            this.originParent.appendChild(this.origin);\n        }\n        if(typeof(this.params.onClose) == 'function'){\n            this.params.onClose(this);\n        }\n    },\n\n    /**\n     * Close popup with resize animation.\n     */\n    this._closeResize = function(){\n\n        // Do not use effects in compatibility mode\n        if(this.ieCompat == 5){\n            this._closeNone();\n            return;\n        }\n\n        AMI.UI.Effects.animate(\n            this.object,\n            {   // initial state\n                left:   parseInt(this.object.style.left),\n                top:    parseInt(this.object.style.top),\n                width:  this.object.offsetWidth,\n                height: this.object.offsetHeight\n            },\n            {   // final state\n                left:   this.closeX,\n                top:    this.closeY,\n                width:  0,\n                height: 0\n            },\n            300, // Open in 300 ms.\n            function(popup){\n                return function(){\n                    popup._closeNone();\n                }\n            }(this)\n        );\n    },\n\n    /**\n     * Close popup with fadeout effect.\n     */\n    this._closeFadeout = function(){\n\n        // Do not use effects in compatibility mode\n        if(this.ieCompat == 5){\n            this._closeNone();\n            return;\n        }\n\n        AMI.UI.Effects.fadeOut(\n            this.object,\n            500,\n            function(popup){\n                return function(){\n                    popup._closeNone();\n                }\n            }(this)\n        );\n    },\n\n    this._createLayer = function(){\n        var layer = document.createElement('DIV');\n        layer.className = 'popupWindowShadow';\n        layer.id = this.popupId + '_layer';\n        layer.style.zIndex = this.zIndex;\n        layer.style.display = 'none';\n        if(this.ieCompat == 5){\n            layer.style.position = 'absolute';\n            layer.style.height = AMI.Browser.getDocumentHeight(window) + 'px';\n        }\n        document.body.appendChild(layer);\n        this.layer = layer;\n    }\n\n    this._createWindow = function(){\n        // Create popup layout\n        var popup = document.createElement('DIV');\n        popup.id = this.popupId;\n        popup.style.width = 0;\n        popup.style.height = 0;\n        popup.className = this.className;\n        popup.style.display = 'none';\n        popup.style.zIndex = this.zIndex + 1;\n\n        var popupHeader = document.createElement('DIV');\n        popupHeader.id = this.popupId + '_header';\n        popupHeader.className = 'popupHeader';\n        popup.appendChild(popupHeader);\n\n        var popupHeaderText = document.createElement('DIV');\n        popupHeaderText.className = 'popupHeaderText';\n        popupHeaderText.innerHTML = (this.params.header != undefined) ? this.params.header : '&nbsp;';\n        popupHeader.appendChild(popupHeaderText);\n        if(this.hasCloseBtn){\n            var popupClose = document.createElement('DIV');\n            popupClose.className = 'popupClose';\n            AMI.Browser.Event.addHandler(popupClose,'click', function(popup){return function(){popup.close();}}(this)); // Close by click\n            popupHeader.appendChild(popupClose);\n        }\n\n        var popupContent = document.createElement('DIV');\n        popupContent.className = 'popupContent';\n        popup.appendChild(popupContent);\n\n        document.body.appendChild(popup);\n\n        // Increase window z-index if not a modal window\n        AMI.Browser.Event.addHandler(popupHeader,'mousedown', function(popup){\n            return function(){\n                popup.up();\n            }\n        }(this));\n\n        // Initialize drag'n'drop: move popup by dragging header\n        if((this.params.movable == undefined) || this.params.movable){\n            AMI.UI.DnD.initElement(popup, (this.dragBy == 'header') ? popupHeader : popup);\n        }\n\n        this.header = popupHeader;\n        this.popupContent = popupContent;\n        this.object = popup;\n    }\n\n    this.up = function(){\n        var maxZIndex = AMI.Browser.DOM.getMaxZIndex();\n        if(maxZIndex > (this.zIndex + 1)){\n            this.zIndex = AMI.Browser.DOM.getMaxZIndex() + 10;\n            this.object.style.zIndex = this.zIndex + 1;\n        }\n    }\n\n    if(typeof(content) == 'object'){\n        if(content.popupId != undefined){\n            AMI.UI.PopupManager.show(content.popupId);\n            return;\n        }\n        this.origin = content;\n        this.content = content; //  .cloneNode(true); <- many bad things happen\n        this.origin.style.display = 'none';\n    }else{\n        if((params.id != undefined) && (AMI.UI.PopupManager.popups[params.id] != undefined)){\n            AMI.UI.PopupManager.show(params.id);\n            return;\n        }\n        this.origin = null;\n        this.content = document.createElement('DIV');\n        this.setHTML(content);\n    }\n\n    this.init();\n}\n\n/**\n * Closes any pupup window found up by the DOM tree.\n */\nfunction closePopup(){\n    obj = AMI.Browser.Event.getTarget(AMI.Browser.Event.globalEvent);\n    if(popup = AMI.UI.PopupManager.findParentPopup(obj)){\n        popup.close();\n    }\n}\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.popups.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.ui.alert.js\r\n */\r\n\r\nAMI.UI.Alert = {\n\n    states: ['status_normal', 'status_notice', 'status_error'],\n    defaultState: 'status_notice',\n    modalStates: ['status_error'],\n    alertWindow: null,\n    isModal: false,\n    alertDivId: 'status_message',\n    alertPopupId: 'status_message_popup',\n\n    hide: function(popup){\n        return function(){\n            popup.close();\n        }\n    },\n\n    show: function(message, type){\n        var obj = AMI.find('#' + this.alertDivId);\n        if (!obj){\n            if(type == undefined){\n                type = this.defaultState;\n            }\n            obj = AMI.Browser.DOM.create('DIV', this.alertDivId, type, '', document.body);\n            obj.innerHTML = message;\n        }else{\n            if(type == undefined){\n                type = this._checkType(obj);\n            }\n        }\n        this.isModal = this._checkModal(type);\n        obj.className = type;\n\n        if(this.alertWindow){\n            if(this.alertWindow.killTimer){\n                clearTimeout(this.alertWindow.killTimer);\n            }\n            if(this.alertWindow.bodyClickHandler){\n                AMI.Browser.Event.removeHandler(window.document.body, 'click', this.alertWindow.bodyClickHandler);\n            }\n            if(obj.innerHTML != message){\n                obj.innerHTML = obj.innerHTML + '<br />' + message;\n                this.alertWindow.setHTML(obj.innerHTML);\n                this.alertWindow.autosize();\n            }\n        }else{\n            this.alertWindow = new AMI.UI.Popup(AMI.find('#' + AMI.UI.Alert.alertDivId).innerHTML, {\n                id: this.alertPopupId,\n                width: 350,\n                height: 16,\n                modal: this.isModal,\n                movable: true,\n                dragBy: 'body',\n                className: 'AlertWindow ' + type,\n                animation: {open: 'fadein', close: 'fadeout'},\n                autosize: false,\n                onShow: function(popup){\n                    popup.setHTML(AMI.find('#' + AMI.UI.Alert.alertDivId).innerHTML);\n                    if(!AMI.UI.Alert.isModal){\n                        if(popup.killTimer){\n                            clearTimeout(popup.killTimer);\n                        }\n                        popup.killTimer = setTimeout(AMI.UI.Alert.hide(popup), 4000);\n                        popup.bodyClickHandler = AMI.UI.Alert.hide(popup);\n                        AMI.Browser.Event.addHandler(window.document.body, 'click', popup.bodyClickHandler);\n                        AMI.Browser.Event.addHandler(popup.object, 'mouseout', function(popupWnd){\n                            return function(){\n                                if(!popupWnd.killTimer){\n                                    popupWnd.killTimer = setTimeout(AMI.UI.Alert.hide(popup), 4000);\n                                }\n                            }\n                        }(popup));\n                        AMI.Browser.Event.addHandler(popup.object, 'mouseover', function(popupWnd){\n                            return function(){\n                                if(popupWnd.killTimer){\n                                    clearTimeout(popupWnd.killTimer);\n                                    popupWnd.killTimer = null;\n                                }\n                            }\n                        }(popup));\n                    }\n                },\n                onClose: function(popup){\n                    AMI.UI.Alert.alertWindow = null;\n                    if(popup.killTimer){\n                        clearTimeout(popup.killTimer);\n                    }\n                    if(popup.bodyClickHandler){\n                        AMI.Browser.Event.removeHandler(window.document.body, 'click', popup.bodyClickHandler);\n                    }\n                    var obj = AMI.find('#' + AMI.UI.Alert.alertDivId);\n                    if(obj && obj.parentNode){\n                        obj.parentNode.removeChild(obj);\n                    }\n                }\n            });\n        }\n    },\n\n    _checkType: function(obj){\n        for(var i=0; i < this.states.length; i++){\n            if(AMI.hasClass(obj, this.states[i])){\n                return this.states[i];\n            }\n        }\n        return this.defaultState;\n    },\n    \n    _checkModal: function(type){\n        return (this.modalStates.indexOf(type) >= 0);\n    }\n}\n\n\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.ui.alert.js\r\n */\r\n\r\n/*\r\n * FILE START: _shared/code/js/ami.final.js\r\n */\r\n\r\nAMI.UI.MediaBox.PageImages = {\r\n    aGroups: {},\r\n    groupsNumber: 0,\r\n\r\n    init: function(){\r\n        AMI.Browser.Event.addHandler(window, 'load', function(){AMI.UI.MediaBox.PageImages.onLoadHandler()});\r\n        AMI.Message.addListener('ON_AMI_MEDIABOX_GROUPS_NUMBER', function(oResponse){AMI.UI.MediaBox.PageImages.getGroupsNumber(oResponse)});\r\n        AMI.Message.addListener('ON_AMI_MEDIABOX_GET_GROUP', function(oData, oResponse){AMI.UI.MediaBox.PageImages.getGroup(oData, oResponse)});\r\n    },\r\n\r\n    getImageLink: function(imageLink){\r\n        if(!/^https?:\\/\\//.test(imageLink)){\r\n            imageLink = frontBaseHref + imageLink;\r\n        }\r\n        return imageLink;\r\n    },\r\n\r\n    onLoadHandler: function(){\r\n        var aImages = AMI.find('img');\r\n        for(var i = 0; i < aImages.length; i++){\r\n            var popupImage = aImages[i].getAttribute('data-ami-mbpopup');\r\n            if(popupImage != null && popupImage != ''){\r\n                popupImage = this.getImageLink(popupImage);\r\n                aImages[i].setAttribute('data-ami-mbpopup', popupImage);\r\n\r\n                /*\r\n                AMI.Browser.Event.addHandler(aImages[i], 'mouseover', function(evt){AMI.Browser.Event.getTarget(evt).style.cursor = 'pointer'});\r\n                AMI.Browser.Event.addHandler(aImages[i], 'mouseout', function(evt){AMI.Browser.Event.getTarget(evt).style.cursor = 'default'});\r\n                */\r\n                AMI.Browser.Event.addHandler(aImages[i], 'click', function(evt){AMI.UI.MediaBox.openFromObject(AMI.Browser.Event.getTarget(evt))});\r\n            }\r\n\r\n            var group = aImages[i].getAttribute('data-ami-mbgrp');\r\n            if(group != null && group != '' && popupImage != null && popupImage != ''){\r\n                if(typeof(this.aGroups[group]) == 'undefined'){\r\n                    this.aGroups[group] = [];\r\n                    this.groupsNumber ++;\r\n                }\r\n                this.aGroups[group].push(aImages[i]);\r\n            }\r\n\r\n            var overImage = aImages[i].getAttribute('data-ami-mbover');\r\n            if(overImage != null && overImage != ''){\r\n                overImage = this.getImageLink(overImage);\r\n                aImages[i].setAttribute('data-ami-mbover', overImage);\r\n                AMI.Browser.Event.addHandler(aImages[i], 'mouseover', function(evt){AMI.UI.OverImage.onOver(evt)});\r\n                AMI.Browser.Event.addHandler(aImages[i], 'mouseout', function(evt){AMI.UI.OverImage.onOut(evt)});\r\n                AMI.Browser.Event.addHandler(aImages[i], 'click', function(evt){AMI.UI.OverImage.stopWaiting(evt)});\r\n            }\r\n        }\r\n    },\r\n\r\n    getGroupsNumber: function(oResponse){\r\n        oResponse.result = this.groupsNumber;\r\n        return true;\r\n    },\r\n\r\n    getGroup: function(oData, oResponse){\r\n        var groupName = oData.groupName;\r\n        if(typeof(this.aGroups[groupName]) != 'undefined'){\r\n            oResponse.aGroupImages = this.aGroups[groupName];\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\nAMI.UI.MediaBox.PageImages.init();\r\n\r\n/*\r\n * FILE END: _shared/code/js/ami.final.js\r\n */\r\n\r\n/*\r\n * FILE START: _js/common.js\r\n */\r\n\r\n// user's functions\n\nfunction isIE5() { return (navigator.userAgent.indexOf(\"MSIE 5\") > -1); }\nfunction isIE6() { return ((navigator.userAgent.indexOf(\"MSIE 6\") > -1) && (navigator.userAgent.indexOf(\"Opera\") == -1)); }\nfunction isIE() { return (isIE5() || isIE6());}\n\nfunction fixpng()\n{\n for (var i = 0; i < document.images.length; i++)\n {\n  var img = document.images[i];\n  imgSrc = img.src;\n  if (imgSrc.substr(imgSrc.length-3).toLowerCase() == \"png\")\n  {\n   var w, h;\n   w = img.width, h = img.height;\n   img.src = \"_mod_files/ce_images/spacer.gif\";\n   img.width = w, img.height = h;\n   img.style.filter = \"progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'\" + imgSrc + \"\\', sizingMethod='scale');\";\n  }\n }\n}\n\nvar isIE = isIE();\nif (isIE) window.attachEvent(\"onload\", fixpng); \n\n\n\n\n\n\nvar oAlertWindow;\nvar oAlertWindowTimer;\n\nfunction showInitAlert(){\n    oAlertWindow = document.getElementById('status_message');\n    if (oAlertWindow){\n      var oLocalMessage = document.getElementById('status_message_local');\n      if(oLocalMessage && (oAlertWindow.className == 'status_error')){\n          oLocalMessage.style.display = 'none';\n      }\n      alert(oAlertWindow.innerHTML);\n    }\n}\n\n\nfunction alert(message){\n    if(!message || (message == '')){\n        return false;\n    }\n    oAlertWindow = document.getElementById('status_message');\n    if (!oAlertWindow){\n        oAlertWindow = AMI.Browser.DOM.create('DIV', 'status_message', 'status_notice', '', document.body);\n    }\n    if((oAlertWindow.innerHTML != '') && (oAlertWindow.style.visibility == 'visible')){\n        if(oAlertWindow.innerHTML != message){\n          oAlertWindow.innerHTML += '<br>' + message;\n        }\n    }else{\n        oAlertWindow.innerHTML = message;\n\n        if(!oAlertWindow.onmouseover) oAlertWindow.onmouseover = function(){\n            window.clearTimeout(oAlertWindowTimer);\n        }\n        if(!oAlertWindow.onmouseout) oAlertWindow.onmouseout = function(){\n            window.setTimeout(function(oObj){return function(){fadeOut(oObj, 1000)}}(oAlertWindow), 1000);\n        }\n\t\t\t\tif (navigator.userAgent.indexOf(\"MSIE\") >= 0) {\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\toAlertWindow.style.left = parseInt((AMI.Browser.getWindowWidth() - oAlertWindow.offsetWidth) / 2);\t\t\t\t\n\t\t\t\t}\t\n\t\tfadeIn(oAlertWindow, 300);\t\t\t\t\t\n    }\n    window.clearTimeout(oAlertWindowTimer);\n    oAlertWindowTimer = window.setTimeout(function(oObj){return function(){fadeOut(oObj, 1000)}}(oAlertWindow), 4000);\n}\n\nfunction fadeOut(oObj, time){     \n    var delay = 50;\n    if(time==null){\n        var time = 500;\n    }\n        alert( parseFloat(oObj.style.opacity) + ' - ' + parseFloat(oObj.style.opacity) +' / ' + (time / delay) + ' = ' + parseFloat(oObj.style.opacity) - (parseFloat(oObj.style.opacity) / (time / delay)));\n    if(time > 0){\n        time -= delay;\n        oObj.style.opacity = parseFloat(oObj.style.opacity) - ( parseFloat(oObj.style.opacity) / (time / delay) );\n        window.setTimeout(function(_oObj, _time ){return function(){fadeOut(_oObj, _time)}}(oObj, time), delay);\n    }else{\n        oObj.style.opacity = '1';\n        oObj.style.visibility = 'hidden';\n    }\n}\n\nfunction fadeIn(oObj, time){\n    var delay = 50;\n    if(oObj.style.visibility != 'visible'){\n        oObj.style.visibility = 'visible';\n        oObj.style.opacity = '0';\n    }\n    if(time==null){\n        var time = 500;\n    }\n    if(time > 0){\n        time -= delay;\n        oObj.style.opacity = parseFloat(oObj.style.opacity) + (1 - parseFloat(oObj.style.opacity)) / (time / delay);\n        window.setTimeout(function(_oObj, _time){return function(){fadeIn(_oObj, _time)}}(oObj, time), delay);\n    }\n}\n\n// addOnLoadEvent(showInitAlert);\nsavePreviousOnLoadEvent();\n\n// menu.js\n\nfunction load(location){\r\n    if(document.images){\r\n        var image = new Image();\r\n        image.src = location;\r\n        return image;\r\n    }\r\n}\r\n\r\nfunction getElementPosition(oElement, oMenu){\r\n    var res = new Array(0, 0);\r\n    // Detect absolute or relative parent offset\r\n    pStopObj = null;\r\n    pObj = oMenu.parentNode;\r\n    while(pObj != null && typeof(pObj.style) != \"undefined\"){\r\n        if(pObj.style.position == \"absolute\" || pObj.style.position == \"relative\"){\r\n            pStopObj = pObj;\r\n            break;\r\n        }\r\n        pObj = pObj.parentNode;\r\n    }\r\n    // Get coordinates\r\n    do{\r\n        if(pStopObj == oElement)\r\n            break;\r\n        res[0] += oElement.offsetLeft;\r\n        res[1] += oElement.offsetTop;\r\n    }while((oElement = oElement.offsetParent) != null);\r\n    return res;\r\n}\r\n\r\nfunction positioningMenu(smNum, relateToParentX, relateToParentY, deltaX, deltaY){\r\n    var menuId = \"sub_menu_\" + smNum;\r\n    var menuObj = document.getElementById(menuId);\r\n    var parentId = \"j\" + smNum;\r\n    var parentObj = document.getElementById(parentId);\r\n    \r\n    var parentPosition = getElementPosition(parentObj, menuObj);\r\n\r\n    if(typeof(deltaX) == \"undefined\")\r\n        deltaX = 0;\r\n    if(relateToParentX == \"right\" || relateToParentX == \"center\"){\r\n        parentWidth = parentObj.offsetWidth;\r\n        if(relateToParentX == \"center\")\r\n            parentWidth = parentWidth/2;\r\n        deltaX += parentWidth;\r\n    }\r\n    \r\n    if(typeof(deltaY) == \"undefined\")\r\n        deltaY = 0;\r\n    if(relateToParentY == \"bottom\" || relateToParentY == \"center\"){\r\n        parentHeight = parentObj.offsetHeight;\r\n        if(relateToParentY == \"center\")\r\n            parentHeight = parentHeight/2;\r\n        deltaY += parentHeight;\r\n    }\r\n    \r\n    menuObj.style.position = 'absolute';\r\n    menuObj.style.left = parentPosition[0] + deltaX + 'px';\r\n    menuObj.style.top = parentPosition[1] + deltaY + 'px';\r\n}\r\n\r\nvar hTmMenuHide = null;\r\nvar hTmSubMenuHide = {\"init\":0};\r\nvar prevImgSrc = Array();\r\nvar openedMenusStack = Array();\r\n\r\nfunction showMenu(smNum, parentNum, relateToParentX, relateToParentY, deltaX, deltaY, imgOver){\r\n    var menuObj = document.getElementById(\"sub_menu_\" + smNum);\r\n    if(menuObj != null){\r\n        clearTimeout(hTmMenuHide);\r\n        clearTimeout(hTmSubMenuHide[smNum]);\r\n        \r\n        hideMenuById(parentNum, true, true);\r\n        positioningMenu(smNum, relateToParentX, relateToParentY, deltaX, deltaY);\r\n      \r\n        if(document.images['main_menu_img_'+smNum]){\r\n            prevImgSrc[smNum] = document.images['main_menu_img_'+smNum].src;\r\n            document.images['main_menu_img_'+smNum].src = imgOver;\r\n        }\r\n        \r\n        document.getElementById(\"sub_menu_\" + smNum).style.display = 'block';\r\n        openedMenusStack.push(smNum);\r\n    }\r\n}\r\n\r\nfunction hideMenu(smNum){\r\n    var menuObj = document.getElementById(\"sub_menu_\" + smNum);\r\n    if(menuObj != null){\r\n        menuObj.style.display = 'none';\r\n        images = document.getElementsByTagName(\"IMG\");\r\n        if(document.images && document.images['main_menu_img_'+smNum] && prevImgSrc[smNum] != null){\r\n            document.images['main_menu_img_'+smNum].src = prevImgSrc[smNum];\r\n        }\r\n    }\r\n}\r\n\r\nfunction hideMenuById(smNum, isIdParent, hideAllIfNotFound){\r\n    if(smNum == 0){\r\n        hideMenuAll();\r\n    }else{\r\n        var removeFromPos = -1;\r\n        for(i = 0; i < openedMenusStack.length; i++){\r\n            if(openedMenusStack[i] == 0)\r\n                break;\r\n            if(removeFromPos == -1 && openedMenusStack[i] == smNum){\r\n                removeFromPos = i;\r\n                if(isIdParent){\r\n                    removeFromPos += 1;\r\n                    continue;\r\n                }\r\n            }\r\n            if(removeFromPos > -1){\r\n                hideMenu(openedMenusStack[i]);\r\n            }\r\n        }\r\n        if(hideAllIfNotFound && removeFromPos == -1){\r\n            hideMenuAll();\r\n        }else if(removeFromPos > -1 && removeFromPos < openedMenusStack.length){\r\n            openedMenusStack.splice(removeFromPos, openedMenusStack.length-removeFromPos);\r\n        }\r\n    }\r\n} \r\n\r\nfunction hideMenuAll(){\r\n    for(i = openedMenusStack.length-1; i >= 0; i--){\r\n        hideMenu(openedMenusStack[i]);\r\n    }\r\n    openedMenusStack = new Array();\r\n    \r\n    // Switch to next block if you have some problems with div hiding caused special custom processing\r\n    /*oDivs = document.getElementsByTagName(\"DIV\");\r\n    for(i = 0; i < oDivs.length; i++){\r\n        if(oDivs[i].id.substr(0, 9) == \"sub_menu_\"){\r\n            hideMenu(oDivs[i].id.substr(9));\r\n        }\r\n    }*/\r\n} \r\n\r\nfunction hideMenuAllByTimeout(){\r\n    hTmMenuHide = setTimeout('hideMenuAll()', 500);\r\n}\r\nfunction hideMenuIdByTimeout(smNum){\r\n    hTmSubMenuHide[smNum] = setTimeout('hideMenuById('+smNum+', false, false)', 250);\r\n}\r\n\r\n/* HTML handlers */\r\nfunction mon(smNum, smParentId){\r\n    clearTimeout(hTmMenuHide);\r\n    if(typeof(smNum) != \"undefined\" && smNum > 0){\r\n        clearTimeout(hTmSubMenuHide[smNum]);\r\n    }\r\n    if(typeof(smParentId) != \"undefined\" && smParentId > 0){\r\n        clearTimeout(hTmSubMenuHide[smParentId]);\r\n    }\r\n}\r\nfunction moff(smNum, evt){\r\n    hideMenuAllByTimeout();\r\n    if(typeof(smNum) != \"undefined\"){\r\n        hideMenuIdByTimeout(smNum);\r\n    }\r\n    if(typeof(evt) != \"undefined\"){\r\n        if(typeof(evt.cancelBubble) != \"undefined\"){\r\n            evt.cancelBubble = true;\r\n            if(typeof(evt.stopPropagation) == \"function\")\r\n                evt.stopPropagation();\r\n        }\r\n    }\r\n}\r\nfunction submoff(menuId){\r\n    hideMenuIdByTimeout(menuId);\r\n}\r\nfunction ck(num,state){\r\n}\r\nfunction smclick(){\r\n    hideMenuAll();\r\n}\n\n// preload.js\n\nvar clockColor;\n\nnn = (document.getElementById && navigator.appName == \"Netscape\") ? 1 : 0;\nie = (!nn && document.all) ? 1 : 0;\n\nfunction getRTime(){\n\n\n  clockS -= 1;\n\n  if (clockS < 0){\n\n    clockS = 59;\n    clockM -= 1;\n\n    if (clockM < 0)\n      clockM = 59;\n  }\n\n  var sSec = clockS;\n\n  if ( String(clockS).length < 2)\n    sSec = \"0\"+ clockS;\n\n  var sMin = clockM;\n\n  if ( String(clockM).length < 2)\n    sMin = \"0\"+ clockM;\n\n  clockColor = \"white\";\n\n  if (clockM < 20)\n    clockColor=\"yellow\";\n  if (clockM < 10)\n    clockColor=\"red\";\n\n  return sMin+\":\"+sSec; \n\n}\n\n\nfunction showTime()\n{\n\n\n  if ((typeof(clockS)==\"number\") && typeof(clockM)==\"number\"){  \n\n    STime=getRTime(); \n\n    if (document.all && document.all[\"clock\"] ){\n\n      var clock = document.all[\"clock\"];\n    \n      clock.innerHTML=STime;\n\n      clock.style.color=clockColor;\n\n    }\n    if ( ie )\n      timerId=setTimeout(\"showTime()\",1000);\n  }\n}\n\n//showTime()\n\n\n\nfunction none(){\n  return false;\n}\n\nfunction newImage(arg) {\n  if (document.images) {\n    rslt = new Image();\n    rslt.src = arg;\n    return rslt;\n  }\n}\n\nfunction changeImages() {\n  if (document.images && (preloadFlag == true)) {\n    for (var i=0; i<changeImages.arguments.length; i+=2) {\n      document[changeImages.arguments[i]].src = changeImages.arguments[i+1];\n    }\n  }\n}\n\nvar preloadFlag = false;\n\nfunction preloadImages() { \n  if(document.images) { \n     if(!preloadFlag) var pImages =new Array();\n     var i,j=pImages.length,args=preloadImages.arguments; \n     if (args[0].length)\n       args = args[0];\n     for(i=0; i<args.length; i++)\n     if(args[i].indexOf(\"#\")!=0) { \n        pImages[j]=new Image; \n        pImages[j++].src=args[i];\n     }\n  preloadFlag = true;\n  }\n}\n\nif (typeof(arrPreload)!=\"undefined\")\n  preloadImages(arrPreload);\n\nfunction DoPreload(){\n}\n       \n\n\n\rAMI.UI.overloadAlert(true);\n\r\r\n\r\n/*\r\n * FILE END: _js/common.js\r\n */\r\nAMI.Template.Locale.merge({mediaBoxZommed : \"Изображение уменьшено, <a href=\\\"\\\">показать в оригинальном размере __width__х__height__</a>\", mediaBoxNotZommed : \"Изображение увеличено, <a href=\\\"\\\">уменьшить до размеров окна</a>\", mediaBoxCounter : \"Изображение __current__ из __total__\", mediaBoxPrevious : \"Предыдущее изображение\", mediaBoxNext : \"Следующее изображение\"});"
          },
          "redirectURL": "",
          "headersSize": 298,
          "bodySize": 46757
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 43,
          "receive": 5
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 37,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.14.2.11"
            },
            {
              "name": "styles",
              "value": "common|home"
            }
          ],
          "headersSize": 323,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 60187,
            "text": "/*\r\n * ATTENTION! This file is automatically created from several CSS files.\r\n * Find file path and name in the comments in the beginning of the each code block\r\n */\r\n\r\n\r\n/*\r\n * FILE START: _mod_files/_css/common.css\r\n */\r\n\r\n.status_error {background:#ffef8f; color: #F00000;}\r\n.status_normal {background:#b0efff;}\r\n.status_notice {background:#ffef8f;}\r\n/* \r\n\t-- COMMON.CSS strucrure: --\r\n\t1. Reset browser's defaults styles\r\n\t2. Common styles\r\n\t3. Current design styles\r\n\t4. Navigation styles\r\n\t5. Modules\r\n\t6. E-commerce\r\n\t7. System\r\n*/\r\n\r\n/* 1. RESET BROWSER's DEFAULTS ****************************************************************************************************/\r\n\r\n\r\ntable.dsn, table.dsn tbody, table.dsn tr, table.dsn th, table.dsn td { margin: 0; padding: 0; }\r\ntable.dsn { border-collapse: separate; border-spacing: 0; }\r\n\r\n.wrapper { position: relative; }\r\n\r\n.clear { clear: both; height: 0px; overflow: hidden; }\r\n\r\n/* END RESET BROWSER's DEFAULTS */\r\n\r\n\r\n/* 2. COMMON STYLES ****************************************************************************************************/\r\n\r\nBLOCKQUOTE {margin-top:5px;margin-bottom:5px;margin-left:16px;margin-right:0px}\r\n\r\n/* COMMON STYLES FORM */\r\n\r\nFORM {  margin: 0px; }\r\nINPUT { font-size: 1em; }\r\n\r\nINPUT.txt, INPUT.field, INPUT.filter_field { font-size: 1em; border: #848484 1px solid; }\r\nINPUT.txt_noborder   { border: #FFFFFF 0px solid; }\r\nINPUT.check { border: 0px; }\r\n\r\ninput.btn, .but, .text_button {\r\n\tbackground-color: #78aec6; \r\n\tcolor: #ffffff; \r\n\tfont-weight: bold; \r\n\tborder: #dddddd 1px solid;\r\n}\r\n\r\nSELECT.sel  {  border: #848484 1px solid; }\r\nCHECKBOX.chb{  border: #848484 1px solid; }\r\nTEXTAREA.ta {  border: #848484 1px solid; }\r\n\r\nbutton {\r\n\t\r\n\tbackground-color: #4A9400;\r\n\tborder: solid #dddddd 1px;\r\n\tcolor: #fff;\r\n\theight: 20px; line-height: 20px;\r\n\tcursor: pointer;\r\n\tmargin-right: 2px;\r\n}\r\n\r\n/* COMMON STYLES END FORM */\r\n\r\n\r\n/* COMMON STYLES TABLE */\r\n\r\nTABLE.tbl, TABLE.price { border-left:2px solid #dddddd;border-right:2px solid #dddddd; empty-cells: hide;}\r\nTABLE.tbl TD, TABLE.price td { border-bottom:1px solid #dddddd; padding:5px 8px 5px 8px; }\r\nTABLE.tbl TH, TABLE.price th { color:#ffffff;border:0px; background-color:#18ba24;padding:5px 8px 5px 8px }\r\n\r\n/* COMMON STYLES END TABLE */\r\n\r\n\r\n.small, .small a { font-size: 0.9em; }\r\n\r\n\r\n.wd1 { width: 60px !important; }\r\n.wd2 { width: 110px !important; }\r\n.wd3 { width: 150px !important; }\r\n.wd4 { width: 200px !important; }\r\n.wd5 { width: 250px !important; }\r\n.wd6 { width: 500px !important; }\r\n.wd7 { width: 100% !important; }\r\n\r\n.sz1 { font-size: .5em !important; }\r\n.sz2 { font-size: .6em !important; }\r\n.sz3 { font-size: .7em !important; }\r\n.sz4 { font-size: .9em !important; }\r\n.sz5 { font-size: 1em !important; }\r\n.sz6 { font-size: 1.2em !important; }\r\n.sz7 { font-size: 1.3em !important; }\r\n.sz8 { font-size: 1.5em !important; }\r\n.sz9 { font-size: 2em !important; }\r\n\r\n/* END COMMON STYLES */\r\n\r\n\r\n/* 3. CURRENT DESIGN STYLES START ****************************************************************************************************/\r\n\r\n.img_main {}\r\n\r\n#dsn_note { position: relative; \twidth: 399px; height: 85px; }\r\n* html #dsn_note { width: 401px; }\r\n\r\n#dsn_note_top {\r\n\twidth: 399px; height: auto;\r\n\tmin-height: 74px;\r\n\tbackground: #ffab00 url('_mod_files/ce_images/note_area_fon.gif') top left repeat-x; \r\n\tborder-left: solid #d9d9d9 1px;\tborder-right: solid #d9d9d9 1px;\r\n}\r\n* html #dsn_note_top { width: 401px; }\r\n\r\n#dsn_note_i { margin-top: 8px; width: 50px; height: 66px;\tfloat: left; }\r\n#dsn_note_text, #dsn_note_text a, #dsn_note_text a:hover, #dsn_note_text a:visited {\tpadding-top: 8px; font-size: 0.9em;\tcolor: #fff; }\r\n#dsn_note_bott {\twidth: 401px; height: 11px;}\r\n\r\n.dsn_left_orange_block_1 {\r\n\tmargin-bottom: 10px;\r\n\tpadding-top: 6px;\r\n\twidth: 200px; height: 76px;\r\n\tbackground: url('_mod_files/ce_images/basket_fon.png') top right no-repeat;\r\n}\r\n\r\n.dsn_left_block_1 { position: relative; width: 200px; border: solid #d9d9d9 1px; margin-bottom: 10px;}\r\n\r\n.dsn_left_block_1_head  {\r\n\tmargin: 10px 15px 10px 10px;\r\n\tpadding-bottom: 3px;\r\n\tborder-bottom: solid #d9d9d9 1px;\r\n\tline-height: 25px;\r\n\tfont: bold 1.3em tahoma, arial, verdana;\t\r\n\tcolor: #0066FF !important;\t\r\n\ttext-decoration: none;\r\n}\r\n.dsn_left_block_1_head  a { font: bold 1.2em tahoma, arial, verdana; color: #0066FF !important;\ttext-decoration: none; }\r\n.dsn_left_block_1_content { width: auto; margin-left: 10px; margin-right: 15px; margin-bottom: 15px;}\r\n* html .dsn_left_block_1_content { width: 100%; }\r\n\r\n\r\n.dsn_right_block_1 { position: relative; width: 200px; border: solid #d9d9d9 1px; margin-bottom: 10px;}\r\n\r\n.dsn_right_block_1_head  {\r\n\tmargin: 0px 15px 10px 15px;\r\n\tpadding-bottom: 3px;\r\n\tborder-bottom: solid #d9d9d9 1px;\r\n\tline-height: 25px;\r\n\tfont: bold 1.2em tahoma, arial, verdana;\t\r\n\tcolor: #ff6600 !important;\r\n\ttext-decoration: none;\r\n}\r\n.dsn_right_block_1_head  a { font: bold 1.2em tahoma, arial, verdana;\tcolor: #ff6600 !important;\ttext-decoration: none; }\r\n.dsn_right_block_1_content { width: auto; margin-left: 15px; margin-right: 15px; margin-bottom: 15px;}\r\n* html .dsn_right_block_1_content { width: 100%; }\r\n\r\n.dsn_footer_contacts {\r\n\tpadding-left: 90px;\tpadding-top: 15px;\r\n\tbackground: url('_mod_files/ce_images/i_write.jpg') 10px 10px no-repeat;\r\n\tfont: normal 0.8em arial, tahoma, verdana;\r\n\tcolor: #666;\r\n}\r\n\r\na.dsn_footer_a:link, a.dsn_footer_a:visited, a.dsn_footer_a:active, a.dsn_footer_a:hover {\r\n\tfont: normal 0.8em arial, tahoma, verdana;\r\n}\r\n\r\n.dsn_block_tl { position: relative; top: -1px; left: -1px; width: 10px; height: 10px; }\r\n.dsn_block_tr { position: relative; float: right; top: -1px; right: -1px; width: 10px; height: 10px; }\r\n.dsn_block_bl { position: relative; bottom: -1px; left: -1px; width: 10px; height: 10px; }\r\n.dsn_block_br { position: relative; float: right; bottom: -1px; right: -1px; width: 10px; height: 10px;}\r\n\r\n.dsn_center_block1 { position: relative; width: 100%; border: solid #d9d9d9 1px; }\r\n\r\n.dsn_center_block1 .dsn_center_block1_content { position: relative; width: auto; margin-left: 15px; margin-right: 15px; margin-bottom: 5px;}\r\n* HTML .dsn_center_block1 .dsn_center_block1_content { width: 100%;}\r\n\r\n.dsn_center_block1_head  {\r\n\tmargin: 0px 15px 10px 0px;\r\n\tpadding-bottom: 3px;\r\n\tborder-bottom: solid #d9d9d9 1px;\r\n\tline-height: 25px;\r\n\tfont: bold 1.2em tahoma, arial, verdana;\t\r\n\tcolor: #0066ff !important;\r\n\ttext-decoration: none;\r\n}\r\n\r\n/* CURRENT DESIGN STYLES END */\r\n\r\n\r\n/* 4. NAVIGATION STYLES (Menus, Sitemaps, etc.) ****************************************************************************************************/\r\n\r\n/* NAVIGATION STYLES TOP MENU */\r\n\r\n.top_menu, .top_menu a, .top_menu a:hover, .top_menu a:visited { line-height:22px;}\r\n/* NAVIGATION STYLES END TOP MENU */\r\n\r\n\r\n/* NAVIGATION STYLES BOTTOM MENU */\r\n\r\n.bottom_menu {  }\r\n.bottom_menu a:link, .bottom_menu a:visited, .bottom_menu a:active, .bottom_menu a:hover {\r\n    \r\n}\r\n.bottom_menu a:hover {  }\r\n\r\n/* NAVIGATION STYLES END BOTTOM MENU */\r\n\r\n\r\n/* MAIN MENU */\r\n\r\n\r\n/* NAVIGATION STYLES MAIN MENU */\r\n\r\n.main_menu { }\r\n.main_menu TD{ padding-left:0px;padding-right:7px; }\r\n\r\n.main_menu a:link, .main_menu a:visited {\r\n\tcolor:#555;\r\n\tfont-weight:bold;\r\n\ttext-decoration:none; \r\n\tfont-size:0.9em; \r\n\ttext-transform:uppercase;\r\n}\r\n.main_menu a:hover { \r\n    color:#000;\r\n\ttext-decoration:none;\r\n\tfont-weight:bold; }\r\n\r\n.submenu { \r\n\tposition:absolute; \tz-index: 999;\r\n\tleft: 0; top:0; \r\n\tdisplay: none; \r\n\twidth:auto; \r\n}\r\n\r\n.pd_menu { background-color:#f0f0f0;margin-top:7px;padding-top:10px; }\r\n.pd_menu td {\r\n    color:#000000;\r\n\tborder:0px; \r\n\tpadding:5px 15px 5px 15px;\r\n}\r\n.pd_menu a:link, .pd_menu a:visited {\r\n\tfont-size:0.9em;\r\n\tfont-weight: bold; \r\n\ttext-decoration:none;\r\n\ttext-transform:none;\r\n}\r\n.pd_menu a:hover {\t\r\n    color:#000000; \r\n\ttext-decoration:none;\r\n\tfont-size:0.9em;\r\n\tfont-weight: bold; \r\n}\r\n\r\n/* NAVIGATION STYLES END MAIN MENU */\r\n\r\n\r\n/* NAVIGATION STYLES MEMBER MENU */\r\n\r\n.member_menu { margin-top: 10px; border: solid red 0px; }\r\n.member_menu td { padding-left: 10px; padding-right: 10px; text-align: center;}\r\n.member_menu  a {\tfont: normal 0.9em arial, tahoma, verdana; color: #666 !important; text-decoration: none;}\r\n.member_menu  a:hover { text-decoration: underline; }\r\n\r\n/* NAVIGATION STYLES END MEMBER MENU */\r\n\r\n\r\n/* NAVIGATION STYLES SITE MAP, SECTION MAP */\r\n\r\n.sm_tree {  }\r\n\r\n.sm_tree .sm_level_1 { padding-bottom:5px; }\r\n.sm_tree .sm_level_1 a:link, \r\n.sm_tree .sm_level_1 a:visited, \r\n.sm_tree .sm_level_1 a:active, \r\n.sm_tree .sm_level_1 a:hover { font-size: 1.3em; }\r\n.sm_level_1 .sm_tree_item_selected { font-size: 1.3em; }\r\n\r\n.sm_tree .sm_level_2 { margin-left: 15px; }\r\n.sm_tree .sm_level_2 a:link, \r\n.sm_tree .sm_level_2 a:visited, \r\n.sm_tree .sm_level_2 a:active, \r\n.sm_tree .sm_level_2 a:hover { font-size: 0.9em; }\r\n.sm_level_2 .sm_tree_item_selected { font-size: 0.9em; }\r\n\r\n.sm_tree .sm_level_3 { margin-left: 25px; }\r\n.sm_tree .sm_level_3 a:link, \r\n.sm_tree .sm_level_3 a:visited, \r\n.sm_tree .sm_level_3 a:active, \r\n.sm_tree .sm_level_3 a:hover { font-size: 0.9em; }\r\n.sm_level_3 .sm_tree_item_selected { font-size: 0.9em; }\r\n\r\n.sm_tree .sm_tree_item_selected { font-weight: bold; }\r\n\r\n.sm_imaged_tree { }\r\n\r\n.sm_imaged_tree  .sm_imaged_item_normal_1, .sm_imaged_tree  .sm_imaged_item_active_1,\r\n.sm_imaged_tree  .sm_imaged_item_normal_2, .sm_imaged_tree  .sm_imaged_item_active_2,\r\n.sm_imaged_tree  .sm_imaged_item_normal_3, .sm_imaged_tree  .sm_imaged_item_active_3 { \r\n\tpadding-left: 7px; \r\n\tline-height: 19px;\r\n}\r\n\r\n/* NAVIGATION STYLES END SITE MAP, SECTION MAP */\r\n\r\n\r\n/* NAVIGATION STYLES PAGER */\r\n\r\n.pager { margin-top: 30px; text-align: left; }\r\n\r\n.pager .pager_sibl_pages {  }\r\n.pager .pager_sibl_pages span { font-weight: bold; }\r\n\r\n.pager .pager_pages { margin: 10px 0px; padding: 4px 0px;  }\r\n\r\na.pager_sibl:link, a.pager_sibl:active, a.pager_sibl:visited, a.pager_sibl:hover,\r\na.pager_fin:link, a.pager_fin:active, a.pager_fin:visited, a.pager_fin:hover  {\r\n\ttext-decoration: none;\r\n\tfont-weight: normal;\r\n}\r\na.pager_sibl:hover, a.pager_fin:hover  { text-decoration: underline; }\r\n\r\na.pager_block:link, a.pager_block:active, a.pager_block:visited, \r\na.pager_block:hover, .pager_active, .pager_dotdot  {\r\n\tmargin-right: 3px;\r\n\tpadding: 2px 6px;\r\n\ttext-decoration: none;\r\n\ttext-align: center;\r\n\tbackground-color: #f2f2f2;\r\n}\r\na.pager_block:hover { background-color: #ccc; }\r\n\r\n.pager .pager_active { color: #f9f9f9;\tbackground-color: #666;}\r\n\r\n.pager span.pages_nav_split { font-weight: normal; padding: 0px 5px; }\r\n\r\n.pager_item_details { }\r\n\r\n.pager_item_details .pager_showall  { margin-top: 10px; }\r\n\r\n/* NAVIGATION STYLES END PAGER */\r\n\r\n/* NAVIGATION STYLES PAGES */\r\n\r\n.pages_path {  }\r\n.pages_path h1 { margin: 0px 0px 20px 0px; }\r\n\r\n.pages_nav_bar {  }\r\n\r\n.pages_sibl_bar { text-align: center; margin: 0px 0px 20px 0px; }\r\n\r\n.pages_name {  }\r\n.pages_name h3 {  }\r\n\r\na.pages_print_version:link, a.pages_print_version:visited, \r\na.pages_print_version:active, a.pages_print_version:hover {\r\n\tdisplay: block;\r\n\tmargin: 40px 0px 0px 0px;\r\n}\r\n\r\na.pages_print_version img { margin-right: 8px; }\r\n\r\n/* NAVIGATION STYLES END PAGES */\r\n\r\n/* NAVIGATION STYLES (Menus, Sitemaps, etc.) */\r\n\r\n\r\n/* 5. MODULES ****************************************************************************************************/\r\n\r\n/* MODULES VOTES */\r\n\r\n.vote_res_small_on {background-color:#3B813E;border-top:1px #3B813E solid;border-bottom:1px #3B813E solid;}\r\n.vote_res_on {background-color:#3B813E;border-top:1px #3B813E solid;border-bottom:1px #3B813E solid;}\r\n.vote_res_small_off {border-top:1px #3B813E solid;border-bottom:1px #3B813E solid;}\r\n.vote_res_off {border-top:1px #3B813E solid;border-bottom:1px #3B813E solid;}\r\n\r\n/* MODULES END VOTES */\r\n\r\n\r\n/* MODULES KNOWLEDGE BASE */\r\n\r\n.kb_item_row_name { margin-bottom: 5px; }\r\n.kb_item_row_announce {  }\r\n.kb_item_row_announce p { margin: 0px; padding: 0px; }\r\n\r\n/* MODULES END KNOWLEDGE BASE */\r\n\r\n\r\n/* MODULES BLOG */\r\n\r\n.blog IMG {margin:3px;border:#ff0000 0px solid;}\r\n\r\n/* MODULES END BLOG */\r\n\r\n\r\n/*MODULES NEWS STYLES */\r\n\r\n.small_news { }\r\n.small_news_item_row {  }\r\n.small_news_urgent_item_row { color: #ff0000; }\r\n.small_news_item_date { display: inline; }\r\n.small_news_item_time { }\r\n.small_news_item_header { display: inline; }\r\n.small_news_item_announce { }\r\n.small_news_rss { }\r\n\r\n.news { }\r\n.news_item_row {  }\r\n.news_item_date {  }\r\n.news_item_time {  }\r\n.news_item_header {  }\r\n.news_item_announce {  }\r\n.news_item_pic { float: left; margin: 0 10px 10px 0; }\r\n\r\n.news_item_row {  }\r\n.news_urgent_item_date {  }\r\n.news_urgent_item_time {  }\r\n.news_urgent_item_header { margin-bottom: 5px; }\r\n.news_urgent_item_announce {  }\r\n\r\n.news_urgent_item_announce p, .news_item_announce p { margin: 0px; padding: 0px; margin-bottom: 10px; }\r\n\r\n.news_rss { }\r\n\r\n/* MODULES END NEWS STYLES */\r\n\r\n\r\n/* MODULES ARTICLES STYLES */\r\n\r\n.small_articles {  }\r\n.small_articles_item_row {  }\r\n.small_articles_item_date { display: inline; }\r\n.small_articles_item_header { display: inline; }\r\n.small_articles_rss { }\r\n\r\n\r\n.articles {  }\r\n\r\n.articles_cat_name { display: inline; }\r\n.articles_cat_name a { font-size: 1.2em; }\r\n.articles_cat_num_items { display: inline; }\r\n.articles_cat_announce {  }\r\n.articles_cat_announce p { margin: 0; padding: 0; }\r\n.articles_urgent_cat_name {  }\r\n.articles_urgent_cat_num_items {  }\r\n.articles_urgent_cat_announce {  }\r\n    \r\n.articles_item_row {  }\r\n.articles_item_date {  }\r\n.articles_item_header {  }\r\n.articles_rss { }\r\n.articles_item_pic { float: left; margin: 0 10px 10px 0; }\r\n.articles_item_source { margin: 5px 0px; }\r\n.articles_item_announce { }\r\n\r\n/* MODULES END ARTICLES STYLES */\r\n\r\n\r\n/* MODULES STICKERS */\r\n\r\n.stickers { }\r\n.stickers td { vertical-align: top; text-align: left; }\r\n.stickers .small_row { border: 0px; }\r\n.stickers .small_row_dashed { border: dashed #ccc 1px; }\r\n\r\n.stickers .small_header { line-height: 16px;  }\r\n.stickers .small_header a { text-decoration: none; border-bottom: dashed 1px;}\r\n\r\n.stickers .small_announce { padding: 3px; }\r\n\r\n.stickers .small_Hsplitter img { width: 20px; height: 1px; }\r\n.stickers .small_Vsplitter img { width: 1px; height: 20px; }\r\n\r\n/* MODULES END STICKERS */\r\n\r\n/* MODULES PHOTOALBUM */\r\n\r\n.photo_info .picture_wrapper {\r\n    text-align: center;\r\n}\r\n\r\n.photoalbum { width: 100%; }\r\n\r\n.photoalbum_path { margin-bottom: 10px; }\r\n\r\n.photoalbum .cat_body { margin: 0px 0px 10px 0px; }\r\n\r\n/* categories */\r\n\r\n.photoalbum .urgent_cat_list { margin-bottom: 30px; }\r\n.photoalbum .urgent_cat_list td { background: #eee; }\r\n.photoalbum .cat_list { width: 100%; }\r\n\r\n.photoalbum .urgent_cat_row { padding: 10px 15px; }\r\n.photoalbum .cat_row { width: 25%; padding: 10px 15px;}\r\n\r\n.photoalbum .cat_row a.name:link, .photoalbum .cat_row a.name:visited,\r\n.photoalbum .cat_row a.name:active, .photoalbum .cat_row a.name:hover,\r\n.photoalbum .urgent_cat_row a.name:link, .photoalbum .urgent_cat_row a.name:visited,\r\n.photoalbum .urgent_cat_row a.name:active, .photoalbum .urgent_cat_row a.name:hover {\r\n\tdisplay: block;\r\n\tfont-size: 1.4em;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.photoalbum .cat_row a.small_picture_wrapper, .photoalbum .urgent_cat_row a.small_picture_wrapper {\r\n\tborder: solid #fff 1px;\r\n\tdisplay: block;\r\n\tmargin: 0px 0px 10px 0px;\r\n}\r\n\r\n.photoalbum .cat_row .announce, .photoalbum .urgent_cat_row  .announce { padding: 0px 0px 10px 0px; }\r\n\r\n.photoalbum .cat_row .rating, .photoalbum .urgent_cat_row .rating {\r\n\tclear: both; margin: 0px 0px 10px 0px;\r\n}\r\n\r\n.photoalbum .cat_row .num_photos, .photoalbum .urgent_cat_row .num_photos {\r\n\tclear: both;\r\n\tfont-size: 0.9em;\r\n\tfont-style: italic;\r\n}\r\n\r\n/* items */\r\n\r\n.photoalbum .urgent_item_list { margin-bottom: 30px; }\r\n.photoalbum .item_list, .photoalbum .browse_item_list {  }\r\n\r\n.photoalbum .browse_item_list { margin: 30px auto 0px; }\r\n.photoalbum .browse_item_list .active { background: #eee; }\r\n\r\n.photoalbum .urgent_item_row { vertical-align: top; background: #eee; padding: 10px 15px; }\r\n.photoalbum .item_row { width: 25%; vertical-align: top;  padding: 10px 15px; }\r\n.photoalbum .browse_item_row { vertical-align: top; width: 30%; padding: 10px 15px; }\r\n\r\n.photoalbum .item_row a.header:link, .photoalbum .item_row a.header:visited,\r\n.photoalbum .item_row a.header:active, .photoalbum .item_row a.header:hover,\r\n.photoalbum .browse_item_row a.header:link, .photoalbum .browse_item_row a.header:visited,\r\n.photoalbum .browse_item_row a.header:active, .photoalbum .browse_item_row a.header:hover,\r\n.photoalbum .urgent_item_row a.header:link, .photoalbum .urgent_item_row a.header:visited,\r\n.photoalbum .urgent_item_row a.header:active, .photoalbum .urgent_item_row a.header:hover  {\r\n\tdisplay: block;\r\n\tfont-size: 1.2em;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.photoalbum .item_row a.small_picture_wrapper, .photoalbum .urgent_item_row a.small_picture_wrapper,\r\n.photoalbum .browse_item_row a.small_picture_wrapper {\r\n\tdisplay: block !important;\r\n\tmargin: 0px 0px 10px 0px  !important;;\r\n}\r\n\r\n.photoalbum .urgent_item_row .announce, .photoalbum .item_row .announce,\r\n.photoalbum .browse_item_row .announce { margin: 0px 0px 10px 0px; }\r\n\r\n.photoalbum .urgent_item_row .forum, .photoalbum .item_row .forum,\r\n.photoalbum .browse_item_row .forum {\tpadding: 10px 0px 0px 0px; }\r\n\r\n.photoalbum .item_hSplitter img { width: 10px; }\r\n.photoalbum .item_vSplitter img { height: 20px; }\r\n\r\n/* item details */\r\n\r\n.photoalbum .sibl_pages { text-align: right; }\r\n\r\n.photo_info {\r\n\tposition: relative;\r\n\tmargin: 0 auto;\r\n\tmargin-top: 25px;\r\n}\r\n\r\n.photoalbum .item_details .header { font-size: 1.4em; padding: 0px 0px 10px 0px; }\r\n\r\n.photoalbum .item_details a.enlarge {\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\tmargin: 5px 0px 0px 0px;\r\n}\r\n\r\n.photoalbum .body { margin: 20px 0px; }\r\n\r\n.photoalbum .item_details .forum { padding: 10px 0px 0px 0px; }\r\n.photoalbum .item_details .rating {  }\r\n\r\n\r\n/* small */\r\n\r\n.photoalbum_small_list {  }\r\n.photoalbum_small_list .small_row { }\r\n\r\n.photoalbum_small_list a.header:link, .photoalbum_small_list a.header:visited,\r\n.photoalbum_small_list a.header:active, .photoalbum_small_list a.header:hover {\r\n\tdisplay: block;\r\n\tfont-size: 1.4em;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.photoalbum_small_list a.small_picture_wrapper { display: block; }\r\n\r\n.photoalbum_small_list  .announce { margin: 10px 0px }\r\n.photoalbum_small_list  .rating {  }\r\n.photoalbum_small_list  .forum { margin: 10px 0px 0px 0px; }\r\n\r\n.photoalbum_small_list .small_Vsplitter img { height: 20px; }\r\n.photoalbum_small_list .small_Hsplitter img { width: 10px; }\r\n\r\n/* MODULES END PHOTOALBUM */\r\n\r\n/* END MODULES */\r\n\r\n\r\n/* 6. E-COMMERCE ****************************************************************************************************/\r\n\r\n.eshop_image { /*width: 64px;*/ float:left; margin-top:3px;margin-right:15px;}\r\n.eshop_image_click {border: 0; margin-bottom: -2px; margin-top: 3px;}\r\n\r\n.views_browse {border-top: 1px #e0e0e0 solid;border-right: 1px #e0e0e0 solid;}\r\n.views_browse TD {border-bottom: 1px #e0e0e0 solid;border-left: 1px #e0e0e0 solid;}\r\n\r\n.currency_block {font-size:0.8em; color:#000000; font-weight:bold;}\r\n\r\n.row1 {}\r\n.row2 {}\r\n\r\n.spec_eshop_cart { font: normal 11px arial, tahoma, verdana; color: #fff; }\r\n.spec_eshop_cart a:link, .spec_eshop_cart a:visited, .spec_eshop_cart a:active, .spec_eshop_cart a:hover {\r\n\tfont: normal 0.8em arial, tahoma, verdana;\r\n}\r\n\r\n/* E-COMMERCE TREE LINKS */\r\n\r\n.spec_eshop_tree_links { line-height: 1.5em;  }\r\n.spec_eshop_tree_links .item_popup_picture {}\r\n.spec_eshop_tree_links .item_small_picture {}\r\n.spec_eshop_tree_links .item_picture {}\r\n\r\n.spec_eshop_tree_links .level_0  {  }\r\n.spec_eshop_tree_links .level_0  a:link , .spec_eshop_tree_links .level_0  a:visited,\r\n.spec_eshop_tree_links .level_0  a:active, .spec_eshop_tree_links .level_0  a:hover  { \r\n\ttext-decoration: underline; \r\n\tfont-size: 1.2em; \r\n\ttext-transform: uppercase; \r\n}\r\n.spec_eshop_tree_links .level_0  a:hover { text-decoration: none; }\r\n.spec_eshop_tree_links .level_0 .item_normal {  }\r\n.spec_eshop_tree_links .level_0 .item_selected { }\r\n\r\n.spec_eshop_tree_links .level_1 {  }\r\n.spec_eshop_tree_links .level_1 .item_normal {  }\r\n.spec_eshop_tree_links .level_1 .item_selected {  }\r\n.spec_eshop_tree_links .level_1  a:link , .spec_eshop_tree_links .level_1 a:visited,\r\n.spec_eshop_tree_links .level_1  a:active, .spec_eshop_tree_links .level_1  a:hover  { \r\n\ttext-decoration: underline; \r\n\tfont-size: 1em; \r\n\ttext-transform: none; \r\n}\r\n.spec_eshop_tree_links .level_1  a:hover { text-decoration: none; }\r\n\r\n.spec_eshop_tree_links .level_2 { margin-left: 15px; }\r\n.spec_eshop_tree_links .level_2 .item_normal { }\r\n.spec_eshop_tree_links .level_2 .item_selected {  }\r\n.spec_eshop_tree_links .level_2  a:link , .spec_eshop_tree_links .level_2 a:visited,\r\n.spec_eshop_tree_links .level_2  a:active, .spec_eshop_tree_links .level_2  a:hover  { \r\n\ttext-decoration: underline; \r\n\tfont-size: .9em; \r\n\ttext-transform: none; \r\n}\r\n.spec_eshop_tree_links .level_2  a:hover { text-decoration: none; }\r\n\r\n\r\n.spec_eshop_tree_links .level_3 { margin-left: 15px; }\r\n.spec_eshop_tree_links .level_3 .item_normal { }\r\n.spec_eshop_tree_links .level_3 .item_selected {  }\r\n.spec_eshop_tree_links .level_3  a:link , .spec_eshop_tree_links .level_3 a:visited,\r\n.spec_eshop_tree_links .level_3  a:active, .spec_eshop_tree_links .level_3  a:hover  { \r\n\ttext-decoration: underline; \r\n\tfont-size: .9em; \r\n\ttext-transform: none; \r\n}\r\n.spec_eshop_tree_links .level_3  a:hover { text-decoration: none; }\r\n\r\n.spec_eshop_tree_links2 { width: 90%; margin: 0 auto;}\r\n.spec_eshop_tree_links2 .lev1 { }\r\n.spec_eshop_tree_links2 .lev2 { }\r\n.spec_eshop_tree_links2 .item_normal { }\r\n.spec_eshop_tree_links2.item_selected { }\r\n\r\n.spec_eshop_tree_links2 .lev1 a:link, \r\n.spec_eshop_tree_links2 .lev1 a:visited, \r\n.spec_eshop_tree_links2 .lev1 a:active, \r\n.spec_eshop_tree_links2 .lev1 a:hover { font: bold 1.1em arial, tahoma, verdana;\ttext-transform: uppercase; }\r\n\r\n.spec_eshop_tree_links2 .lev2 a:link, \r\n.spec_eshop_tree_links2 .lev2 a:visited, \r\n.spec_eshop_tree_links2 .lev2 a:active, \r\n.spec_eshop_tree_links2 .lev2 a:hover { font: normal 0.8em arial, tahoma, verdana; }\r\n\r\n.spec_eshop_tree_links2 .item_small_picture { float: left; margin-right: 20px; }\r\n\r\n/* E-COMMERCE END TREE LINKS */\r\n\r\n\r\n/* E-COMMERCE Categories list sets */\r\n\r\n.catD_row { vertical-align: top; width: 50%; }\r\n.catD_row .cat_small_picture { margin-right: 20px; }\r\n.catD_row .catD_name {}\r\n.catD_row .catD_subcategory_list { margin-top: 10px; }\r\n.catD_row .catD_count_items { padding: 0px 5px; }\r\n.catD_row a.catD_name:link, .catD_row a.catD_name:active, \r\n.catD_row a.catD_name:visited, .catD_row a.catD_name:hover { font-size: 1.4em; }\r\n.catD_row .cat_small_picture { margin-right: 15px; }\r\n\r\n.catD_Hsplitter img { width: 10px; }\r\n.catD_Vsplitter img { height: 25px; }\r\n\r\n/* E-COMMERCE End Categories list sets */\r\n\r\n\r\n/* E-COMMERCE ITEM LIST CLASSES */\r\n\r\n.eshop_list_item_row { }\r\n.eshop_list_item_row a.name:link, .eshop_list_item_row a.name:active,\r\n.eshop_list_item_row a.name:visited, .eshop_list_item_row a.name:hover { \r\n\tdisplay: block; \r\n\tmargin-bottom: 10px;\r\n\tfont-size: 1.4em; \r\n}\r\n.eshop_list_item_row .small_picture_wrapper {  }\r\n.eshop_list_item_row .announce {  }\r\n.eshop_list_item_row .custom_fiels { margin-top: 10px; }\r\n.eshop_list_item_row .digitals {  }\r\n.eshop_list_item_row .prices {  }\r\n.eshop_list_item_row .forum { }\r\n.eshop_list_item_row .rating { margin-top: 15px; }\r\n.eshop_list_item_row .addtocomparsion { margin-top: 10px; }\r\n.eshop_list_item_row .addtocomparsion a { font-size: 0.9em; }\r\n\r\n.eshop_list_item_row .search_path { margin-bottom: 10px; }\r\n\r\n.eshop_list_item_row .search_path a.name { display: inline !important; margin: 0px !important; }\r\n\r\n.eshop_list_item_row .index { font-weight: bold; font-size: 0.9em; }\r\n\r\n.eshop_cat_item_nSplitter {}\r\n\r\n.eshop_cat_item_Hsplitter, .eshop_cat_cat_item_Hsplitter {\r\n\twidth: 1px;\r\n\tbackground: #d9d9d9;\r\n\tborder-left: solid #fff 20px;\r\n\tborder-right: solid #fff 20px;\r\n}\r\n\r\n.eshop_cat_item_Vsplitter, .eshop_cat_cat_item_Vsplitter {\r\n\theight: 1px;\r\n\tbackground: #d9d9d9;\r\n\tborder-top: solid #fff 20px;\r\n\tborder-bottom: solid #fff 20px;\r\n}\r\n\r\n.eshop_cat_cat_item_Hsplitter {\r\n\tborder-left: solid #f9f9f9 20px;\r\n\tborder-right: solid #f9f9f9 20px;\r\n}\r\n\r\n.eshop_cat_cat_item_Vsplitter { \r\n\tborder-top: solid #f9f9f9 20px; \r\n\tborder-bottom: solid #f9f9f9 20px; \r\n}\r\n\r\n\r\n.eshop_cat_item_list {\r\n\t/*border: solid #d9d9d9 1px;*/\r\n\tbackground: #f9f9f9;\r\n\tpadding: 10px;\r\n\tmargin-top: 15px;\r\n}\r\n.eshop_cat_item_list .header {\r\n\tdisplay: block;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n/* E-COMMERCE END ITEM LIST CLASSES */\r\n\r\n\r\n/* E-COMMERCE PRICES */\r\n\r\n.item_base_price, .search_item_base_price { padding: 15px 0px; }\r\n.item_other_price { padding-bottom: 15px; }\r\n\r\n.item_base_price .price_caption, .item_other_price .price_caption { font-weight: bold; padding-right: 10px; }\r\n.item_base_price .price_original, .item_other_price .price_original {\r\nfont-size: 1.2em; color:#777; font-weight: bold; text-decoration: line-through;\r\nmargin-right: 10px; }\r\n.item_base_price .price_price, .item_other_price .price_price { font-size: 1.3em; color:#F7941C; font-weight: bold; }\r\n.item_base_price .price_difference, .item_other_price .price_difference {  }\r\n.item_base_price  .price_null, .item_other_price  .price_null { font-size: 1.3em; color:#F7941C; font-weight: bold; }\r\n\r\n.item_base_price .buy_form, .item_other_price .buy_form { margin-left: 10px; display: inline; }\r\n.item_base_price .txt, .item_other_price .txt { width: 30px; }\r\n.item_base_price .price_txt { margin-right: 10px; }\r\n\r\n/* E-COMMERCE END PRICES */\r\n\r\n\r\n/* E-COMMERCE ITEM DETAILS */\r\n\r\n.itemD_detail { width: 100%; }\r\n.itemD_detail .name { font-size: 22px; margin-bottom: 20px;}\r\n\r\n.itemD_detail .small_picture_wrapper {}\r\n.itemD_detail .itemD_small_picture { float: left; margin-right: 15px; }\r\n.itemD_detail .itemD_picture {  } \r\n.itemD_detail .itemD_popup_picture {  }\r\n\r\n.itemD_detail .custom_field_all { margin-bottom: 30px; }\r\n.itemD_detail .base_price {  }\r\n.itemD_detail .other_prices {  }\r\n.itemD_detail .add_to_comparison { margin-top: 40px; }\r\n.itemD_detail .eshop_digitals_info { clear: both; }\r\n.itemD_detail .description { background: #f5f5f5; padding: 5px 10px; margin-bottom: 10px; }\r\n.itemD_detail .property_data {  }\r\n.itemD_detail .forum { clear: both; overflow: hidden; margin-top: 25px; }\r\n.itemD_detail .rating { margin-top: 15px; }\r\n\r\n.itemD_detail .itemD_custom_field_multi_list {  }\r\n\r\n.itemD_detail .itemD_custom_field_multi_related_items_list {\r\n\tclear: both;\r\n\toverflow: hidden;\r\n\tmargin-top: 20px;\r\n}\r\n.itemD_detail .itemD_custom_field_multi_related_items, .itemD_detail .itemD_custom_field_multi_related_cats {\r\n\tmargin-right: 30px;\r\n\tfloat: left;\r\n\ttext-align: center;\r\n}\r\n\r\n/* E-COMMERCE END ITEM DETAILS */\r\n\r\n\r\n/* E-COMMERCE HOME */\r\n\r\n.eshop_list_small_special_row { }\r\n.eshop_list_small_special_row a.name:link, .eshop_list_small_special_row a.name:active,\r\n.eshop_list_small_special_row a.name:visited, .eshop_list_small_special_row a.name:hover { \r\n\tdisplay: block; \r\n\tmargin-bottom: 10px;\r\n\tfont-size: 1.1em; \r\n}\r\n.eshop_list_small_special_row .small_picture_wrapper { padding-right: 10px; }\r\n.eshop_list_small_special_row .announce {  }\r\n.eshop_list_small_special_row .spec_announce { margin-top: 10px; font-size: 0.85em; }\r\n.eshop_list_small_special_row .custom_fiels { margin-top: 10px; }\r\n.eshop_list_small_special_row .digitals { font-size: 0.85em; }\r\n.eshop_list_small_special_row .prices {  }\r\n.eshop_list_small_special_row .rating { font-size: 0.85em; margin-top: 15px; }\r\n.eshop_list_small_special_row .addtocomparsion { margin-top: 20px; }\r\n.eshop_list_small_special_row .addtocomparsion a { font-size: 0.85em; }\r\n\r\n\r\n.small_special_base_price, .small_special_base_price_variable, .small_special_base_price_null { padding-bottom: 10px; }\r\n.small_special_other_prices, .small_special_other_prices_null {}\r\n\r\n.small_special_base_price .price_caption, .small_special_other_prices .price_caption,\r\n.small_special_base_price_variable .price_caption, .small_special_base_price_null .price_caption,\r\n.small_special_other_prices_null .price_caption { font-weight: bold; padding-right: 10px;  }\r\n\r\n.small_special_base_price .price_original,\r\n.small_special_other_prices .price_original { font-size: 1.1em; color:#777;\r\nfont-weight: bold; text-decoration: line-through; margin-right: 10px; }\r\n\r\n\r\n.small_special_base_price .price_price,\r\n.small_special_other_prices .price_price { font-size: 1.1em; color:#F7941C; font-weight: bold; }\r\n\r\n.small_special_base_price .price_difference, .small_special_other_prices .price_difference {  }\r\n\r\n.small_special_base_price .buy_form, .small_special_other_prices .buy_form  { margin-left: 10px; display: inline; }\r\n\r\n.small_special_base_price .txt, .small_special_other_prices .txt { width: 30px; }\r\n\r\n.small_special_base_price_null .price_null, .small_special_other_prices_null .price_null {\r\n\tfont-size: 1.1em; color:#F7941C; font-weight: bold;\r\n}\r\n\r\n.small_special_base_price_variable .price_txt { margin-right: 10px; }\r\n\r\n/* E-COMMERCE END HOME */\r\n\r\n\r\n/* E-COMMERCE FILTER BOX */\r\n\r\n.filter_box { background-color: #F9F9F9;  border: solid #d9d9d9 1px; padding: 10px; margin-bottom: 20px; }\r\n.filter_box td { font-size:0.85em;}\r\n.filter_box .txt {width:50px}\r\n.search_box { }\r\n\r\n.filter_box_caption { margin-right: 5px; }\r\n.filter_box .sel, .filter_box .check, .filter_box .txt { vertical-align: middle; }\r\n\r\n.filter_box_row td { }\r\n.filter_box_prop_row td { padding-right: 15px; }\r\n\r\n.filter_box_hsplitter { width: 20px; }\r\n.filter_box_vsplitter { height: 10px; }\r\n\r\n/* E-COMMERCE END FILTER BOX */\r\n\r\n\r\n/* E-COMMERCE CAT PATH */\r\n\r\n.cat_path { margin-bottom: 25px; font-size: 1.3em; }\r\n.cat_path A { font-size: 1.1em; }\r\n\r\n/* E-COMMERCE END CAT PATH */\r\n\r\n\r\n/* E-COMMERCE References */\r\n\r\n.ref_small_item {}\r\n.ref_small_splitter { height: 5px; line-height: 5px; }\r\n\r\n/* E-COMMERCE End References  */\r\n\r\n\r\n/* E-COMMERCE SORT BOX */\r\n\r\n.items_sort { text-align: right; padding: 20px 0px; }\r\n\r\n/* E-COMMERCE END SORT BOX */\r\n\r\n\r\n/* E-COMMERCE COMPARE */\r\n\r\nTABLE.compare {border-left:1px #dddddd solid;border-top:1px #dddddd solid}\r\nTABLE.compare TD {border:0px;color:#848484}\r\nTABLE.compare TR {border-bottom:1px solid #dddddd;}\r\nTABLE.compare TD {border-bottom:1px solid #dddddd;border-right:1px solid #dddddd; padding:5px 8px 5px 8px}\r\na.comp_del,a.comp_del:visited {background:#ff6600;color:#ffffff;font-weight:bold;text-decoration:none;padding:0px 5px}\r\na.comp_del:hover{color:#ffffff;text-decoration:none;}\r\ntr .sel {background:#eeeeee} \r\n\r\n.compare_script_bottom { padding: 35px 0px 15px 0px; }\r\n\r\n/* E-COMMERCE END COMPARE */\r\n\r\n\r\n\r\n/* END E-COMMERCE */\r\n\r\n\r\n/* 7. SYSTEM ****************************************************************************************************/\r\n\r\ntable#sign{width:1000;}\r\ntable#sign td{text-align:right;padding:10px 0px 10px 0px;}\r\ntable#sign A, table#sign A:hover, table#sign A:visited {color:#666;text-decoration:underline; font-size:0.8em;font-weight:normal;}\r\n\r\n#stat {display:none;}\r\n#sp {display:none;}\r\n\r\n/*AlertWindow*/\r\n\r\n\r\n.AlertWindow, #status_message {\r\n    position:fixed;\r\n    top:200px;\r\n    left:200px;\r\n    padding:20px;\r\n    font-size:14px;\r\n    display:'inline-block';\r\n    visibility:hidden;\r\n    border:2px #fff solid;\r\n    -moz-border-radius: 10px;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    -moz-box-shadow: 0px 0px 10px 3px #ccc;\r\n    -webkit-box-shadow: 0px 0px 10px 3px #ccc;\r\n    box-shadow: 0px 0px 10px 3px #ccc;\r\n    z-index:10000;\r\n}\r\n\r\ndiv.AlertWindow {overflow: hidden; cursor: move;}\r\ndiv.AlertWindow  .popupClose{ position: absolute; display: block; right: 5px; top: 3px; width: 21px; height: 21px; background: url(\"_img/close_alert.gif\"); cursor: pointer; }\r\ndiv.AlertWindow .popupHeader{ display: block; width:100%; height: 0px; }\r\ndiv.AlertWindow .popupHeaderText {display: none}\r\ndiv.AlertWindow .popupContent {padding: 0px;}\r\n\r\n\r\n\r\n.status_error {background:#ffef8f; color: #F00000;} \r\n.status_normal {background:#b0efff;} \r\n.status_notice {background:#ffef8f;} \r\n\r\n.local_status_error  {color:#800000;}\r\n.local_status_notice  {color:#008000;}\r\n.local_status_normal {color:#008000;}\r\n\r\n\r\n/* SYSTEM Text editor styles */\r\n\r\ndiv.amiroTEdDiv{ }\r\ndiv.amiroTEdDivEditor{ display: block; }\r\ndiv.amiroTEdDivPreview{ border: 1px solid black; display: none; overflow: auto; }\r\nimg.amiroTEdCtrl{ border: 0px; cursor: pointer; }\r\nselect.amiroTEdCtrl, input.amiroTEdCtrlButton{\r\n    font: normal 0.8em Arial; text-decoration: none; color: #000000; margin-bottom: 4px; width: auto;\r\n}\r\nimg.amiroTEdSep{ border: 0px; }\r\nimg.amiroTEdSmile{ border: 0px; cursor: pointer; }\r\ntextarea.amiroTEdCtrl{}\r\ndiv.amiroTEdDivResize{\r\n    height: 4px;\r\n    margin-top: 1px;\r\n    background-color: #d4d0c8;\r\n    border-bottom: 1px solid #808080;\r\n    margin-bottom: 1px;\r\n    cursor: s-resize;\r\n}\r\nspan.amiroTEdMore{\r\n    cursor: pointer;\r\n    height: 25px;\r\n\tfont: bold 1.3em arial;\r\n    text-decoration: underline;\r\n    color: #000000;\r\n}\r\nBLOCKQUOTE.edQuote { border-left: 2px solid #999999; margin: 0px; padding: 10px; margin-left: 15px; background: #f9f9f9; }\r\n\r\nPRE.edCode{ margin:5px 0px 5px 16px; width: 500px; overflow: auto; border: 1px dotted gray; padding: 5px; }\r\n\r\n/* SYSTEM Text editor styles */\r\n\r\n/* END SYSTEM */\r\n\r\ntextarea.inp-h{\r\n    display: none;\r\n}\r\n\r\n/* Suggestions control */\r\n\r\ndiv.suggestionDiv{ position: absolute; padding-top: 2px; border: 1px solid #848484; background: #fff; overflow: hidden; display: none; z-index: 100; }\r\ndiv.suggestionRow, div.suggestionRowSelected{ padding: 1px 3px 0px 3px; cursor: default; white-space: nowrap; font-family: Arial; font-size: 11px; cursor: pointer; }\r\ndiv.suggestionRow a, div.suggestionRowSelected a{ padding-left: 6px; font-size: 11px !important; }\r\ndiv.suggestionRowSelected{ background: #5fabfe; color: #fff; }\r\ndiv.suggestionRowSelected a{ color: #fff !important; }\r\ndiv.suggestionRowExact{ font-weight: bold; }\r\ndiv.suggestionRowAllResults{ margin: 6px 0px 0px 0px; }\r\ndiv.suggestionResult, div.suggestionResultFirst{ margin: 8px 3px 3px 3px; padding-top: 6px; border-top: 1px solid #848484; text-align: left; font-weight: bold; font-size: 11px; }\r\ndiv.suggestionResultFirst{ margin-top: 0px; padding-top: 1px; border-top: 0px; }\r\ndiv.suggestionRow a.suggestionAllResults, div.suggestionRowSelected a.suggestionAllResults{ padding-left: 0px; font-weight: bold; font-size: 11px; }\r\n\r\ndiv.suggestionMinWidth{ line-height: 0px; height: 0px; }\r\n\r\n/* MediaBox control */\r\n\r\n.MediaBox_shadow{ position: fixed; display: none; top: 0px; left: 0px; width: 100%; height: 100%; background: #000; z-index: 100000;}\r\n* html .MediaBox_shadow{ position: absolute; }\r\n.MediaBox{ position: fixed;  display: none; background: #fff; z-index: 100001; }\r\n* html .MediaBox{ position: absolute; }\r\n.MediaBox_shadowL, .MediaBox_shadowR, .MediaBox_shadowT, .MediaBox_shadowB, .MediaBox_shadowLT, .MediaBox_shadowRT, .MediaBox_shadowLB, .MediaBox_shadowRB{ position: absolute; overflow: hidden; }\r\n.MediaBox_shadowL, .MediaBox_shadowR{ width: 15px; height: 100%; background: url(_img/ami_jsapi/shade-v.png) repeat-y; }\r\n.MediaBox_shadowL{ left: -15px; top: 0px; }\r\n.MediaBox_shadowR{ right: -15px; top: 0px; background-position: -15px 0px; }\r\n.MediaBox_shadowT, .MediaBox_shadowB{ width: 100%; height: 15px; background: url(_img/ami_jsapi/shade-h.png) repeat-x; }\r\n.MediaBox_shadowT{ left: 0px; top: -15px; }\r\n.MediaBox_shadowB{ left: 0px; bottom: -15px; background-position: 0px -15px; }\r\n.MediaBox_shadowLT, .MediaBox_shadowRT, .MediaBox_shadowLB, .MediaBox_shadowRB{ width: 15px; height: 15px; background: url(_img/ami_jsapi/shade-c.png) no-repeat; }\r\n.MediaBox_shadowLT{ left: -15px; top: -15px; }\r\n.MediaBox_shadowRT{ right: -15px; top: -15px; background-position: -15px 0px; }\r\n.MediaBox_shadowLB{ left: -15px; bottom: -15px; background-position: 0px -15px; }\r\n.MediaBox_shadowRB{ right: -15px; bottom: -15px; background-position: -15px -15px; }\r\n.MediaBox_speckLT{ position: absolute; width: 0px; height: 0px; }\r\n.MediaBox_speckRB{ position: absolute; width: 0px; height: 0px; }\r\n.MediaBox_close{ position: absolute; width: 39px; height: 39px; right: -20px; top: -20px; background: url(_img/ami_jsapi/close.png); cursor: pointer; }\r\n.MediaBox_loader{ position: absolute; width: 32px; height: 32px; left: 50%; top: 50%; margin: -16px 0px 0px -16px; background: url(_img/ami_jsapi/loader.gif); }\r\n.MediaBox_container{ margin: 10px 10px; }\r\n/* Black version */\r\n.MediaBoxBlack{ background: #000; }\r\n.MediaBoxBlack .MediaBox_shadowL, .MediaBoxBlack .MediaBox_shadowR{ background-image: url(_img/ami_jsapi/glass-frame-v.png); }\r\n.MediaBoxBlack .MediaBox_shadowT, .MediaBoxBlack .MediaBox_shadowB{ background-image: url(_img/ami_jsapi/glass-frame-h.png); }\r\n.MediaBoxBlack .MediaBox_shadowLT, .MediaBoxBlack .MediaBox_shadowRT, .MediaBoxBlack .MediaBox_shadowLB, .MediaBoxBlack .MediaBox_shadowRB{ background-image: url(_img/ami_jsapi/glass-frame-c.png); }\r\n.MediaBoxBlack .MediaBox_speckLT{ background-image: url(_img/ami_jsapi/glass-frame-c2lt.png); }\r\n.MediaBoxBlack .MediaBox_speckRB{ background-image: url(_img/ami_jsapi/glass-frame-c2rb.png); }\r\n.MediaBoxBlack .MediaBox_close{ right: -25px; top: -25px; background-image: url(_img/ami_jsapi/glass-frame-close.png); }\r\n.MediaBoxBlack .MediaBox_loader{ background-image: url(_img/ami_jsapi/loader-black.gif); }\r\n.MediaBoxBlack .MediaBox_container{ margin: 0px 0px; }\r\n\r\n/* Multiselectbox */\r\n\r\ndiv.mSelectFrame{ display: -moz-inline-stack; display: inline-block; zoom: 1; *display: inline; border: 1px solid #848484; overflow: auto; }\r\ndiv.mSelectOption, div.mSelectOptionSelected{ padding: 0px 2px; white-space: nowrap; cursor: default; }\r\ndiv.mSelectOptionSelected{ background: #5fabfe; color: #fff; }\r\n\r\nimg[data-ami-mbpopup] { cursor: url(_img/ami_jsapi/pointer_plus.png), pointer; }\r\n.MediaBox_loader{ position: absolute; width: 32px; height: 32px; left: 50%; top: 50%; margin: -16px 0px 0px -16px; background: url(_img/ami_jsapi/loader.gif); z-index: 100002; }\r\n.MediaBox_group{ margin: 10px; margin-bottom: 0px; font-style: italic; }\r\n.MediaBox_header{ margin: 10px; margin-bottom: 0px; text-align: center; font-weight: bold; }\r\n.MediaBox_url{ margin: 10px; margin-bottom: 0px; text-align: center; }\r\n.MediaBox_description{ padding: 10px; padding-bottom: 0px; }\r\n.MediaBox_imageArea{ position: relative; }\r\n.MediaBox_previous{ position: absolute; left: -28px; top: 50%; width: 32px; height: 63px; margin-top: -32px; background: url(_img/ami_jsapi/mb-prev.png); cursor: pointer; }\r\n.MediaBox_next{ position: absolute; right: -28px; top: 50%; width: 32px; height: 63px; margin-top: -32px; background: url(_img/ami_jsapi/mb-next.png); cursor: pointer; }\r\n.MediaBox_container{ position: relative; margin: 10px 10px 0px 10px; text-align: center; }\r\n.MediaBox_zoom{ margin: 10px; margin-bottom: 0px; text-align: right; font-style: italic; }\r\n.MediaBox_zoom a{ font-style: italic; }\r\n#MediaBox_sliderPrevious{ float: left; width: 10px; height: 20px; margin: 40px 0px 0px 10px; background: #00f; cursor: pointer; }\r\n#MediaBox_sliderNext{ float: right; width: 10px; height: 20px; margin: 40px 10px 0px 0px; background: #00f; cursor: pointer; }\r\n.MediaBox .disabled{ background: #ccf !important; cursor: default !important; }\r\n.MediaBox_slider{ position: relative; overflow: hidden; height: 80px; margin: 10px 30px 0px 30px; white-space: nowrap; }\r\n.MediaBox_sliderImage{ max-height: 80px; height: expression(this.scrollHeight > 80 ? \"80px\" : \"auto\"); cursor: pointer; }\r\n.MediaBox_sliderDelimeter{ display: -moz-inline-stack; display: inline-block; zoom: 1; *display: inline; width: 10px; }\r\n.MediaBox_counter{ margin: 10px; margin-bottom: 0px; text-align: right; font-style: italic; }\r\n\r\n/* ToolTip */\r\n\r\ndiv.AMIToolTip{ position: absolute; padding: 2px; border: 1px solid #000; background: #fff798; }\r\n\r\n/* Imagetape gadget */\r\n\r\n.image_item_nopopup {border: 1px solid #ffffff; float:left; margin:2px; padding: 3px; cursor:pointer;}\r\n.image_item_nopopup_selected {border: 1px solid #cccccc; float:left; margin:2px; padding: 3px; cursor:pointer;}\r\n.imagetape_fullinfo {cursor: pointer; margin-right: 10px;padding: 3px 6px;border: 1px solid #ccc;position: relative;}\r\n.imagetape_fullinfo_select {cursor: pointer; margin-right: 10px;padding: 3px 6px;border: 1px solid #000;position: relative;background: #555;color: #fff;}\r\n.header_fullinfo {font-size: 14px;font-weight: bold;padding-bottom: 10px;}\r\n.description_fullinfo {padding-right: 10px;padding-bottom: 10px;}\r\n.left_imagetape_fullinfo {float: left;}\r\n.right_imagetape_fullinfo {float: right;}\r\n.bottom_imagetape_fullinfo {width: 100%; float: right; text-align: right;}\r\n.block_imagetape_fullinfo {background: #FFFFFF; float: left; padding-bottom: 20px; width: 100%;}\r\n.imagetapeControl {cursor: pointer;}\r\n.imagetapeControl.left {background:url('_img/imagetape-prev.png') 50% 50% no-repeat transparent;float:left;width: 30px;}\r\n.imagetapeControl.right {background:url('_img/imagetape-next.png') 50% 50% no-repeat transparent;float:left;width: 30px;}\r\n.imagetapeControl.up {background:url('_img/imagetape-up.png') 50% 50% no-repeat transparent;clear:both;height: 30px;}\r\n.imagetapeControl.down {background:url('_img/imagetape-down.png') 50% 50% no-repeat transparent;clear:both;height: 30px;}\r\n.imagetapeControl.disabled {cursor: default !important;filter: alpha(opacity=50);opacity: 0.5;-moz-opacity: 50%;}\r\n/* User menu */\r\n\r\n#lay_body .user_menu ul {margin: 0px;}\r\n\r\n/* .user_menu_index {float: left; } */\r\n.user_menu_index {display: inline:}\r\n.user_profile {font-weight: bold; cursor: pointer;}\r\n.user_menu li {color: #ccc; cursor: default;}\r\n.user_menu_img {cursor: pointer; padding-left: 5px;}\r\nul.user_menu  {list-style-type: none; border: 1px solid #000000; padding: 0px; margin: 15px 0px 0px 0px; border: 1px solid #ccc; visibility: hidden; position: absolute; background: #fff;}\r\nul.user_menu li {padding: 0px; margin: 10px;}\r\n.member_user_menu {position: relative;}\r\n.user_profile_on {font-weight: bold; cursor: pointer; color: #000;}\r\n.user_menu {z-index: 1000; padding-top: 10px; box-shadow: 0px 1px 5px #ccc; border: 1px solid #000000; top:-21px; left: -11px; border: 1px solid #ccc; visibility: hidden; position: absolute; background: #fff; //padding-top: 20px;}\r\n.user_menu_discussion {top: -24px; //top: -21px;}\r\n.user_menu ul {list-style-type: none; margin: 0px; padding: 0px;}\r\n.user_menu ul li {padding: 0px; margin: 10px;}\r\n.top_user_block {padding:3px; background-color:#f5f5f5; float: left;}\r\n\r\n/* My messages */\r\n\r\n/*\r\n#my_messages {display: inline-block; text-align: center; background: url(_img/messages.png) no-repeat; padding-top: 5px; width: 35px; height: 20px; position: relative; //height: 25px;}\r\n#my_messages a {color: #000; background: #fff; opacity: 0.75; border-radius: 4px; text-decoration: none; font-size: 10px; font-family: Tahoma, Arial; font-weight: bold;}\r\n#member_info {float: left; margin-right: 10px; margin-top: 5px}\r\n*/\r\n\r\n#my_messages {top: -2px; //top: 0px; position: relative; background: url(_img/messages_front.png) no-repeat; width: 29px; height: 18px; text-align: center; display: inline-block;}\r\n#my_messages a {text-decoration: none; font-size: 10px; color: #000; position: relative; top: -1px;}\r\n\r\n/* Ami Popup */\r\n\r\ndiv.popupWindowShadow{\r\n    position: fixed;\r\n    left: 0px;\r\n    top: 0px;\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0px;\r\n    background: #fff;\r\n    background: #000000;\r\n    -moz-opacity: 0.3;\r\n    filter:alpha(opacity=30);\r\n    opacity: 0.3;\r\n    z-index:10;\r\n}\r\n\r\ndiv.amiPopup {\r\n    display: none;\r\n    position: fixed;\r\n    background: white;\r\n    overflow: hidden;\r\n    border: 1px solid #888888;\r\n    box-shadow: 0px 0px 15px 3px #000;\r\n}\r\n\r\ndiv.amiPopup .popupClose{\r\n    position: absolute;\r\n    display: block;\r\n    right: 5px;\r\n    top: 1px;\r\n    width: 26px;\r\n    height: 26px;\r\n    background: url(\"_img/amiPopup_close_btn.gif\");\r\n    cursor: pointer;\r\n}\r\n\r\ndiv.amiPopup .popupHeader{\r\n    cursor:move;\r\n    padding-top: 4px;\r\n    position: relative;\r\n    display: block;\r\n    top: 0px;\r\n    left: 0px;\r\n    width:100%;\r\n    height: 25px;\r\n    color: black;\r\n    background-color: #EEE;\r\n    border-top: 1px #fff solid;\r\n}\r\n\r\ndiv.amiPopup .popupHeaderText{\r\n    margin: 3px 0px 0px 14px;\r\n    font-weight: bold;\r\n}\r\n\r\n.popupContent {\r\n    padding: 5px 10px 10px 14px;\r\n}\r\n\r\n/* Eshop_item_row */\r\n\r\n.compare_script_bottom a {display: inline-block;padding-right: 20px;padding-top: 20px;}\r\n.items_sort a {cursor: pointer;}\r\n.items_sort a:hover {color: #8B8B8B;}\r\n\r\n.grid_on {color: #000;}\r\n.grid_off {color: #8B8B8B;}\r\n\r\n#grid {display: table; width: 100%;}\r\n#grid .div_table {display: table; width: 100%;}\r\n#grid .div_tr {display: table-row}\r\n#grid .div_td {display: table-cell; vertical-align: top;}\r\n\r\n#grid .custom_fiels, #grid .announce {display: none}\r\n#grid .eshop_cat_item_Vsplitter, #grid  .eshop_cat_cat_item_Vsplitter {background: none}\r\n#grid .eshop_list_item_row {width: 50%;}\r\n\r\n.list_on, .sort_on {color: #000;}\r\n.list_off, .sort_off {color: #8B8B8B;}\r\n\r\n#list .item_small_picture {width: 80px; border: 1px solid #CCCCCC;}\r\n#list .name {font-size: 14px;margin-left: 100px;position: absolute;}\r\n#list .custom_fiels {margin-left: 100px; width: 245px;}\r\n#list .prices {margin-left: 100px;}\r\n#list .eshop_cat_item_Hsplitter {background: none; height: 40px;}\r\n#list .eshop_cat_item_Vsplitter {background: none; border-bottom: 0px; height: 20px;}\r\n#list .addtocomparsion {margin-left: 95px;}\r\n#list .announce {display: block; margin-left: 100px; margin-top: -70px;}\r\n#list .rating {margin-top: 20px; margin-left: 100px;}\r\n#list .small_picture_wrapper {width: 80px; height: 80px;}\r\n#list .forum  {margin-left: 100px;}\r\n\r\n.eshop_agreement {text-align: center}\r\n.eshop_agreement_button {display: inline-block;}\r\n\r\n.filter_box input.btn {margin-top: 15px;}\r\n.forum {margin: 10px 0px}\r\n.currency_list {font-size:9px; color:#000000; font-weight:bold;}\r\n#flt_search_subcat, .check { zoom:0.8}\r\n#left_btn {margin-top: 10px}\r\n#propery_table {margin: 10px 0px;}\r\n\r\n.spec_eshop_tree_links_img { width: 90%; margin: 0 auto;}\r\n.spec_eshop_tree_links_img .lev1 { }\r\n.spec_eshop_tree_links_img .lev2 { }\r\n.spec_eshop_tree_links_img .item_normal { }\r\n.spec_eshop_tree_links_img .item_selected { }\r\n.spec_eshop_tree_links_img .lev1 a:link,\r\n.spec_eshop_tree_links_img .lev1 a:visited,\r\n.spec_eshop_tree_links_img .lev1 a:active,\r\n.spec_eshop_tree_links_img .lev1 a:hover { font: bold 14px arial, tahoma, verdana;    text-transform: uppercase; }\r\n.spec_eshop_tree_links_img .lev2 a:link,\r\n.spec_eshop_tree_links_img .lev2 a:visited,\r\n.spec_eshop_tree_links_img .lev2 a:active,\r\n.spec_eshop_tree_links_img .lev2 a:hover { font: normal 10px arial, tahoma, verdana; }\r\n.spec_eshop_tree_links_img .item_small_picture { float: left; margin-right: 20px; }\r\n\r\n/* Spec eshop cart popup */\r\n\r\n#spec_eshop_cart_popup_link{\r\n    display:none;\r\n}\r\n\r\n#cartPopupWindow #spec_eshop_cart_popup_link{\r\n    display:block;\r\n}\r\n\r\n/* 6.0 styles (Status Block) */\r\n\r\n.status-block {\r\n    display:block;\r\n    background: #F0F0F0;\r\n    border-radius:10px;\r\n    -moz-border-radius: 10px 10px 10px 10px;\r\n    -webkit-border-radius: 10px;\r\n    margin:5px 0px 5px 2px;\r\n    font-weight: normal;\r\n    position:relative;\r\n}\r\n\r\n.status-icon{\r\n    position:absolute;\r\n    top:0px;\r\n    left:3px;\r\n    width:32px;\r\n    height:32px;\r\n}\r\n\r\n.status-msgs{padding:15px;}\r\n.block-container { padding:10px 10px 10px 30px;}\r\n.status-red{color: #bc4702;}\r\n.status-black{color: #333;}\r\n.status-none{color: #004080;}\r\n\r\n.member_forum_watch_menu {display: inline-block; position: relative;}\r\n\r\n/* User Rating extension */\r\n\r\n.amiUserRatingControls {\r\n    float: right;\r\n    padding-left: 10px;\r\n    padding-top: 1px;\r\n}\r\n.amiUserRatingControls .amiUserRatingDec, .amiUserRatingControls .amiUserRatingInc {\r\n    width: 16px;\r\n    height: 16px;\r\n    float: left;\r\n    cursor: pointer;\r\n}\r\n\r\n.amiUserRatingControls .amiItemRatingValue .user_rating_minus {color: red;}\r\n.amiUserRatingControls .amiItemRatingValue .user_rating_null {color: #ccc;}\r\n\r\n.amiUserRatingControls .amiUserRatingDec {background: url(_img/rating/hands.png) no-repeat -18px 1px; opacity: 0.25}\r\n.amiUserRatingControls .amiUserRatingDec:hover {opacity: 1}\r\n\r\n.amiUserRatingControls .amiUserRatingInc {background: url(_img/rating/hands.png) no-repeat 0 0; opacity: 0.25}\r\n.amiUserRatingControls .amiUserRatingInc:hover {opacity: 1}\r\n\r\n.amiUserRatingControls .amiItemRatingValue {\r\n    color: green;\r\n    float: left;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    padding-top: 2px;\r\n    text-align: center;\r\n    width: 25px;\r\n}\r\n\r\n.amiUserRatingControls .user_rating_count {color: #ccc; padding: 0 3px;}\r\n\r\n.amiUserRatingMemberBg{\r\n    margin-top: 8px;\r\n    width: 102px;\r\n    height: 16px;\r\n}\r\n.amiUserRatingMemberBg .amiUserRatingMemberBgLeft, .amiUserRatingMemberBg .amiUserRatingMemberBgRight {\r\n    /*background: url(_img/rating/stars/user_stars.gif) no-repeat;\r\n    height: 13px;\r\n    width: 75px;*/\r\n\twidth: 59px;\r\n\tbackground: url(_img/rating/stars/users_stars_gray.png) no-repeat;\r\n\theight: 10px;\r\n    float: left;\r\n}\r\n\r\n.amiUserRatingMemberBg .amiUserRatingMemberBgRight .amiUserRatingMemberPositive {\r\n\t/*background: url(_img/rating/stars/starsgreen5.gif) no-repeat;\r\n\theight: 13px;*/\r\n\tbackground: url(_img/rating/stars/users_stars_green.png) no-repeat;\r\n\theight: 10px;\r\n    float: left;\r\n}\r\n\r\n.amiUserRatingControls .thanks_user, .amiUserRatingControls .thanks_user:hover {\r\nmargin-top: -3px;\r\nborder: 1px solid #CCCCCC;\r\nborder-radius: 5px 5px 5px 5px;\r\npadding: 2px 15px;\r\nwidth: auto;\r\ncolor: #000000;\r\nbackground: #efeaea; /* Old browsers */\r\nbackground: -moz-linear-gradient(top,  #efeaea 0%, #eaeaea 50%, #cecece 100%); /* FF3.6+ */\r\nbackground: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#efeaea), color-stop(50%,#eaeaea), color-stop(100%,#cecece)); /* Chrome,Safari4+ */\r\nbackground: -webkit-linear-gradient(top,  #efeaea 0%,#eaeaea 50%,#cecece 100%); /* Chrome10+,Safari5.1+ */\r\nbackground: -o-linear-gradient(top,  #efeaea 0%,#eaeaea 50%,#cecece 100%); /* Opera 11.10+ */\r\nbackground: -ms-linear-gradient(top,  #efeaea 0%,#eaeaea 50%,#cecece 100%); /* IE10+ */\r\nbackground: linear-gradient(top,  #efeaea 0%,#eaeaea 50%,#cecece 100%); /* W3C */\r\nfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#efeaea', endColorstr='#cecece',GradientType=0 ); /* IE6-9 */\r\nopacity: 0.7;\r\n}\r\n\r\n.amiUserRatingControls .thanks_user:hover {opacity: 1;}\r\n\r\n.amiUserRatingMemberBg .amiUserRatingMemberBgLeft {\r\n    border-right: 1px solid black;\r\n\tdisplay: none;\r\n}\r\n.amiUserRatingMemberBg .amiUserRatingMemberBgRight {\r\n    border-left: 1px solid white;\r\n}\r\n.amiUserRatingMemberBg .amiUserRatingMemberBgLeft .amiUserRatingMemberNegative{\r\n    background-color: red;\r\n    float: right;\r\n    height: 16px;\r\n}\r\n\r\n.amiUserRatingMemberBg .amiUserRatingMemberTitle{\r\n    font-size: 10px;\r\n}\r\n\r\n.amiUserRatingControls div {\r\n    line-height: 1.2 !important;\r\n    font-size: 12px !important;\r\n}\r\n/*\r\n * FILE END: _mod_files/_css/common.css\r\n */\r\n\r\n/*\r\n * FILE START: _mod_files/_css/home.css\r\n */\r\n\r\nbody {\r\n\tmargin:0;\r\n\tpadding:0;\r\n\tfont-size:11pt;\r\n\tfont-family:calibri, tahoma, arial;\r\n\tcolor:#387086;\r\n\tbackground: #e1eef2;\r\n}\r\n@media all and (-webkit-min-device-pixel-ratio:10000),\r\nnot all and (-webkit-min-device-pixel-ratio:0) {\r\n\tbody{overflow-x:hidden;}\r\n}\r\nfieldset{\r\n\tborder: 1px solid #eee;\r\n}\r\nimg{\r\n\tborder:none;\r\n}\r\na{\r\n\tcolor:#387086;\r\n}\r\n.clr{\r\n\tclear:both;\r\n}\r\nh2{\r\n\tmargin:10px 0;\r\n\tfont-weight:normal;\r\n}\r\nh3{\r\n\tfont-weight:normal;\r\n}\r\n#wrapper{\r\n\tmin-width:1000px;\r\n\toverflow:hidden;\r\n\tbackground: #e1eef2;\r\n\tbackground:url('_mod_files/ce_images/main/bg_02.jpg') repeat-y 50% 0 #e1eef2;\r\n}\r\n\t#main{\r\n\t\twidth:1000px;\r\n\t\tmargin:0 auto;\r\n\t\t\r\n\t}\r\n\t\t#lay_f1{\r\n\t\t\twidth:1000px;\r\n\t\t\tbackground:url('_mod_files/ce_images/main/bg_01.jpg') no-repeat 50% 0 #e1eef2;\r\n\t\t\theight:1202px;\r\n\t\t\tmargin:0 -200px;\r\n\t\t\tpadding:0 200px;\r\n\t\t}\r\n\t\t\t#elka{\r\n\t\t\t\tbackground:url('_mod_files/ce_images/main/elka.png') no-repeat 0 0 transparent;\r\n\t\t\t\twidth:507px;\r\n\t\t\t\theight:409px;\r\n\t\t\t\tmargin:0 0 0 -330px;\r\n\t\t\t\tposition:absolute;\r\n\t\t\t}\r\n\t\t\t#audioplay{\r\n\t\t\t\tfloat: right;\r\n\t\t\t\tmargin: 10px 10px 0px 0px;\r\n\t\t\t}\r\n\t\t\t#logo{\r\n\t\t\t\tfloat:left;\r\n\t\t\t\tmargin:50px 35px 0 0;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tz-index:10;\r\n\t\t\t\twidth:229px;\r\n\t\t\t\theight:151px;\r\n\t\t\t}\r\n\t\t\t\t#logoimg {\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t}\r\n\t\t\t#contacts{\r\n\t\t\t\t/*background:url('_mod_files/ce_images/main/contacts.png') no-repeat 0 0 transparent;*/\r\n\t\t\t\tbackground:none;\r\n\t\t\t\twidth:496px;\r\n\t\t\t\theight:179px;\r\n\t\t\t\tfloat:right;\r\n\t\t\t\tmargin:100px 225px 0 0;\r\n\t\t\t}\r\n\t\t\t.buble_text{\r\n\t\t\t\tbackground:url('_mod_files/ce_images/main/buble_text.png') no-repeat 0 0 transparent;\r\n\t\t\t\twidth:131px;\r\n\t\t\t\theight:39px;\r\n\t\t\t}\r\n\t\t\t.buble_area{\r\n\t\t\t\twidth:142px;\r\n\t\t\t\theight:60px;\r\n\t\t\t\tbackground:url('_mod_files/ce_images/main/buble_area.png') no-repeat 0 0 transparent;\r\n\t\t\t}\r\n\t\t\t.buble_small{\r\n\t\t\t\tbackground:url('_mod_files/ce_images/main/buble_small.png') no-repeat 0 0 transparent;\r\n\t\t\t\twidth:105px;\r\n\t\t\t\theight:58px;\r\n\t\t\t}\r\n\t\t\t.buble_text,\r\n\t\t\t.buble_area,\r\n\t\t\t.buble_small{\r\n\t\t\t\tposition:absolute;\r\n\t\t\t\ttext-align:center;\r\n\t\t\t\tpadding-top:3px;\r\n\t\t\t}\r\n\t\t\t.buble_text a,\r\n\t\t\t.buble_area a,\r\n\t\t\t.buble_small a{\r\n\t\t\t\tcolor:#002641;\r\n\t\t\t\ttext-decoration:none;\r\n\t\t\t}\r\n\t\t\t\t.buble_text a:hover,\r\n\t\t\t\t.buble_area a:hover,\r\n\t\t\t\t.buble_small a:hover{\r\n\t\t\t\t\ttext-decoration:underline;\r\n\t\t\t\t}\r\n\t\t\t/* menu */\r\n\t\t\tul.menu{\r\n\t\t\t\tmargin:0;\r\n\t\t\t\tpadding:0;\r\n\t\t\t\tlist-style-type:none;\r\n\t\t\t}\r\n\t\t\t\tul.menu li{\r\n\t\t\t\t\tposition:absolute;\r\n\t\t\t\t\tbackground:url('_mod_files/ce_images/main/buble_text.png') no-repeat 0 0 transparent;\r\n\t\t\t\t\twidth:131px;\r\n\t\t\t\t\theight:39px;\r\n\t\t\t\t\tdisplay:block;\r\n\t\t\t\t\ttext-align:center;\r\n\t\t\t\t\tpadding-top:3px;\r\n\t\t\t\t\tlist-style-type:none;\r\n\t\t\t\t}\r\n\t\t\t\t\tul.menu li a{\r\n\t\t\t\t\t\tcolor:#002641;\r\n\t\t\t\t\t\ttext-decoration:none;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tul.menu li a:hover span{\r\n\t\t\t\t\t\ttext-decoration:underline;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tul.menu li a:hover span.featured_label {\r\n\t\t\t\t\t\ttext-decoration:none;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/* positions */\r\n\t\t\t\t\tli.item2{\r\n\t\t\t\t\t\tmargin: 425px 0px 0px 780px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tli.item3{\r\n\t\t\t\t\t\tmargin: 495px 0 0 160px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tli.item4{\r\n\t\t\t\t\t\tmargin: 250px 0px 0px 880px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tli.item5{\r\n\t\t\t\t\t\tmargin:635px 0px 0px 660px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tli.item6{\r\n\t\t\t\t\t\tmargin:370px 0 0 440px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tli.item7{\r\n\t\t\t\t\t\tmargin:554px 0 0 0;\r\n\t\t\t\t\t}\r\n\t\t\t/* buttons */\r\n\t\t\t#btn_panorama{\r\n\t\t\t\tmargin:110px 0 0 870px;\r\n\t\t\t}\r\n\t\t\t#btn_cafes{\r\n\t\t\t\tmargin:260px 0 0 870px;\r\n\t\t\t\tdisplay:none;\r\n\t\t\t}\r\n\t\t\t#btn_about{\r\n\t\t\t\tmargin:410px 0 0 820px;\r\n\t\t\t\tdisplay:none;\r\n\t\t\t}\r\n\t\t\t#btn_health{\r\n\t\t\t\tmargin:590px 0 0 640px;\r\n\t\t\t\tdisplay:none;\r\n\t\t\t}\r\n\t\t\t#btn_try{\r\n\t\t\t\tmargin:705px 0 0 362px;\r\n\t\t\t}\r\n\t\t\t#btn_services{\r\n\t\t\t\tmargin:370px 0 0 440px;\r\n\t\t\t\tdisplay:none;\r\n\t\t\t}\r\n\t\t\t#btn_hotel{\r\n\t\t\t\tmargin:510px 0 0 147px;\r\n\t\t\t\tdisplay:none;\r\n\t\t\t}\r\n\t\t\t#btn_info{\r\n\t\t\t\tmargin:554px 0 0 0;\r\n\t\t\t\tdisplay:none;\r\n\t\t\t}\r\n\t\t\t/* end */\r\n\t\t\t#qa{\r\n\t\t\t\twidth:176px;\r\n\t\t\t\theight:71px;\r\n\t\t\t\tbackground:url('_mod_files/ce_images/main/qa.png') no-repeat 0 0 transparent;\r\n\t\t\t\tfloat:right;\r\n\t\t\t\tmargin:530px 130px 0 0;\r\n\t\t\t\tpadding:3px 0 0 8px; \r\n\t\t\t}\r\n\t\t\t\t#qa a{\r\n\t\t\t\t\tcolor:#00364a;\r\n\t\t\t\t}\r\n\t\t\t#map{\r\n\t\t\t\tbackground:url('_mod_files/ce_images/main/mountain.png') no-repeat 0 0 transparent;\r\n\t\t\t\twidth:623px;\r\n\t\t\t\theight:399px;\r\n\t\t\t\tmargin: -60px -130px 0px -100px;\r\n\t\t\t\tfloat:right;\r\n\t\t\t}\r\n\t\t\t\t#legend{\r\n\t\t\t\t\tmargin:330px 0 0 230px;\r\n\t\t\t\t\twidth:380px;\r\n\t\t\t\t}\r\n\t\t\t\t.mark{\r\n\t\t\t\t\tfloat:left;\r\n\t\t\t\t\tmargin:10px 20px 0 0;\r\n\t\t\t\t\twidth:130px;\r\n\t\t\t\t\theight:40px;\r\n\t\t\t\t}\r\n\t\t\t\t\t.mark div{\r\n\t\t\t\t\t\theight:17px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.mark a{\r\n\t\t\t\t\t\ttext-decoration:none;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.mark a:hover{\r\n\t\t\t\t\t\ttext-decoration:underline;\r\n\t\t\t\t\t}\r\n\t\t\t#introtext{\r\n\t\t\t\tfloat:left;\r\n\t\t\t\twidth:546px;\r\n\t\t\t\theight:394px;\r\n\t\t\t\tbackground:url('_mod_files/ce_images/main/introtext.png') no-repeat 0 0 transparent;\r\n\t\t\t\tpadding:40px 25px 0;\r\n\t\t\t\toverflow:hidden;\r\n\t\t\t\tmargin-top:-55px;\r\n\t\t\t}\r\n\t\t\t\t#introtext p{\r\n\t\t\t\t\tmargin:3px 0;\r\n\t\t\t\t}\r\n\t\t#lay_body{\r\n\t\t\twidth:1000px;\r\n\t\t\tbackground:url('_mod_files/ce_images/main/bg_03.jpg') no-repeat 50% 0 transparent;\r\n\t\t\tmargin:0 -200px;\r\n\t\t\tpadding:1px 200px 0;\r\n\t\t\tmin-height:350px;\r\n\t\t}\r\n\t\t\t#news{\r\n\t\t\t\tfont-size:10pt;\r\n\t\t\t\tfloat: left;\r\n\t\t\t\tmargin-right: -13px;\r\n\t\t\t\twidth:750px;\r\n\t\t\t}\r\n\t\t\t\t.news{\r\n\t\t\t\t\tbackground:url('_mod_files/ce_images/main/news_bg_1.png') no-repeat 0 0 transparent;\r\n\t\t\t\t\twidth:237px;\r\n\t\t\t\t\theight:152px;\r\n\t\t\t\t\tfloat:left;\r\n\t\t\t\t\tmargin: 0px 13px 0px 0px;\r\n\t\t\t\t}\r\n\t\t\t\t\t.news_date{\r\n\t\t\t\t\t\t/*background:url('_mod_files/ce_images/main/date_bg.png') no-repeat 0 0 transparent;\r\n\t\t\t\t\t\twidth:105px;*/\r\n\t\t\t\t\t\theight:19px;\r\n\t\t\t\t\t\tcolor:#fff;\r\n\t\t\t\t\t\t/*padding: 3px 0px 0px 10px;\r\n\t\t\t\t\t\tmargin: 9px 0px 5px 9px;*/\r\n\t\t\t\t\t\tmargin: 5px;\r\n\t\t\t\t\t\twidth: 200px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.date_bottom{\r\n\t\t\t\t\t\tfloat:left;\r\n\t\t\t\t\t\tmargin-left: 9px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.news_text{\r\n\t\t\t\t\t\tpadding: 0px 9px 5px;\r\n\t\t\t\t\t\theight: 80px;\r\n\t\t\t\t\t\toverflow:hidden;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ta.readmore{\r\n\t\t\t\t\t\tfloat:right;\r\n\t\t\t\t\t\tbackground:url('_mod_files/ce_images/main/readmore.png') no-repeat 100% 50% transparent;\r\n\t\t\t\t\t\tpadding-right:15px;\r\n\t\t\t\t\t\tmargin-right:9px;\r\n\t\t\t\t\t}\r\n\t\t\t\t#weather{\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\ttop:-69px;\r\n\t\t\t\t\tfloat: right;\r\n\t\t\t\t}\r\n\t\t\t\t\t#weather p{\r\n\t\t\t\t\t\tmargin:0;\r\n\t\t\t\t\t}\r\n\t\t\t#icon_menu{\r\n\t\t\t\tmargin-top:40px;\r\n\t\t\t}\r\n\t\t\t\t.menu_item{\r\n\t\t\t\t\tfloat:left;\r\n\t\t\t\t\twidth:200px;\r\n\t\t\t\t\theight:200px;\r\n\t\t\t\t\ttext-align:center;\r\n\t\t\t\t\tmargin:0 25px 0;\r\n\t\t\t\t}\r\n\t\t\t\t\t.menu_item img{\r\n\t\t\t\t\t\tmargin-top:-40px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.menu_item a{\r\n\t\t\t\t\t\tcolor:#003d5c;\r\n\t\t\t\t\t\ttext-decoration:none;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t.menu_item a:hover{\r\n\t\t\t\t\t\t\ttext-decoration:underline;\r\n\t\t\t\t\t\t}\r\n\t\t\t#component{\r\n\t\t\t\tpadding:0 10px;\r\n\t\t\t}\r\n\t\t#lay_f2{\r\n\t\t\twidth:980px;\r\n\t\t\theight:82px;\r\n\t\t\tbackground:url('_mod_files/ce_images/main/bg_04.jpg') no-repeat 50% 0 transparent;\r\n\t\t\tmargin:-100px -200px 0;\r\n\t\t\tpadding:200px 210px 0;\r\n\t\t}\r\n\t\t\t#brand{\r\n\t\t\t\tfloat:left;\r\n\t\t\t\twidth:400px;\r\n\t\t\t}\r\n\t\t\t\t#brand img{\r\n\t\t\t\t\tfloat:left;\r\n\t\t\t\t\tmargin-right:20px;\r\n\t\t\t\t}\r\n\t\t\t\t#brand div{\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t#copy{\r\n\t\t\t\t\tfloat:right;\r\n\t\t\t\t}\r\n\r\n/*flash*/\r\n#clouds_logo{\r\n\tposition:absolute;\r\n\tmargin:10px 0 0 -18px;\r\n}\r\n#fog1{\r\n\tposition:absolute;\r\n\tmargin:63px 0 0 1010px;\r\n}\r\n#fog2{\r\n\tposition:absolute;\r\n\tmargin:363px 0 0 934px;\r\n}\r\n#fog3{\r\n\tposition:absolute;\r\n\tmargin:523px 0px 0px 878px;\r\n}\r\n#girl{\r\n\tposition:absolute;\r\n\tmargin: 465px 0px 0px 455px;\r\n\t/*background:url('_mod_files/ce_images/main/girl.png') no-repeat 0 0 transparent;*/\r\n\tbackground:none;\r\n}\r\n.contentheading{\r\n\tfont-size: 18pt;\r\n}\r\n.componentheading {\r\n\tfont-size: 16pt;\r\n}\r\n/*rounded table*/\r\n.top_left_corner {\r\n    background: transparent url('_mod_files/ce_images/main/bg_top_left.png') no-repeat 0 0;\r\n    width: 2px;\r\n    height: 2px;\r\n}\r\n\r\n.top_line {\r\n    background: transparent url('_mod_files/ce_images/main/bg_top.png') repeat-x 0 0;\r\n    height: 2px;\r\n}\r\n\r\n.top_right_corner {\r\n    background: transparent url('_mod_files/ce_images/main/bg_top_right.png') no-repeat 0 0;\r\n    width: 1px;\r\n    height: 2px;\r\n}\r\n\r\n.left_line {\r\n    width: 2px;\r\n    background: transparent url('_mod_files/ce_images/main/bg_left.png') repeat-y 0 0;\r\n}\r\n\r\n.center_block {\r\n    background: transparent url('_mod_files/ce_images/main/bg.png') repeat 0 0;\r\n\tpadding: 3px;\r\n}\r\n\r\n.right_line {\r\n    width: 1px;\r\n    background: transparent url('_mod_files/ce_images/main/bg_right.png') repeat-y 0 0;\r\n}\r\n\r\n.bottom_left_corner {\r\n    background: transparent url('_mod_files/ce_images/main/bg_bottom_left.png') no-repeat 0 0;\r\n    width: 2px;\r\n    height: 2px;\r\n}\r\n\r\n.bottom_line {\r\n    background: transparent url('_mod_files/ce_images/main/bg_bottom.png') repeat-x 0 0;\r\n    height: 2px;\r\n}\r\n\r\n.bottom_right_corner {\r\n    background: transparent url('_mod_files/ce_images/main/bg_bottom_right.png') no-repeat 0 0;\r\n    width: 1px;\r\n    height: 2px;\r\n}\r\n\r\n.featured_label {\r\n\tfont-size: 10pt;\r\n\tfont-weight: bold;\r\n\tcolor: red;\r\n\ttext-decoration: none;\r\n}\r\n/*\r\n * FILE END: _mod_files/_css/home.css\r\n */\r\n"
          },
          "redirectURL": "",
          "headersSize": 282,
          "bodySize": 12161
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 36,
          "receive": 1
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 3,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/_css/plugins.css?_ts=1318231583&_cv=5.14.2.11",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.14.2.11"
            },
            {
              "name": "_ts",
              "value": "1318231583"
            }
          ],
          "headersSize": 332,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Last-Modified",
              "value": "Mon, 10 Oct 2011 07:26:23 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 4437,
            "text": "\n/* Plugin: ami_ajax_responder start */\ndiv.amiListProgress{ display: none; position: absolute; min-height: 32px; background: #fff; opacity: 0.6; }\r\ndiv.amiListProgress img{ position: absolute; left: 50%; top: 50%; margin: -16px 0px 0px -16px;}\r\ndiv.ami_resp_prev, div.ami_resp_next, div.ami_resp_reload, div.ami_resp_play_pause{ display: -moz-inline-stack; display: inline-block; zoom: 1; *display: inline; width: 16px; height: 16px; background: url(/_mod_files/ce_images/ajax_resp_icons.png) no-repeat; cursor: pointer; }\r\ndiv.ami_resp_prev{}\r\ndiv.ami_resp_next{ background-position: -16px 0px; }\r\ndiv.ami_resp_reload{ background-position: -64px 0px; }\r\ndiv.ami_resp_play_pause{ background-position: -48px 0px; }\r\ndiv.ami_resp_pause{ background-position: -32px 0px; }\r\ndiv.ami_resp_play_pause_disabled{ display: none; }\r\ndiv.ami_resp_prev_disabled, div.ami_resp_next_disabled{ cursor: default; filter: alpha(opacity=30); opacity: 0.3; -moz-opacity: 0.3; }\r\n\r\ndiv.ami_resp_outer_articles{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_articles{ }\r\ndiv.ami_resp_row_articles{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_articles, div.ami_resp_row_header_articles{ display: inline; }\r\ndiv.ami_resp_row_fdate_articles{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_articles{ }\r\n\r\ndiv.ami_resp_outer_blog{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_blog{ }\r\ndiv.ami_resp_row_blog{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_blog, div.ami_resp_row_header_blog{ display: inline; }\r\ndiv.ami_resp_row_fdate_blog{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_blog{ }\r\n\r\ndiv.ami_resp_outer_eshop_item{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_eshop_item{ }\r\ndiv.ami_resp_row_eshop_item{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_eshop_item, div.ami_resp_row_header_eshop_item{ display: inline; }\r\ndiv.ami_resp_row_fdate_eshop_item{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_eshop_item{ }\r\n\r\ndiv.ami_resp_outer_files{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_files{ }\r\ndiv.ami_resp_row_files{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_files, div.ami_resp_row_header_files{ display: inline; }\r\ndiv.ami_resp_row_fdate_files{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_files{ }\r\n\r\ndiv.ami_resp_outer_kb_item{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_kb_item{ }\r\ndiv.ami_resp_row_kb_item{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_kb_item, div.ami_resp_row_header_kb_item{ display: inline; }\r\ndiv.ami_resp_row_fdate_kb_item{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_kb_item{ }\r\n\r\ndiv.ami_resp_outer_news{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_news{ }\r\ndiv.ami_resp_row_news{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_news, div.ami_resp_row_header_news{ display: inline; }\r\ndiv.ami_resp_row_fdate_news{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_news{ }\r\n\r\ndiv.ami_resp_outer_photoalbum{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_photoalbum{ }\r\ndiv.ami_resp_row_photoalbum{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_photoalbum, div.ami_resp_row_header_photoalbum{ display: inline; }\r\ndiv.ami_resp_row_fdate_photoalbum{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_photoalbum{ }\r\n\r\ndiv.ami_resp_outer_portfolio_item{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_portfolio_item{ }\r\ndiv.ami_resp_row_portfolio_item{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_portfolio_item, div.ami_resp_row_header_portfolio_item{ display: inline; }\r\ndiv.ami_resp_row_fdate_portfolio_item{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_portfolio_item{ }\r\n\r\ndiv.ami_resp_outer_stickers{ display: block; border: 1px dashed #777; padding: 10px; margin: 5px; }\r\ndiv.ami_resp_inner_stickers{ }\r\ndiv.ami_resp_row_stickers{ padding-top: 5px; }\r\ndiv.ami_resp_row_fdate_stickers, div.ami_resp_row_header_stickers{ display: inline; }\r\ndiv.ami_resp_row_fdate_stickers{ font-weight: bold; padding-right: 5px; }\r\ndiv.ami_resp_row_announce_stickers{ }\n/* Plugin: ami_ajax_responder end */\n"
          },
          "redirectURL": "",
          "headersSize": 340,
          "bodySize": 792
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 2,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 7,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/_css/modal.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 301,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:53:11 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 1159,
            "text": ".body-overlayed embed, .body-overlayed object, .body-overlayed select\n{\n\tvisibility:\t\t\t\thidden;\n}\n\n#sbox-window embed, #sbox-window object, #sbox-window select\n{\n\tvisibility:\t\t\t\tvisible;\n}\n\n#sbox-overlay\n{\n\tposition:\t\t\t\tabsolute;\n\tbackground-color:\t\t#000;\n}\n\n#sbox-window\n{\n\tposition:\t\t\t\tabsolute;\n\tbackground-color:\t\t#000;\n\ttext-align:\t\t\t\tleft;\n\toverflow:\t\t\t\tvisible;\n\tpadding:\t\t\t\t10px;\n\t-moz-border-radius:\t\t3px;\n}\n\n* html #sbox-window\n{\n\ttop: 50% !important;\n\tleft: 50% !important;\n}\n\n#sbox-btn-close\n{\n\tposition:\t\t\t\tabsolute;\n\twidth:\t\t\t\t\t30px;\n\theight:\t\t\t\t\t30px;\n\tright:\t\t\t\t\t-15px;\n\ttop:\t\t\t\t\t-15px;\n\tbackground:\t\t\t\turl(../images/closebox.png) no-repeat top left;\n\tborder:\t\t\t\t\tnone;\n}\n\n.sbox-loading #sbox-content\n{\n\tbackground-image:\t\turl(../images/spinner.gif);\n\tbackground-repeat:\t\tno-repeat;\n\tbackground-position:\tcenter;\n}\n\n#sbox-content\n{\n\tclear:\t\t\t\t\tboth;\n\toverflow:\t\t\t\tauto;\n\tbackground-color:\t\t#fff;\n\theight:\t\t\t\t\t100%;\n\twidth:\t\t\t\t\t100%;\n}\n\n.sbox-content-image#sbox-content\n{\n\toverflow:\t\t\t\tvisible;\n}\n\n#sbox-image\n{\n\tdisplay:\t\t\t\tblock;\n}\n\n.sbox-content-image img\n{\n\tdisplay:\t\t\t\tblock;\n}\n\n.sbox-content-iframe#sbox-content\n{\n\toverflow:\t\t\t\tvisible;\n}"
          },
          "redirectURL": "",
          "headersSize": 340,
          "bodySize": 433
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 6,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 3,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/_css/style_weather.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 309,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:53:12 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 1096,
            "text": ".gkw_main { overflow:hidden; }\n.gkw_current { overflow:hidden; }\n.gkw_main_left { float:left; width:auto; }\n.gkw_temp { font-size:18px; text-align:center; margin:8px 0 0 0; }\n.gkw_main_right { float:left; width:auto; margin:0 0 0 16px; }\n.gkw_main_right h2 { margin: 4px 0 4px 0; }\n.gkw_condition { }\n.gkw_humidity { }\n.gkw_wind { }\nul.gkw_next_days { clear:both; width:auto; float:left; list-style-type:none; list-style-image:none; margin:12px 0 0 0; padding:0; }\nul.gkw_next_days li { background: none; float:left; width:24.9%; }\nul.gkw_next_days li:first-child { border-left:none; }\n.gkw_day { font-weight:bold; font-style:italic; text-align:center; display:block; }\nul.gkw_next_days li img { display:block; margin:0 auto; clear:both; }\np.gkw_day_temp { margin:6px 0 0 0; white-space:nowrap; text-align:center; }\nspan.gkw_day_day { padding:2px; font-size:10px; }\nspan.gkw_day_night { padding:2px; background:#387086; color:#fff; font-size:10px; }\ndiv.gkw_fday{ border-left:1px solid #ddd; margin:0 6px 0 0; padding:0 0 0 6px; }\nul.gkw_next_days li:first-child div.gkw_fday{ border-left:none; }"
          },
          "redirectURL": "",
          "headersSize": 340,
          "bodySize": 438
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 1,
          "send": 0,
          "wait": 2,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 8,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_js/mootools.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 276,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 07:16:59 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 74434,
            "text": "//MooTools, My Object Oriented Javascript Tools. Copyright (c) 2006 Valerio Proietti, <http://mad4milk.net>, MIT Style License.\n\nvar MooTools={version:'1.12'};function $defined(obj){return(obj!=undefined);};function $type(obj){if(!$defined(obj))return false;if(obj.htmlElement)return'element';var type=typeof obj;if(type=='object'&&obj.nodeName){switch(obj.nodeType){case 1:return'element';case 3:return(/\\S/).test(obj.nodeValue)?'textnode':'whitespace';}}\nif(type=='object'||type=='function'){switch(obj.constructor){case Array:return'array';case RegExp:return'regexp';case Class:return'class';}\nif(typeof obj.length=='number'){if(obj.item)return'collection';if(obj.callee)return'arguments';}}\nreturn type;};function $merge(){var mix={};for(var i=0;i<arguments.length;i++){for(var property in arguments[i]){var ap=arguments[i][property];var mp=mix[property];if(mp&&$type(ap)=='object'&&$type(mp)=='object')mix[property]=$merge(mp,ap);else mix[property]=ap;}}\nreturn mix;};var $extend=function(){var args=arguments;if(!args[1])args=[this,args[0]];for(var property in args[1])args[0][property]=args[1][property];return args[0];};var $native=function(){for(var i=0,l=arguments.length;i<l;i++){arguments[i].extend=function(props){for(var prop in props){if(!this.prototype[prop])this.prototype[prop]=props[prop];if(!this[prop])this[prop]=$native.generic(prop);}};}};$native.generic=function(prop){return function(bind){return this.prototype[prop].apply(bind,Array.prototype.slice.call(arguments,1));};};$native(Function,Array,String,Number);function $chk(obj){return!!(obj||obj===0);};function $pick(obj,picked){return $defined(obj)?obj:picked;};function $random(min,max){return Math.floor(Math.random()*(max-min+1)+min);};function $time(){return new Date().getTime();};function $clear(timer){clearTimeout(timer);clearInterval(timer);return null;};var Abstract=function(obj){obj=obj||{};obj.extend=$extend;return obj;};var Window=new Abstract(window);var Document=new Abstract(document);document.head=document.getElementsByTagName('head')[0];window.xpath=!!(document.evaluate);if(window.ActiveXObject)window.ie=window[window.XMLHttpRequest?'ie7':'ie6']=true;else if(document.childNodes&&!document.all&&!navigator.taintEnabled)window.webkit=window[window.xpath?'webkit420':'webkit419']=true;else if(document.getBoxObjectFor!=null||window.mozInnerScreenX!=null)window.gecko=true;window.khtml=window.webkit;Object.extend=$extend;if(typeof HTMLElement=='undefined'){var HTMLElement=function(){};if(window.webkit)document.createElement(\"iframe\");HTMLElement.prototype=(window.webkit)?window[\"[[DOMElement.prototype]]\"]:{};}\nHTMLElement.prototype.htmlElement=function(){};if(window.ie6)try{document.execCommand(\"BackgroundImageCache\",false,true);}catch(e){};var Class=function(properties){var klass=function(){return(arguments[0]!==null&&this.initialize&&$type(this.initialize)=='function')?this.initialize.apply(this,arguments):this;};$extend(klass,this);klass.prototype=properties;klass.constructor=Class;return klass;};Class.empty=function(){};Class.prototype={extend:function(properties){var proto=new this(null);for(var property in properties){var pp=proto[property];proto[property]=Class.Merge(pp,properties[property]);}\nreturn new Class(proto);},implement:function(){for(var i=0,l=arguments.length;i<l;i++)$extend(this.prototype,arguments[i]);}};Class.Merge=function(previous,current){if(previous&&previous!=current){var type=$type(current);if(type!=$type(previous))return current;switch(type){case'function':var merged=function(){this.parent=arguments.callee.parent;return current.apply(this,arguments);};merged.parent=previous;return merged;case'object':return $merge(previous,current);}}\nreturn current;};var Chain=new Class({chain:function(fn){this.chains=this.chains||[];this.chains.push(fn);return this;},callChain:function(){if(this.chains&&this.chains.length)this.chains.shift().delay(10,this);},clearChain:function(){this.chains=[];}});var Events=new Class({addEvent:function(type,fn){if(fn!=Class.empty){this.$events=this.$events||{};this.$events[type]=this.$events[type]||[];this.$events[type].include(fn);}\nreturn this;},fireEvent:function(type,args,delay){if(this.$events&&this.$events[type]){this.$events[type].each(function(fn){fn.create({'bind':this,'delay':delay,'arguments':args})();},this);}\nreturn this;},removeEvent:function(type,fn){if(this.$events&&this.$events[type])this.$events[type].remove(fn);return this;}});var Options=new Class({setOptions:function(){this.options=$merge.apply(null,[this.options].extend(arguments));if(this.addEvent){for(var option in this.options){if($type(this.options[option]=='function')&&(/^on[A-Z]/).test(option))this.addEvent(option,this.options[option]);}}\nreturn this;}});Array.extend({forEach:function(fn,bind){for(var i=0,j=this.length;i<j;i++)fn.call(bind,this[i],i,this);},filter:function(fn,bind){var results=[];for(var i=0,j=this.length;i<j;i++){if(fn.call(bind,this[i],i,this))results.push(this[i]);}\nreturn results;},map:function(fn,bind){var results=[];for(var i=0,j=this.length;i<j;i++)results[i]=fn.call(bind,this[i],i,this);return results;},every:function(fn,bind){for(var i=0,j=this.length;i<j;i++){if(!fn.call(bind,this[i],i,this))return false;}\nreturn true;},some:function(fn,bind){for(var i=0,j=this.length;i<j;i++){if(fn.call(bind,this[i],i,this))return true;}\nreturn false;},indexOf:function(item,from){var len=this.length;for(var i=(from<0)?Math.max(0,len+from):from||0;i<len;i++){if(this[i]===item)return i;}\nreturn-1;},copy:function(start,length){start=start||0;if(start<0)start=this.length+start;length=length||(this.length-start);var newArray=[];for(var i=0;i<length;i++)newArray[i]=this[start++];return newArray;},remove:function(item){var i=0;var len=this.length;while(i<len){if(this[i]===item){this.splice(i,1);len--;}else{i++;}}\nreturn this;},contains:function(item,from){return this.indexOf(item,from)!=-1;},associate:function(keys){var obj={},length=Math.min(this.length,keys.length);for(var i=0;i<length;i++)obj[keys[i]]=this[i];return obj;},extend:function(array){for(var i=0,j=array.length;i<j;i++)this.push(array[i]);return this;},merge:function(array){for(var i=0,l=array.length;i<l;i++)this.include(array[i]);return this;},include:function(item){if(!this.contains(item))this.push(item);return this;},getRandom:function(){return this[$random(0,this.length-1)]||null;},getLast:function(){return this[this.length-1]||null;}});Array.prototype.each=Array.prototype.forEach;Array.each=Array.forEach;function $A(array){return Array.copy(array);};function $each(iterable,fn,bind){if(iterable&&typeof iterable.length=='number'&&$type(iterable)!='object'){Array.forEach(iterable,fn,bind);}else{for(var name in iterable)fn.call(bind||iterable,iterable[name],name);}};Array.prototype.test=Array.prototype.contains;String.extend({test:function(regex,params){return(($type(regex)=='string')?new RegExp(regex,params):regex).test(this);},toInt:function(){return parseInt(this,10);},toFloat:function(){return parseFloat(this);},camelCase:function(){return this.replace(/-\\D/g,function(match){return match.charAt(1).toUpperCase();});},hyphenate:function(){return this.replace(/\\w[A-Z]/g,function(match){return(match.charAt(0)+'-'+match.charAt(1).toLowerCase());});},capitalize:function(){return this.replace(/\\b[a-z]/g,function(match){return match.toUpperCase();});},trim:function(){return this.replace(/^\\s+|\\s+$/g,'');},clean:function(){return this.replace(/\\s{2,}/g,' ').trim();},rgbToHex:function(array){var rgb=this.match(/\\d{1,3}/g);return(rgb)?rgb.rgbToHex(array):false;},hexToRgb:function(array){var hex=this.match(/^#?(\\w{1,2})(\\w{1,2})(\\w{1,2})$/);return(hex)?hex.slice(1).hexToRgb(array):false;},contains:function(string,s){return(s)?(s+this+s).indexOf(s+string+s)>-1:this.indexOf(string)>-1;},escapeRegExp:function(){return this.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,'\\\\$1');}});Array.extend({rgbToHex:function(array){if(this.length<3)return false;if(this.length==4&&this[3]==0&&!array)return'transparent';var hex=[];for(var i=0;i<3;i++){var bit=(this[i]-0).toString(16);hex.push((bit.length==1)?'0'+bit:bit);}\nreturn array?hex:'#'+hex.join('');},hexToRgb:function(array){if(this.length!=3)return false;var rgb=[];for(var i=0;i<3;i++){rgb.push(parseInt((this[i].length==1)?this[i]+this[i]:this[i],16));}\nreturn array?rgb:'rgb('+rgb.join(',')+')';}});Function.extend({create:function(options){var fn=this;options=$merge({'bind':fn,'event':false,'arguments':null,'delay':false,'periodical':false,'attempt':false},options);if($chk(options.arguments)&&$type(options.arguments)!='array')options.arguments=[options.arguments];return function(event){var args;if(options.event){event=event||window.event;args=[(options.event===true)?event:new options.event(event)];if(options.arguments)args.extend(options.arguments);}\nelse args=options.arguments||arguments;var returns=function(){return fn.apply($pick(options.bind,fn),args);};if(options.delay)return setTimeout(returns,options.delay);if(options.periodical)return setInterval(returns,options.periodical);if(options.attempt)try{return returns();}catch(err){return false;};return returns();};},pass:function(args,bind){return this.create({'arguments':args,'bind':bind});},attempt:function(args,bind){return this.create({'arguments':args,'bind':bind,'attempt':true})();},bind:function(bind,args){return this.create({'bind':bind,'arguments':args});},bindAsEventListener:function(bind,args){return this.create({'bind':bind,'event':true,'arguments':args});},delay:function(delay,bind,args){return this.create({'delay':delay,'bind':bind,'arguments':args})();},periodical:function(interval,bind,args){return this.create({'periodical':interval,'bind':bind,'arguments':args})();}});Number.extend({toInt:function(){return parseInt(this);},toFloat:function(){return parseFloat(this);},limit:function(min,max){return Math.min(max,Math.max(min,this));},round:function(precision){precision=Math.pow(10,precision||0);return Math.round(this*precision)/precision;},times:function(fn){for(var i=0;i<this;i++)fn(i);}});var Element=new Class({initialize:function(el,props){if($type(el)=='string'){if(window.ie&&props&&(props.name||props.type)){var name=(props.name)?' name=\"'+props.name+'\"':'';var type=(props.type)?' type=\"'+props.type+'\"':'';delete props.name;delete props.type;el='<'+el+name+type+'>';}\nel=document.createElement(el);}\nel=$(el);return(!props||!el)?el:el.set(props);}});var Elements=new Class({initialize:function(elements){return(elements)?$extend(elements,this):this;}});Elements.extend=function(props){for(var prop in props){this.prototype[prop]=props[prop];this[prop]=$native.generic(prop);}};function $(el){if(!el)return null;if(el.htmlElement)return Garbage.collect(el);if([window,document].contains(el))return el;var type=$type(el);if(type=='string'){el=document.getElementById(el);type=(el)?'element':false;}\nif(type!='element')return null;if(el.htmlElement)return Garbage.collect(el);if(['object','embed'].contains(el.tagName.toLowerCase()))return el;$extend(el,Element.prototype);el.htmlElement=function(){};return Garbage.collect(el);};document.getElementsBySelector=document.getElementsByTagName;function $$(){var elements=[];for(var i=0,j=arguments.length;i<j;i++){var selector=arguments[i];switch($type(selector)){case'element':elements.push(selector);case'boolean':break;case false:break;case'string':selector=document.getElementsBySelector(selector,true);default:elements.extend(selector);}}\nreturn $$.unique(elements);};$$.unique=function(array){var elements=[];for(var i=0,l=array.length;i<l;i++){if(array[i].$included)continue;var element=$(array[i]);if(element&&!element.$included){element.$included=true;elements.push(element);}}\nfor(var n=0,d=elements.length;n<d;n++)elements[n].$included=null;return new Elements(elements);};Elements.Multi=function(property){return function(){var args=arguments;var items=[];var elements=true;for(var i=0,j=this.length,returns;i<j;i++){returns=this[i][property].apply(this[i],args);if($type(returns)!='element')elements=false;items.push(returns);};return(elements)?$$.unique(items):items;};};Element.extend=function(properties){for(var property in properties){HTMLElement.prototype[property]=properties[property];Element.prototype[property]=properties[property];Element[property]=$native.generic(property);var elementsProperty=(Array.prototype[property])?property+'Elements':property;Elements.prototype[elementsProperty]=Elements.Multi(property);}};Element.extend({set:function(props){for(var prop in props){var val=props[prop];switch(prop){case'styles':this.setStyles(val);break;case'events':if(this.addEvents)this.addEvents(val);break;case'properties':this.setProperties(val);break;default:this.setProperty(prop,val);}}\nreturn this;},inject:function(el,where){el=$(el);switch(where){case'before':el.parentNode.insertBefore(this,el);break;case'after':var next=el.getNext();if(!next)el.parentNode.appendChild(this);else el.parentNode.insertBefore(this,next);break;case'top':var first=el.firstChild;if(first){el.insertBefore(this,first);break;}\ndefault:el.appendChild(this);}\nreturn this;},injectBefore:function(el){return this.inject(el,'before');},injectAfter:function(el){return this.inject(el,'after');},injectInside:function(el){return this.inject(el,'bottom');},injectTop:function(el){return this.inject(el,'top');},adopt:function(){var elements=[];$each(arguments,function(argument){elements=elements.concat(argument);});$$(elements).inject(this);return this;},remove:function(){return this.parentNode.removeChild(this);},clone:function(contents){var el=$(this.cloneNode(contents!==false));if(!el.$events)return el;el.$events={};for(var type in this.$events)el.$events[type]={'keys':$A(this.$events[type].keys),'values':$A(this.$events[type].values)};return el.removeEvents();},replaceWith:function(el){el=$(el);this.parentNode.replaceChild(el,this);return el;},appendText:function(text){this.appendChild(document.createTextNode(text));return this;},hasClass:function(className){return this.className.contains(className,' ');},addClass:function(className){if(!this.hasClass(className))this.className=(this.className+' '+className).clean();return this;},removeClass:function(className){this.className=this.className.replace(new RegExp('(^|\\\\s)'+className+'(?:\\\\s|$)'),'$1').clean();return this;},toggleClass:function(className){return this.hasClass(className)?this.removeClass(className):this.addClass(className);},setStyle:function(property,value){switch(property){case'opacity':return this.setOpacity(parseFloat(value));case'float':property=(window.ie)?'styleFloat':'cssFloat';}\nproperty=property.camelCase();switch($type(value)){case'number':if(!['zIndex','zoom'].contains(property))value+='px';break;case'array':value='rgb('+value.join(',')+')';}\nthis.style[property]=value;return this;},setStyles:function(source){switch($type(source)){case'object':Element.setMany(this,'setStyle',source);break;case'string':this.style.cssText=source;}\nreturn this;},setOpacity:function(opacity){if(opacity==0){if(this.style.visibility!=\"hidden\")this.style.visibility=\"hidden\";}else{if(this.style.visibility!=\"visible\")this.style.visibility=\"visible\";}\nif(!this.currentStyle||!this.currentStyle.hasLayout)this.style.zoom=1;if(window.ie)this.style.filter=(opacity==1)?'':\"alpha(opacity=\"+opacity*100+\")\";this.style.opacity=this.$tmp.opacity=opacity;return this;},getStyle:function(property){property=property.camelCase();var result=this.style[property];if(!$chk(result)){if(property=='opacity')return this.$tmp.opacity;result=[];for(var style in Element.Styles){if(property==style){Element.Styles[style].each(function(s){var style=this.getStyle(s);result.push(parseInt(style)?style:'0px');},this);if(property=='border'){var every=result.every(function(bit){return(bit==result[0]);});return(every)?result[0]:false;}\nreturn result.join(' ');}}\nif(property.contains('border')){if(Element.Styles.border.contains(property)){return['Width','Style','Color'].map(function(p){return this.getStyle(property+p);},this).join(' ');}else if(Element.borderShort.contains(property)){return['Top','Right','Bottom','Left'].map(function(p){return this.getStyle('border'+p+property.replace('border',''));},this).join(' ');}}\nif(document.defaultView)result=document.defaultView.getComputedStyle(this,null).getPropertyValue(property.hyphenate());else if(this.currentStyle)result=this.currentStyle[property];}\nif(window.ie)result=Element.fixStyle(property,result,this);if(result&&property.test(/color/i)&&result.contains('rgb')){return result.split('rgb').splice(1,4).map(function(color){return color.rgbToHex();}).join(' ');}\nreturn result;},getStyles:function(){return Element.getMany(this,'getStyle',arguments);},walk:function(brother,start){brother+='Sibling';var el=(start)?this[start]:this[brother];while(el&&$type(el)!='element')el=el[brother];return $(el);},getPrevious:function(){return this.walk('previous');},getNext:function(){return this.walk('next');},getFirst:function(){return this.walk('next','firstChild');},getLast:function(){return this.walk('previous','lastChild');},getParent:function(){return $(this.parentNode);},getChildren:function(){return $$(this.childNodes);},hasChild:function(el){return!!$A(this.getElementsByTagName('*')).contains(el);},getProperty:function(property){var index=Element.Properties[property];if(index)return this[index];var flag=Element.PropertiesIFlag[property]||0;if(!window.ie||flag)return this.getAttribute(property,flag);var node=this.attributes[property];return(node)?node.nodeValue:null;},removeProperty:function(property){var index=Element.Properties[property];if(index)this[index]='';else this.removeAttribute(property);return this;},getProperties:function(){return Element.getMany(this,'getProperty',arguments);},setProperty:function(property,value){var index=Element.Properties[property];if(index)this[index]=value;else this.setAttribute(property,value);return this;},setProperties:function(source){return Element.setMany(this,'setProperty',source);},setHTML:function(){this.innerHTML=$A(arguments).join('');return this;},setText:function(text){var tag=this.getTag();if(['style','script'].contains(tag)){if(window.ie){if(tag=='style')this.styleSheet.cssText=text;else if(tag=='script')this.setProperty('text',text);return this;}else{this.removeChild(this.firstChild);return this.appendText(text);}}\nthis[$defined(this.innerText)?'innerText':'textContent']=text;return this;},getText:function(){var tag=this.getTag();if(['style','script'].contains(tag)){if(window.ie){if(tag=='style')return this.styleSheet.cssText;else if(tag=='script')return this.getProperty('text');}else{return this.innerHTML;}}\nreturn($pick(this.innerText,this.textContent));},getTag:function(){return this.tagName.toLowerCase();},empty:function(){Garbage.trash(this.getElementsByTagName('*'));return this.setHTML('');}});Element.fixStyle=function(property,result,element){if($chk(parseInt(result)))return result;if(['height','width'].contains(property)){var values=(property=='width')?['left','right']:['top','bottom'];var size=0;values.each(function(value){size+=element.getStyle('border-'+value+'-width').toInt()+element.getStyle('padding-'+value).toInt();});return element['offset'+property.capitalize()]-size+'px';}else if(property.test(/border(.+)Width|margin|padding/)){return'0px';}\nreturn result;};Element.Styles={'border':[],'padding':[],'margin':[]};['Top','Right','Bottom','Left'].each(function(direction){for(var style in Element.Styles)Element.Styles[style].push(style+direction);});Element.borderShort=['borderWidth','borderStyle','borderColor'];Element.getMany=function(el,method,keys){var result={};$each(keys,function(key){result[key]=el[method](key);});return result;};Element.setMany=function(el,method,pairs){for(var key in pairs)el[method](key,pairs[key]);return el;};Element.Properties=new Abstract({'class':'className','for':'htmlFor','colspan':'colSpan','rowspan':'rowSpan','accesskey':'accessKey','tabindex':'tabIndex','maxlength':'maxLength','readonly':'readOnly','frameborder':'frameBorder','value':'value','disabled':'disabled','checked':'checked','multiple':'multiple','selected':'selected'});Element.PropertiesIFlag={'href':2,'src':2};Element.Methods={Listeners:{addListener:function(type,fn){if(this.addEventListener)this.addEventListener(type,fn,false);else this.attachEvent('on'+type,fn);return this;},removeListener:function(type,fn){if(this.removeEventListener)this.removeEventListener(type,fn,false);else this.detachEvent('on'+type,fn);return this;}}};window.extend(Element.Methods.Listeners);document.extend(Element.Methods.Listeners);Element.extend(Element.Methods.Listeners);var Garbage={elements:[],collect:function(el){if(!el.$tmp){Garbage.elements.push(el);el.$tmp={'opacity':1};}\nreturn el;},trash:function(elements){for(var i=0,j=elements.length,el;i<j;i++){if(!(el=elements[i])||!el.$tmp)continue;if(el.$events)el.fireEvent('trash').removeEvents();for(var p in el.$tmp)el.$tmp[p]=null;for(var d in Element.prototype)el[d]=null;Garbage.elements[Garbage.elements.indexOf(el)]=null;el.htmlElement=el.$tmp=el=null;}\nGarbage.elements.remove(null);},empty:function(){Garbage.collect(window);Garbage.collect(document);Garbage.trash(Garbage.elements);}};window.addListener('beforeunload',function(){window.addListener('unload',Garbage.empty);if(window.ie)window.addListener('unload',CollectGarbage);});var Event=new Class({initialize:function(event){if(event&&event.$extended)return event;this.$extended=true;event=event||window.event;this.event=event;this.type=event.type;this.target=event.target||event.srcElement;if(this.target.nodeType==3)this.target=this.target.parentNode;this.shift=event.shiftKey;this.control=event.ctrlKey;this.alt=event.altKey;this.meta=event.metaKey;if(['DOMMouseScroll','mousewheel'].contains(this.type)){this.wheel=(event.wheelDelta)?event.wheelDelta/120:-(event.detail||0)/3;}else if(this.type.contains('key')){this.code=event.which||event.keyCode;for(var name in Event.keys){if(Event.keys[name]==this.code){this.key=name;break;}}\nif(this.type=='keydown'){var fKey=this.code-111;if(fKey>0&&fKey<13)this.key='f'+fKey;}\nthis.key=this.key||String.fromCharCode(this.code).toLowerCase();}else if(this.type.test(/(click|mouse|menu)/)){this.page={'x':event.pageX||event.clientX+document.documentElement.scrollLeft,'y':event.pageY||event.clientY+document.documentElement.scrollTop};this.client={'x':event.pageX?event.pageX-window.pageXOffset:event.clientX,'y':event.pageY?event.pageY-window.pageYOffset:event.clientY};this.rightClick=(event.which==3)||(event.button==2);switch(this.type){case'mouseover':this.relatedTarget=event.relatedTarget||event.fromElement;break;case'mouseout':this.relatedTarget=event.relatedTarget||event.toElement;}\nthis.fixRelatedTarget();}\nreturn this;},stop:function(){return this.stopPropagation().preventDefault();},stopPropagation:function(){if(this.event.stopPropagation)this.event.stopPropagation();else this.event.cancelBubble=true;return this;},preventDefault:function(){if(this.event.preventDefault)this.event.preventDefault();else this.event.returnValue=false;return this;}});Event.fix={relatedTarget:function(){if(this.relatedTarget&&this.relatedTarget.nodeType==3)this.relatedTarget=this.relatedTarget.parentNode;},relatedTargetGecko:function(){try{Event.fix.relatedTarget.call(this);}catch(e){this.relatedTarget=this.target;}}};Event.prototype.fixRelatedTarget=(window.gecko)?Event.fix.relatedTargetGecko:Event.fix.relatedTarget;Event.keys=new Abstract({'enter':13,'up':38,'down':40,'left':37,'right':39,'esc':27,'space':32,'backspace':8,'tab':9,'delete':46});Element.Methods.Events={addEvent:function(type,fn){this.$events=this.$events||{};this.$events[type]=this.$events[type]||{'keys':[],'values':[]};if(this.$events[type].keys.contains(fn))return this;this.$events[type].keys.push(fn);var realType=type;var custom=Element.Events[type];if(custom){if(custom.add)custom.add.call(this,fn);if(custom.map)fn=custom.map;if(custom.type)realType=custom.type;}\nif(!this.addEventListener)fn=fn.create({'bind':this,'event':true});this.$events[type].values.push(fn);return(Element.NativeEvents.contains(realType))?this.addListener(realType,fn):this;},removeEvent:function(type,fn){if(!this.$events||!this.$events[type])return this;var pos=this.$events[type].keys.indexOf(fn);if(pos==-1)return this;var key=this.$events[type].keys.splice(pos,1)[0];var value=this.$events[type].values.splice(pos,1)[0];var custom=Element.Events[type];if(custom){if(custom.remove)custom.remove.call(this,fn);if(custom.type)type=custom.type;}\nreturn(Element.NativeEvents.contains(type))?this.removeListener(type,value):this;},addEvents:function(source){return Element.setMany(this,'addEvent',source);},removeEvents:function(type){if(!this.$events)return this;if(!type){for(var evType in this.$events)this.removeEvents(evType);this.$events=null;}else if(this.$events[type]){this.$events[type].keys.each(function(fn){this.removeEvent(type,fn);},this);this.$events[type]=null;}\nreturn this;},fireEvent:function(type,args,delay){if(this.$events&&this.$events[type]){this.$events[type].keys.each(function(fn){fn.create({'bind':this,'delay':delay,'arguments':args})();},this);}\nreturn this;},cloneEvents:function(from,type){if(!from.$events)return this;if(!type){for(var evType in from.$events)this.cloneEvents(from,evType);}else if(from.$events[type]){from.$events[type].keys.each(function(fn){this.addEvent(type,fn);},this);}\nreturn this;}};window.extend(Element.Methods.Events);document.extend(Element.Methods.Events);Element.extend(Element.Methods.Events);Element.Events=new Abstract({'mouseenter':{type:'mouseover',map:function(event){event=new Event(event);if(event.relatedTarget!=this&&!this.hasChild(event.relatedTarget))this.fireEvent('mouseenter',event);}},'mouseleave':{type:'mouseout',map:function(event){event=new Event(event);if(event.relatedTarget!=this&&!this.hasChild(event.relatedTarget))this.fireEvent('mouseleave',event);}},'mousewheel':{type:(window.gecko)?'DOMMouseScroll':'mousewheel'}});Element.NativeEvents=['click','dblclick','mouseup','mousedown','mousewheel','DOMMouseScroll','mouseover','mouseout','mousemove','keydown','keypress','keyup','load','unload','beforeunload','resize','move','focus','blur','change','submit','reset','select','error','abort','contextmenu','scroll'];Function.extend({bindWithEvent:function(bind,args){return this.create({'bind':bind,'arguments':args,'event':Event});}});Elements.extend({filterByTag:function(tag){return new Elements(this.filter(function(el){return(Element.getTag(el)==tag);}));},filterByClass:function(className,nocash){var elements=this.filter(function(el){return(el.className&&el.className.contains(className,' '));});return(nocash)?elements:new Elements(elements);},filterById:function(id,nocash){var elements=this.filter(function(el){return(el.id==id);});return(nocash)?elements:new Elements(elements);},filterByAttribute:function(name,operator,value,nocash){var elements=this.filter(function(el){var current=Element.getProperty(el,name);if(!current)return false;if(!operator)return true;switch(operator){case'=':return(current==value);case'*=':return(current.contains(value));case'^=':return(current.substr(0,value.length)==value);case'$=':return(current.substr(current.length-value.length)==value);case'!=':return(current!=value);case'~=':return current.contains(value,' ');}\nreturn false;});return(nocash)?elements:new Elements(elements);}});function $E(selector,filter){return($(filter)||document).getElement(selector);};function $ES(selector,filter){return($(filter)||document).getElementsBySelector(selector);};$$.shared={'regexp':/^(\\w*|\\*)(?:#([\\w-]+)|\\.([\\w-]+))?(?:\\[(\\w+)(?:([!*^$]?=)[\"']?([^\"'\\]]*)[\"']?)?])?$/,'xpath':{getParam:function(items,context,param,i){var temp=[context.namespaceURI?'xhtml:':'',param[1]];if(param[2])temp.push('[@id=\"',param[2],'\"]');if(param[3])temp.push('[contains(concat(\" \", @class, \" \"), \" ',param[3],' \")]');if(param[4]){if(param[5]&&param[6]){switch(param[5]){case'*=':temp.push('[contains(@',param[4],', \"',param[6],'\")]');break;case'^=':temp.push('[starts-with(@',param[4],', \"',param[6],'\")]');break;case'$=':temp.push('[substring(@',param[4],', string-length(@',param[4],') - ',param[6].length,' + 1) = \"',param[6],'\"]');break;case'=':temp.push('[@',param[4],'=\"',param[6],'\"]');break;case'!=':temp.push('[@',param[4],'!=\"',param[6],'\"]');}}else{temp.push('[@',param[4],']');}}\nitems.push(temp.join(''));return items;},getItems:function(items,context,nocash){var elements=[];var xpath=document.evaluate('.//'+items.join('//'),context,$$.shared.resolver,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0,j=xpath.snapshotLength;i<j;i++)elements.push(xpath.snapshotItem(i));return(nocash)?elements:new Elements(elements.map($));}},'normal':{getParam:function(items,context,param,i){if(i==0){if(param[2]){var el=context.getElementById(param[2]);if(!el||((param[1]!='*')&&(Element.getTag(el)!=param[1])))return false;items=[el];}else{items=$A(context.getElementsByTagName(param[1]));}}else{items=$$.shared.getElementsByTagName(items,param[1]);if(param[2])items=Elements.filterById(items,param[2],true);}\nif(param[3])items=Elements.filterByClass(items,param[3],true);if(param[4])items=Elements.filterByAttribute(items,param[4],param[5],param[6],true);return items;},getItems:function(items,context,nocash){return(nocash)?items:$$.unique(items);}},resolver:function(prefix){return(prefix=='xhtml')?'http://www.w3.org/1999/xhtml':false;},getElementsByTagName:function(context,tagName){var found=[];for(var i=0,j=context.length;i<j;i++)found.extend(context[i].getElementsByTagName(tagName));return found;}};$$.shared.method=(window.xpath)?'xpath':'normal';Element.Methods.Dom={getElements:function(selector,nocash){var items=[];selector=selector.trim().split(' ');for(var i=0,j=selector.length;i<j;i++){var sel=selector[i];var param=sel.match($$.shared.regexp);if(!param)break;param[1]=param[1]||'*';var temp=$$.shared[$$.shared.method].getParam(items,this,param,i);if(!temp)break;items=temp;}\nreturn $$.shared[$$.shared.method].getItems(items,this,nocash);},getElement:function(selector){return $(this.getElements(selector,true)[0]||false);},getElementsBySelector:function(selector,nocash){var elements=[];selector=selector.split(',');for(var i=0,j=selector.length;i<j;i++)elements=elements.concat(this.getElements(selector[i],true));return(nocash)?elements:$$.unique(elements);}};Element.extend({getElementById:function(id){var el=document.getElementById(id);if(!el)return false;for(var parent=el.parentNode;parent!=this;parent=parent.parentNode){if(!parent)return false;}\nreturn el;},getElementsByClassName:function(className){return this.getElements('.'+className);}});document.extend(Element.Methods.Dom);Element.extend(Element.Methods.Dom);Element.extend({getValue:function(){switch(this.getTag()){case'select':var values=[];$each(this.options,function(option){if(option.selected)values.push($pick(option.value,option.text));});return(this.multiple)?values:values[0];case'input':if(!(this.checked&&['checkbox','radio'].contains(this.type))&&!['hidden','text','password'].contains(this.type))break;case'textarea':return this.value;}\nreturn false;},getFormElements:function(){return $$(this.getElementsByTagName('input'),this.getElementsByTagName('select'),this.getElementsByTagName('textarea'));},toQueryString:function(){var queryString=[];this.getFormElements().each(function(el){var name=el.name;var value=el.getValue();if(value===false||!name||el.disabled)return;var qs=function(val){queryString.push(name+'='+encodeURIComponent(val));};if($type(value)=='array')value.each(qs);else qs(value);});return queryString.join('&');}});Element.extend({scrollTo:function(x,y){this.scrollLeft=x;this.scrollTop=y;},getSize:function(){return{'scroll':{'x':this.scrollLeft,'y':this.scrollTop},'size':{'x':this.offsetWidth,'y':this.offsetHeight},'scrollSize':{'x':this.scrollWidth,'y':this.scrollHeight}};},getPosition:function(overflown){overflown=overflown||[];var el=this,left=0,top=0;do{left+=el.offsetLeft||0;top+=el.offsetTop||0;el=el.offsetParent;}while(el);overflown.each(function(element){left-=element.scrollLeft||0;top-=element.scrollTop||0;});return{'x':left,'y':top};},getTop:function(overflown){return this.getPosition(overflown).y;},getLeft:function(overflown){return this.getPosition(overflown).x;},getCoordinates:function(overflown){var position=this.getPosition(overflown);var obj={'width':this.offsetWidth,'height':this.offsetHeight,'left':position.x,'top':position.y};obj.right=obj.left+obj.width;obj.bottom=obj.top+obj.height;return obj;}});Element.Events.domready={add:function(fn){if(window.loaded){fn.call(this);return;}\nvar domReady=function(){if(window.loaded)return;window.loaded=true;window.timer=$clear(window.timer);this.fireEvent('domready');}.bind(this);if(document.readyState&&window.webkit){window.timer=function(){if(['loaded','complete'].contains(document.readyState))domReady();}.periodical(50);}else if(document.readyState&&window.ie){if(!$('ie_ready')){var src=(window.location.protocol=='https:')?'://0':'javascript:void(0)';document.write('<script id=\"ie_ready\" defer src=\"'+src+'\"><\\/script>');$('ie_ready').onreadystatechange=function(){if(this.readyState=='complete')domReady();};}}else{window.addListener(\"load\",domReady);document.addListener(\"DOMContentLoaded\",domReady);}}};window.onDomReady=function(fn){return this.addEvent('domready',fn);};window.extend({getWidth:function(){if(this.webkit419)return this.innerWidth;if(this.opera)return document.body.clientWidth;return document.documentElement.clientWidth;},getHeight:function(){if(this.webkit419)return this.innerHeight;if(this.opera)return document.body.clientHeight;return document.documentElement.clientHeight;},getScrollWidth:function(){if(this.ie)return Math.max(document.documentElement.offsetWidth,document.documentElement.scrollWidth);if(this.webkit)return document.body.scrollWidth;return document.documentElement.scrollWidth;},getScrollHeight:function(){if(this.ie)return Math.max(document.documentElement.offsetHeight,document.documentElement.scrollHeight);if(this.webkit)return document.body.scrollHeight;return document.documentElement.scrollHeight;},getScrollLeft:function(){return this.pageXOffset||document.documentElement.scrollLeft;},getScrollTop:function(){return this.pageYOffset||document.documentElement.scrollTop;},getSize:function(){return{'size':{'x':this.getWidth(),'y':this.getHeight()},'scrollSize':{'x':this.getScrollWidth(),'y':this.getScrollHeight()},'scroll':{'x':this.getScrollLeft(),'y':this.getScrollTop()}};},getPosition:function(){return{'x':0,'y':0};}});var Fx={};Fx.Base=new Class({options:{onStart:Class.empty,onComplete:Class.empty,onCancel:Class.empty,transition:function(p){return-(Math.cos(Math.PI*p)-1)/2;},duration:500,unit:'px',wait:true,fps:50},initialize:function(options){this.element=this.element||null;this.setOptions(options);if(this.options.initialize)this.options.initialize.call(this);},step:function(){var time=$time();if(time<this.time+this.options.duration){this.delta=this.options.transition((time-this.time)/this.options.duration);this.setNow();this.increase();}else{this.stop(true);this.set(this.to);this.fireEvent('onComplete',this.element,10);this.callChain();}},set:function(to){this.now=to;this.increase();return this;},setNow:function(){this.now=this.compute(this.from,this.to);},compute:function(from,to){return(to-from)*this.delta+from;},start:function(from,to){if(!this.options.wait)this.stop();else if(this.timer)return this;this.from=from;this.to=to;this.change=this.to-this.from;this.time=$time();this.timer=this.step.periodical(Math.round(1000/this.options.fps),this);this.fireEvent('onStart',this.element);return this;},stop:function(end){if(!this.timer)return this;this.timer=$clear(this.timer);if(!end)this.fireEvent('onCancel',this.element);return this;},custom:function(from,to){return this.start(from,to);},clearTimer:function(end){return this.stop(end);}});Fx.Base.implement(new Chain,new Events,new Options);Fx.CSS={select:function(property,to){if(property.test(/color/i))return this.Color;var type=$type(to);if((type=='array')||(type=='string'&&to.contains(' ')))return this.Multi;return this.Single;},parse:function(el,property,fromTo){if(!fromTo.push)fromTo=[fromTo];var from=fromTo[0],to=fromTo[1];if(!$chk(to)){to=from;from=el.getStyle(property);}\nvar css=this.select(property,to);return{'from':css.parse(from),'to':css.parse(to),'css':css};}};Fx.CSS.Single={parse:function(value){return parseFloat(value);},getNow:function(from,to,fx){return fx.compute(from,to);},getValue:function(value,unit,property){if(unit=='px'&&property!='opacity')value=Math.round(value);return value+unit;}};Fx.CSS.Multi={parse:function(value){return value.push?value:value.split(' ').map(function(v){return parseFloat(v);});},getNow:function(from,to,fx){var now=[];for(var i=0;i<from.length;i++)now[i]=fx.compute(from[i],to[i]);return now;},getValue:function(value,unit,property){if(unit=='px'&&property!='opacity')value=value.map(Math.round);return value.join(unit+' ')+unit;}};Fx.CSS.Color={parse:function(value){return value.push?value:value.hexToRgb(true);},getNow:function(from,to,fx){var now=[];for(var i=0;i<from.length;i++)now[i]=Math.round(fx.compute(from[i],to[i]));return now;},getValue:function(value){return'rgb('+value.join(',')+')';}};Fx.Style=Fx.Base.extend({initialize:function(el,property,options){this.element=$(el);this.property=property;this.parent(options);},hide:function(){return this.set(0);},setNow:function(){this.now=this.css.getNow(this.from,this.to,this);},set:function(to){this.css=Fx.CSS.select(this.property,to);return this.parent(this.css.parse(to));},start:function(from,to){if(this.timer&&this.options.wait)return this;var parsed=Fx.CSS.parse(this.element,this.property,[from,to]);this.css=parsed.css;return this.parent(parsed.from,parsed.to);},increase:function(){this.element.setStyle(this.property,this.css.getValue(this.now,this.options.unit,this.property));}});Element.extend({effect:function(property,options){return new Fx.Style(this,property,options);}});Fx.Styles=Fx.Base.extend({initialize:function(el,options){this.element=$(el);this.parent(options);},setNow:function(){for(var p in this.from)this.now[p]=this.css[p].getNow(this.from[p],this.to[p],this);},set:function(to){var parsed={};this.css={};for(var p in to){this.css[p]=Fx.CSS.select(p,to[p]);parsed[p]=this.css[p].parse(to[p]);}\nreturn this.parent(parsed);},start:function(obj){if(this.timer&&this.options.wait)return this;this.now={};this.css={};var from={},to={};for(var p in obj){var parsed=Fx.CSS.parse(this.element,p,obj[p]);from[p]=parsed.from;to[p]=parsed.to;this.css[p]=parsed.css;}\nreturn this.parent(from,to);},increase:function(){for(var p in this.now)this.element.setStyle(p,this.css[p].getValue(this.now[p],this.options.unit,p));}});Element.extend({effects:function(options){return new Fx.Styles(this,options);}});Fx.Elements=Fx.Base.extend({initialize:function(elements,options){this.elements=$$(elements);this.parent(options);},setNow:function(){for(var i in this.from){var iFrom=this.from[i],iTo=this.to[i],iCss=this.css[i],iNow=this.now[i]={};for(var p in iFrom)iNow[p]=iCss[p].getNow(iFrom[p],iTo[p],this);}},set:function(to){var parsed={};this.css={};for(var i in to){var iTo=to[i],iCss=this.css[i]={},iParsed=parsed[i]={};for(var p in iTo){iCss[p]=Fx.CSS.select(p,iTo[p]);iParsed[p]=iCss[p].parse(iTo[p]);}}\nreturn this.parent(parsed);},start:function(obj){if(this.timer&&this.options.wait)return this;this.now={};this.css={};var from={},to={};for(var i in obj){var iProps=obj[i],iFrom=from[i]={},iTo=to[i]={},iCss=this.css[i]={};for(var p in iProps){var parsed=Fx.CSS.parse(this.elements[i],p,iProps[p]);iFrom[p]=parsed.from;iTo[p]=parsed.to;iCss[p]=parsed.css;}}\nreturn this.parent(from,to);},increase:function(){for(var i in this.now){var iNow=this.now[i],iCss=this.css[i];for(var p in iNow)this.elements[i].setStyle(p,iCss[p].getValue(iNow[p],this.options.unit,p));}}});Fx.Scroll=Fx.Base.extend({options:{overflown:[],offset:{'x':0,'y':0},wheelStops:true},initialize:function(element,options){this.now=[];this.element=$(element);this.bound={'stop':this.stop.bind(this,false)};this.parent(options);if(this.options.wheelStops){this.addEvent('onStart',function(){document.addEvent('mousewheel',this.bound.stop);}.bind(this));this.addEvent('onComplete',function(){document.removeEvent('mousewheel',this.bound.stop);}.bind(this));}},setNow:function(){for(var i=0;i<2;i++)this.now[i]=this.compute(this.from[i],this.to[i]);},scrollTo:function(x,y){if(this.timer&&this.options.wait)return this;var el=this.element.getSize();var values={'x':x,'y':y};for(var z in el.size){var max=el.scrollSize[z]-el.size[z];if($chk(values[z]))values[z]=($type(values[z])=='number')?values[z].limit(0,max):max;else values[z]=el.scroll[z];values[z]+=this.options.offset[z];}\nreturn this.start([el.scroll.x,el.scroll.y],[values.x,values.y]);},toTop:function(){return this.scrollTo(false,0);},toBottom:function(){return this.scrollTo(false,'full');},toLeft:function(){return this.scrollTo(0,false);},toRight:function(){return this.scrollTo('full',false);},toElement:function(el){var parent=this.element.getPosition(this.options.overflown);var target=$(el).getPosition(this.options.overflown);return this.scrollTo(target.x-parent.x,target.y-parent.y);},increase:function(){this.element.scrollTo(this.now[0],this.now[1]);}});Fx.Slide=Fx.Base.extend({options:{mode:'vertical'},initialize:function(el,options){this.element=$(el);this.wrapper=new Element('div',{'styles':$extend(this.element.getStyles('margin'),{'overflow':'hidden'})}).injectAfter(this.element).adopt(this.element);this.element.setStyle('margin',0);this.setOptions(options);this.now=[];this.parent(this.options);this.open=true;this.addEvent('onComplete',function(){this.open=(this.now[0]===0);});if(window.webkit419)this.addEvent('onComplete',function(){if(this.open)this.element.remove().inject(this.wrapper);});},setNow:function(){for(var i=0;i<2;i++)this.now[i]=this.compute(this.from[i],this.to[i]);},vertical:function(){this.margin='margin-top';this.layout='height';this.offset=this.element.offsetHeight;},horizontal:function(){this.margin='margin-left';this.layout='width';this.offset=this.element.offsetWidth;},slideIn:function(mode){this[mode||this.options.mode]();return this.start([this.element.getStyle(this.margin).toInt(),this.wrapper.getStyle(this.layout).toInt()],[0,this.offset]);},slideOut:function(mode){this[mode||this.options.mode]();return this.start([this.element.getStyle(this.margin).toInt(),this.wrapper.getStyle(this.layout).toInt()],[-this.offset,0]);},hide:function(mode){this[mode||this.options.mode]();this.open=false;return this.set([-this.offset,0]);},show:function(mode){this[mode||this.options.mode]();this.open=true;return this.set([0,this.offset]);},toggle:function(mode){if(this.wrapper.offsetHeight==0||this.wrapper.offsetWidth==0)return this.slideIn(mode);return this.slideOut(mode);},increase:function(){this.element.setStyle(this.margin,this.now[0]+this.options.unit);this.wrapper.setStyle(this.layout,this.now[1]+this.options.unit);}});Fx.Transition=function(transition,params){params=params||[];if($type(params)!='array')params=[params];return $extend(transition,{easeIn:function(pos){return transition(pos,params);},easeOut:function(pos){return 1-transition(1-pos,params);},easeInOut:function(pos){return(pos<=0.5)?transition(2*pos,params)/2:(2-transition(2*(1-pos),params))/2;}});};Fx.Transitions=new Abstract({linear:function(p){return p;}});Fx.Transitions.extend=function(transitions){for(var transition in transitions){Fx.Transitions[transition]=new Fx.Transition(transitions[transition]);Fx.Transitions.compat(transition);}};Fx.Transitions.compat=function(transition){['In','Out','InOut'].each(function(easeType){Fx.Transitions[transition.toLowerCase()+easeType]=Fx.Transitions[transition]['ease'+easeType];});};Fx.Transitions.extend({Pow:function(p,x){return Math.pow(p,x[0]||6);},Expo:function(p){return Math.pow(2,8*(p-1));},Circ:function(p){return 1-Math.sin(Math.acos(p));},Sine:function(p){return 1-Math.sin((1-p)*Math.PI/2);},Back:function(p,x){x=x[0]||1.618;return Math.pow(p,2)*((x+1)*p-x);},Bounce:function(p){var value;for(var a=0,b=1;1;a+=b,b/=2){if(p>=(7-4*a)/11){value=-Math.pow((11-6*a-11*p)/4,2)+b*b;break;}}\nreturn value;},Elastic:function(p,x){return Math.pow(2,10*--p)*Math.cos(20*p*Math.PI*(x[0]||1)/3);}});['Quad','Cubic','Quart','Quint'].each(function(transition,i){Fx.Transitions[transition]=new Fx.Transition(function(p){return Math.pow(p,[i+2]);});Fx.Transitions.compat(transition);});var Drag={};Drag.Base=new Class({options:{handle:false,unit:'px',onStart:Class.empty,onBeforeStart:Class.empty,onComplete:Class.empty,onSnap:Class.empty,onDrag:Class.empty,limit:false,modifiers:{x:'left',y:'top'},grid:false,snap:6},initialize:function(el,options){this.setOptions(options);this.element=$(el);this.handle=$(this.options.handle)||this.element;this.mouse={'now':{},'pos':{}};this.value={'start':{},'now':{}};this.bound={'start':this.start.bindWithEvent(this),'check':this.check.bindWithEvent(this),'drag':this.drag.bindWithEvent(this),'stop':this.stop.bind(this)};this.attach();if(this.options.initialize)this.options.initialize.call(this);},attach:function(){this.handle.addEvent('mousedown',this.bound.start);return this;},detach:function(){this.handle.removeEvent('mousedown',this.bound.start);return this;},start:function(event){this.fireEvent('onBeforeStart',this.element);this.mouse.start=event.page;var limit=this.options.limit;this.limit={'x':[],'y':[]};for(var z in this.options.modifiers){if(!this.options.modifiers[z])continue;this.value.now[z]=this.element.getStyle(this.options.modifiers[z]).toInt();this.mouse.pos[z]=event.page[z]-this.value.now[z];if(limit&&limit[z]){for(var i=0;i<2;i++){if($chk(limit[z][i]))this.limit[z][i]=($type(limit[z][i])=='function')?limit[z][i]():limit[z][i];}}}\nif($type(this.options.grid)=='number')this.options.grid={'x':this.options.grid,'y':this.options.grid};document.addListener('mousemove',this.bound.check);document.addListener('mouseup',this.bound.stop);this.fireEvent('onStart',this.element);event.stop();},check:function(event){var distance=Math.round(Math.sqrt(Math.pow(event.page.x-this.mouse.start.x,2)+Math.pow(event.page.y-this.mouse.start.y,2)));if(distance>this.options.snap){document.removeListener('mousemove',this.bound.check);document.addListener('mousemove',this.bound.drag);this.drag(event);this.fireEvent('onSnap',this.element);}\nevent.stop();},drag:function(event){this.out=false;this.mouse.now=event.page;for(var z in this.options.modifiers){if(!this.options.modifiers[z])continue;this.value.now[z]=this.mouse.now[z]-this.mouse.pos[z];if(this.limit[z]){if($chk(this.limit[z][1])&&(this.value.now[z]>this.limit[z][1])){this.value.now[z]=this.limit[z][1];this.out=true;}else if($chk(this.limit[z][0])&&(this.value.now[z]<this.limit[z][0])){this.value.now[z]=this.limit[z][0];this.out=true;}}\nif(this.options.grid[z])this.value.now[z]-=(this.value.now[z]%this.options.grid[z]);this.element.setStyle(this.options.modifiers[z],this.value.now[z]+this.options.unit);}\nthis.fireEvent('onDrag',this.element);event.stop();},stop:function(){document.removeListener('mousemove',this.bound.check);document.removeListener('mousemove',this.bound.drag);document.removeListener('mouseup',this.bound.stop);this.fireEvent('onComplete',this.element);}});Drag.Base.implement(new Events,new Options);Element.extend({makeResizable:function(options){return new Drag.Base(this,$merge({modifiers:{x:'width',y:'height'}},options));}});Drag.Move=Drag.Base.extend({options:{droppables:[],container:false,overflown:[]},initialize:function(el,options){this.setOptions(options);this.element=$(el);this.droppables=$$(this.options.droppables);this.container=$(this.options.container);this.position={'element':this.element.getStyle('position'),'container':false};if(this.container)this.position.container=this.container.getStyle('position');if(!['relative','absolute','fixed'].contains(this.position.element))this.position.element='absolute';var top=this.element.getStyle('top').toInt();var left=this.element.getStyle('left').toInt();if(this.position.element=='absolute'&&!['relative','absolute','fixed'].contains(this.position.container)){top=$chk(top)?top:this.element.getTop(this.options.overflown);left=$chk(left)?left:this.element.getLeft(this.options.overflown);}else{top=$chk(top)?top:0;left=$chk(left)?left:0;}\nthis.element.setStyles({'top':top,'left':left,'position':this.position.element});this.parent(this.element);},start:function(event){this.overed=null;if(this.container){var cont=this.container.getCoordinates();var el=this.element.getCoordinates();if(this.position.element=='absolute'&&!['relative','absolute','fixed'].contains(this.position.container)){this.options.limit={'x':[cont.left,cont.right-el.width],'y':[cont.top,cont.bottom-el.height]};}else{this.options.limit={'y':[0,cont.height-el.height],'x':[0,cont.width-el.width]};}}\nthis.parent(event);},drag:function(event){this.parent(event);var overed=this.out?false:this.droppables.filter(this.checkAgainst,this).getLast();if(this.overed!=overed){if(this.overed)this.overed.fireEvent('leave',[this.element,this]);this.overed=overed?overed.fireEvent('over',[this.element,this]):null;}\nreturn this;},checkAgainst:function(el){el=el.getCoordinates(this.options.overflown);var now=this.mouse.now;return(now.x>el.left&&now.x<el.right&&now.y<el.bottom&&now.y>el.top);},stop:function(){if(this.overed&&!this.out)this.overed.fireEvent('drop',[this.element,this]);else this.element.fireEvent('emptydrop',this);this.parent();return this;}});Element.extend({makeDraggable:function(options){return new Drag.Move(this,options);}});var XHR=new Class({options:{method:'post',async:true,onRequest:Class.empty,onSuccess:Class.empty,onFailure:Class.empty,urlEncoded:true,encoding:'utf-8',autoCancel:false,headers:{}},setTransport:function(){this.transport=(window.XMLHttpRequest)?new XMLHttpRequest():(window.ie?new ActiveXObject('Microsoft.XMLHTTP'):false);return this;},initialize:function(options){this.setTransport().setOptions(options);this.options.isSuccess=this.options.isSuccess||this.isSuccess;this.headers={};if(this.options.urlEncoded&&this.options.method=='post'){var encoding=(this.options.encoding)?'; charset='+this.options.encoding:'';this.setHeader('Content-type','application/x-www-form-urlencoded'+encoding);}\nif(this.options.initialize)this.options.initialize.call(this);},onStateChange:function(){if(this.transport.readyState!=4||!this.running)return;this.running=false;var status=0;try{status=this.transport.status;}catch(e){};if(this.options.isSuccess.call(this,status))this.onSuccess();else this.onFailure();this.transport.onreadystatechange=Class.empty;},isSuccess:function(status){return((status>=200)&&(status<300));},onSuccess:function(){this.response={'text':this.transport.responseText,'xml':this.transport.responseXML};this.fireEvent('onSuccess',[this.response.text,this.response.xml]);this.callChain();},onFailure:function(){this.fireEvent('onFailure',this.transport);},setHeader:function(name,value){this.headers[name]=value;return this;},send:function(url,data){if(this.options.autoCancel)this.cancel();else if(this.running)return this;this.running=true;if(data&&this.options.method=='get'){url=url+(url.contains('?')?'&':'?')+data;data=null;}\nthis.transport.open(this.options.method.toUpperCase(),url,this.options.async);this.transport.onreadystatechange=this.onStateChange.bind(this);if((this.options.method=='post')&&this.transport.overrideMimeType)this.setHeader('Connection','close');$extend(this.headers,this.options.headers);for(var type in this.headers)try{this.transport.setRequestHeader(type,this.headers[type]);}catch(e){};this.fireEvent('onRequest');this.transport.send($pick(data,null));return this;},cancel:function(){if(!this.running)return this;this.running=false;this.transport.abort();this.transport.onreadystatechange=Class.empty;this.setTransport();this.fireEvent('onCancel');return this;}});XHR.implement(new Chain,new Events,new Options);var Ajax=XHR.extend({options:{data:null,update:null,onComplete:Class.empty,evalScripts:false,evalResponse:false},initialize:function(url,options){this.addEvent('onSuccess',this.onComplete);this.setOptions(options);this.options.data=this.options.data||this.options.postBody;if(!['post','get'].contains(this.options.method)){this._method='_method='+this.options.method;this.options.method='post';}\nthis.parent();this.setHeader('X-Requested-With','XMLHttpRequest');this.setHeader('Accept','text/javascript, text/html, application/xml, text/xml, */*');this.url=url;},onComplete:function(){if(this.options.update)$(this.options.update).empty().setHTML(this.response.text);if(this.options.evalScripts||this.options.evalResponse)this.evalScripts();this.fireEvent('onComplete',[this.response.text,this.response.xml],20);},request:function(data){data=data||this.options.data;switch($type(data)){case'element':data=$(data).toQueryString();break;case'object':data=Object.toQueryString(data);}\nif(this._method)data=(data)?[this._method,data].join('&'):this._method;return this.send(this.url,data);},evalScripts:function(){var script,scripts;if(this.options.evalResponse||(/(ecma|java)script/).test(this.getHeader('Content-type')))scripts=this.response.text;else{scripts=[];var regexp=/<script[^>]*>([\\s\\S]*?)<\\/script>/gi;while((script=regexp.exec(this.response.text)))scripts.push(script[1]);scripts=scripts.join('\\n');}\nif(scripts)(window.execScript)?window.execScript(scripts):window.setTimeout(scripts,0);},getHeader:function(name){try{return this.transport.getResponseHeader(name);}catch(e){};return null;}});Object.toQueryString=function(source){var queryString=[];for(var property in source)queryString.push(encodeURIComponent(property)+'='+encodeURIComponent(source[property]));return queryString.join('&');};Element.extend({send:function(options){return new Ajax(this.getProperty('action'),$merge({data:this.toQueryString()},options,{method:'post'})).request();}});var Cookie=new Abstract({options:{domain:false,path:false,duration:false,secure:false},set:function(key,value,options){options=$merge(this.options,options);value=encodeURIComponent(value);if(options.domain)value+='; domain='+options.domain;if(options.path)value+='; path='+options.path;if(options.duration){var date=new Date();date.setTime(date.getTime()+options.duration*24*60*60*1000);value+='; expires='+date.toGMTString();}\nif(options.secure)value+='; secure';document.cookie=key+'='+value;return $extend(options,{'key':key,'value':value});},get:function(key){var value=document.cookie.match('(?:^|;)\\\\s*'+key.escapeRegExp()+'=([^;]*)');return value?decodeURIComponent(value[1]):false;},remove:function(cookie,options){if($type(cookie)=='object')this.set(cookie.key,'',$merge(cookie,{duration:-1}));else this.set(cookie,'',$merge(options,{duration:-1}));}});var Json={toString:function(obj){switch($type(obj)){case'string':return'\"'+obj.replace(/([\"\\\\])/g,'\\\\$1')+'\"';case'array':return'['+obj.map(Json.toString).join(',')+']';case'object':var string=[];for(var property in obj)string.push(Json.toString(property)+':'+Json.toString(obj[property]));return'{'+string.join(',')+'}';case'number':if(isFinite(obj))break;case false:return'null';}\nreturn String(obj);},evaluate:function(str,secure){return(($type(str)!='string')||(secure&&!str.test(/^(\"(\\\\.|[^\"\\\\\\n\\r])*?\"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$/)))?null:eval('('+str+')');}};Json.Remote=XHR.extend({initialize:function(url,options){this.url=url;this.addEvent('onSuccess',this.onComplete);this.parent(options);this.setHeader('X-Request','JSON');},send:function(obj){return this.parent(this.url,'json='+Json.toString(obj));},onComplete:function(){this.fireEvent('onComplete',[Json.evaluate(this.response.text,this.options.secure)]);}});var Asset=new Abstract({javascript:function(source,properties){properties=$merge({'onload':Class.empty},properties);var script=new Element('script',{'src':source}).addEvents({'load':properties.onload,'readystatechange':function(){if(this.readyState=='complete')this.fireEvent('load');}});delete properties.onload;return script.setProperties(properties).inject(document.head);},css:function(source,properties){return new Element('link',$merge({'rel':'stylesheet','media':'screen','type':'text/css','href':source},properties)).inject(document.head);},image:function(source,properties){properties=$merge({'onload':Class.empty,'onabort':Class.empty,'onerror':Class.empty},properties);var image=new Image();image.src=source;var element=new Element('img',{'src':source});['load','abort','error'].each(function(type){var event=properties['on'+type];delete properties['on'+type];element.addEvent(type,function(){this.removeEvent(type,arguments.callee);event.call(this);});});if(image.width&&image.height)element.fireEvent('load',element,1);return element.setProperties(properties);},images:function(sources,options){options=$merge({onComplete:Class.empty,onProgress:Class.empty},options);if(!sources.push)sources=[sources];var images=[];var counter=0;sources.each(function(source){var img=new Asset.image(source,{'onload':function(){options.onProgress.call(this,counter);counter++;if(counter==sources.length)options.onComplete();}});images.push(img);});return new Elements(images);}});var Hash=new Class({length:0,initialize:function(object){this.obj=object||{};this.setLength();},get:function(key){return(this.hasKey(key))?this.obj[key]:null;},hasKey:function(key){return(key in this.obj);},set:function(key,value){if(!this.hasKey(key))this.length++;this.obj[key]=value;return this;},setLength:function(){this.length=0;for(var p in this.obj)this.length++;return this;},remove:function(key){if(this.hasKey(key)){delete this.obj[key];this.length--;}\nreturn this;},each:function(fn,bind){$each(this.obj,fn,bind);},extend:function(obj){$extend(this.obj,obj);return this.setLength();},merge:function(){this.obj=$merge.apply(null,[this.obj].extend(arguments));return this.setLength();},empty:function(){this.obj={};this.length=0;return this;},keys:function(){var keys=[];for(var property in this.obj)keys.push(property);return keys;},values:function(){var values=[];for(var property in this.obj)values.push(this.obj[property]);return values;}});function $H(obj){return new Hash(obj);};Hash.Cookie=Hash.extend({initialize:function(name,options){this.name=name;this.options=$extend({'autoSave':true},options||{});this.load();},save:function(){if(this.length==0){Cookie.remove(this.name,this.options);return true;}\nvar str=Json.toString(this.obj);if(str.length>4096)return false;Cookie.set(this.name,str,this.options);return true;},load:function(){this.obj=Json.evaluate(Cookie.get(this.name),true)||{};this.setLength();}});Hash.Cookie.Methods={};['extend','set','merge','empty','remove'].each(function(method){Hash.Cookie.Methods[method]=function(){Hash.prototype[method].apply(this,arguments);if(this.options.autoSave)this.save();return this;};});Hash.Cookie.implement(Hash.Cookie.Methods);var Color=new Class({initialize:function(color,type){type=type||(color.push?'rgb':'hex');var rgb,hsb;switch(type){case'rgb':rgb=color;hsb=rgb.rgbToHsb();break;case'hsb':rgb=color.hsbToRgb();hsb=color;break;default:rgb=color.hexToRgb(true);hsb=rgb.rgbToHsb();}\nrgb.hsb=hsb;rgb.hex=rgb.rgbToHex();return $extend(rgb,Color.prototype);},mix:function(){var colors=$A(arguments);var alpha=($type(colors[colors.length-1])=='number')?colors.pop():50;var rgb=this.copy();colors.each(function(color){color=new Color(color);for(var i=0;i<3;i++)rgb[i]=Math.round((rgb[i]/100*(100-alpha))+(color[i]/100*alpha));});return new Color(rgb,'rgb');},invert:function(){return new Color(this.map(function(value){return 255-value;}));},setHue:function(value){return new Color([value,this.hsb[1],this.hsb[2]],'hsb');},setSaturation:function(percent){return new Color([this.hsb[0],percent,this.hsb[2]],'hsb');},setBrightness:function(percent){return new Color([this.hsb[0],this.hsb[1],percent],'hsb');}});function $RGB(r,g,b){return new Color([r,g,b],'rgb');};function $HSB(h,s,b){return new Color([h,s,b],'hsb');};Array.extend({rgbToHsb:function(){var red=this[0],green=this[1],blue=this[2];var hue,saturation,brightness;var max=Math.max(red,green,blue),min=Math.min(red,green,blue);var delta=max-min;brightness=max/255;saturation=(max!=0)?delta/max:0;if(saturation==0){hue=0;}else{var rr=(max-red)/delta;var gr=(max-green)/delta;var br=(max-blue)/delta;if(red==max)hue=br-gr;else if(green==max)hue=2+rr-br;else hue=4+gr-rr;hue/=6;if(hue<0)hue++;}\nreturn[Math.round(hue*360),Math.round(saturation*100),Math.round(brightness*100)];},hsbToRgb:function(){var br=Math.round(this[2]/100*255);if(this[1]==0){return[br,br,br];}else{var hue=this[0]%360;var f=hue%60;var p=Math.round((this[2]*(100-this[1]))/10000*255);var q=Math.round((this[2]*(6000-this[1]*f))/600000*255);var t=Math.round((this[2]*(6000-this[1]*(60-f)))/600000*255);switch(Math.floor(hue/60)){case 0:return[br,t,p];case 1:return[q,br,p];case 2:return[p,br,t];case 3:return[p,q,br];case 4:return[t,p,br];case 5:return[br,p,q];}}\nreturn false;}});var Scroller=new Class({options:{area:20,velocity:1,onChange:function(x,y){this.element.scrollTo(x,y);}},initialize:function(element,options){this.setOptions(options);this.element=$(element);this.mousemover=([window,document].contains(element))?$(document.body):this.element;},start:function(){this.coord=this.getCoords.bindWithEvent(this);this.mousemover.addListener('mousemove',this.coord);},stop:function(){this.mousemover.removeListener('mousemove',this.coord);this.timer=$clear(this.timer);},getCoords:function(event){this.page=(this.element==window)?event.client:event.page;if(!this.timer)this.timer=this.scroll.periodical(50,this);},scroll:function(){var el=this.element.getSize();var pos=this.element.getPosition();var change={'x':0,'y':0};for(var z in this.page){if(this.page[z]<(this.options.area+pos[z])&&el.scroll[z]!=0)\nchange[z]=(this.page[z]-this.options.area-pos[z])*this.options.velocity;else if(this.page[z]+this.options.area>(el.size[z]+pos[z])&&el.scroll[z]+el.size[z]!=el.scrollSize[z])\nchange[z]=(this.page[z]-el.size[z]+this.options.area-pos[z])*this.options.velocity;}\nif(change.y||change.x)this.fireEvent('onChange',[el.scroll.x+change.x,el.scroll.y+change.y]);}});Scroller.implement(new Events,new Options);var Slider=new Class({options:{onChange:Class.empty,onComplete:Class.empty,onTick:function(pos){this.knob.setStyle(this.p,pos);},mode:'horizontal',steps:100,offset:0},initialize:function(el,knob,options){this.element=$(el);this.knob=$(knob);this.setOptions(options);this.previousChange=-1;this.previousEnd=-1;this.step=-1;this.element.addEvent('mousedown',this.clickedElement.bindWithEvent(this));var mod,offset;switch(this.options.mode){case'horizontal':this.z='x';this.p='left';mod={'x':'left','y':false};offset='offsetWidth';break;case'vertical':this.z='y';this.p='top';mod={'x':false,'y':'top'};offset='offsetHeight';}\nthis.max=this.element[offset]-this.knob[offset]+(this.options.offset*2);this.half=this.knob[offset]/2;this.getPos=this.element['get'+this.p.capitalize()].bind(this.element);this.knob.setStyle('position','relative').setStyle(this.p,-this.options.offset);var lim={};lim[this.z]=[-this.options.offset,this.max-this.options.offset];this.drag=new Drag.Base(this.knob,{limit:lim,modifiers:mod,snap:0,onStart:function(){this.draggedKnob();}.bind(this),onDrag:function(){this.draggedKnob();}.bind(this),onComplete:function(){this.draggedKnob();this.end();}.bind(this)});if(this.options.initialize)this.options.initialize.call(this);},set:function(step){this.step=step.limit(0,this.options.steps);this.checkStep();this.end();this.fireEvent('onTick',this.toPosition(this.step));return this;},clickedElement:function(event){var position=event.page[this.z]-this.getPos()-this.half;position=position.limit(-this.options.offset,this.max-this.options.offset);this.step=this.toStep(position);this.checkStep();this.end();this.fireEvent('onTick',position);},draggedKnob:function(){this.step=this.toStep(this.drag.value.now[this.z]);this.checkStep();},checkStep:function(){if(this.previousChange!=this.step){this.previousChange=this.step;this.fireEvent('onChange',this.step);}},end:function(){if(this.previousEnd!==this.step){this.previousEnd=this.step;this.fireEvent('onComplete',this.step+'');}},toStep:function(position){return Math.round((position+this.options.offset)/this.max*this.options.steps);},toPosition:function(step){return this.max*step/this.options.steps;}});Slider.implement(new Events);Slider.implement(new Options);var SmoothScroll=Fx.Scroll.extend({initialize:function(options){this.parent(window,options);this.links=(this.options.links)?$$(this.options.links):$$(document.links);var location=window.location.href.match(/^[^#]*/)[0]+'#';this.links.each(function(link){if(link.href.indexOf(location)!=0)return;var anchor=link.href.substr(location.length);if(anchor&&$(anchor))this.useLink(link,anchor);},this);if(!window.webkit419)this.addEvent('onComplete',function(){window.location.hash=this.anchor;});},useLink:function(link,anchor){link.addEvent('click',function(event){this.anchor=anchor;this.toElement(anchor);event.stop();}.bindWithEvent(this));}});var Sortables=new Class({options:{handles:false,onStart:Class.empty,onComplete:Class.empty,ghost:true,snap:3,onDragStart:function(element,ghost){ghost.setStyle('opacity',0.7);element.setStyle('opacity',0.7);},onDragComplete:function(element,ghost){element.setStyle('opacity',1);ghost.remove();this.trash.remove();}},initialize:function(list,options){this.setOptions(options);this.list=$(list);this.elements=this.list.getChildren();this.handles=(this.options.handles)?$$(this.options.handles):this.elements;this.bound={'start':[],'moveGhost':this.moveGhost.bindWithEvent(this)};for(var i=0,l=this.handles.length;i<l;i++){this.bound.start[i]=this.start.bindWithEvent(this,this.elements[i]);}\nthis.attach();if(this.options.initialize)this.options.initialize.call(this);this.bound.move=this.move.bindWithEvent(this);this.bound.end=this.end.bind(this);},attach:function(){this.handles.each(function(handle,i){handle.addEvent('mousedown',this.bound.start[i]);},this);},detach:function(){this.handles.each(function(handle,i){handle.removeEvent('mousedown',this.bound.start[i]);},this);},start:function(event,el){this.active=el;this.coordinates=this.list.getCoordinates();if(this.options.ghost){var position=el.getPosition();this.offset=event.page.y-position.y;this.trash=new Element('div').inject(document.body);this.ghost=el.clone().inject(this.trash).setStyles({'position':'absolute','left':position.x,'top':event.page.y-this.offset});document.addListener('mousemove',this.bound.moveGhost);this.fireEvent('onDragStart',[el,this.ghost]);}\ndocument.addListener('mousemove',this.bound.move);document.addListener('mouseup',this.bound.end);this.fireEvent('onStart',el);event.stop();},moveGhost:function(event){var value=event.page.y-this.offset;value=value.limit(this.coordinates.top,this.coordinates.bottom-this.ghost.offsetHeight);this.ghost.setStyle('top',value);event.stop();},move:function(event){var now=event.page.y;this.previous=this.previous||now;var up=((this.previous-now)>0);var prev=this.active.getPrevious();var next=this.active.getNext();if(prev&&up&&now<prev.getCoordinates().bottom)this.active.injectBefore(prev);if(next&&!up&&now>next.getCoordinates().top)this.active.injectAfter(next);this.previous=now;},serialize:function(converter){return this.list.getChildren().map(converter||function(el){return this.elements.indexOf(el);},this);},end:function(){this.previous=null;document.removeListener('mousemove',this.bound.move);document.removeListener('mouseup',this.bound.end);if(this.options.ghost){document.removeListener('mousemove',this.bound.moveGhost);this.fireEvent('onDragComplete',[this.active,this.ghost]);}\nthis.fireEvent('onComplete',this.active);}});Sortables.implement(new Events,new Options);var Tips=new Class({options:{onShow:function(tip){tip.setStyle('visibility','visible');},onHide:function(tip){tip.setStyle('visibility','hidden');},maxTitleChars:30,showDelay:100,hideDelay:100,className:'tool',offsets:{'x':16,'y':16},fixed:false},initialize:function(elements,options){this.setOptions(options);this.toolTip=new Element('div',{'class':this.options.className+'-tip','styles':{'position':'absolute','top':'0','left':'0','visibility':'hidden'}}).inject(document.body);this.wrapper=new Element('div').inject(this.toolTip);$$(elements).each(this.build,this);if(this.options.initialize)this.options.initialize.call(this);},build:function(el){el.$tmp.myTitle=(el.href&&el.getTag()=='a')?el.href.replace('http://',''):(el.rel||false);if(el.title){var dual=el.title.split('::');if(dual.length>1){el.$tmp.myTitle=dual[0].trim();el.$tmp.myText=dual[1].trim();}else{el.$tmp.myText=el.title;}\nel.removeAttribute('title');}else{el.$tmp.myText=false;}\nif(el.$tmp.myTitle&&el.$tmp.myTitle.length>this.options.maxTitleChars)el.$tmp.myTitle=el.$tmp.myTitle.substr(0,this.options.maxTitleChars-1)+\"&hellip;\";el.addEvent('mouseenter',function(event){this.start(el);if(!this.options.fixed)this.locate(event);else this.position(el);}.bind(this));if(!this.options.fixed)el.addEvent('mousemove',this.locate.bindWithEvent(this));var end=this.end.bind(this);el.addEvent('mouseleave',end);el.addEvent('trash',end);},start:function(el){this.wrapper.empty();if(el.$tmp.myTitle){this.title=new Element('span').inject(new Element('div',{'class':this.options.className+'-title'}).inject(this.wrapper)).setHTML(el.$tmp.myTitle);}\nif(el.$tmp.myText){this.text=new Element('span').inject(new Element('div',{'class':this.options.className+'-text'}).inject(this.wrapper)).setHTML(el.$tmp.myText);}\n$clear(this.timer);this.timer=this.show.delay(this.options.showDelay,this);},end:function(event){$clear(this.timer);this.timer=this.hide.delay(this.options.hideDelay,this);},position:function(element){var pos=element.getPosition();this.toolTip.setStyles({'left':pos.x+this.options.offsets.x,'top':pos.y+this.options.offsets.y});},locate:function(event){var win={'x':window.getWidth(),'y':window.getHeight()};var scroll={'x':window.getScrollLeft(),'y':window.getScrollTop()};var tip={'x':this.toolTip.offsetWidth,'y':this.toolTip.offsetHeight};var prop={'x':'left','y':'top'};for(var z in prop){var pos=event.page[z]+this.options.offsets[z];if((pos+tip[z]-scroll[z])>win[z])pos=event.page[z]-this.options.offsets[z]-tip[z];this.toolTip.setStyle(prop[z],pos);};},show:function(){if(this.options.timeout)this.timer=this.hide.delay(this.options.timeout,this);this.fireEvent('onShow',[this.toolTip]);},hide:function(){this.fireEvent('onHide',[this.toolTip]);}});Tips.implement(new Events,new Options);var Group=new Class({initialize:function(){this.instances=$A(arguments);this.events={};this.checker={};},addEvent:function(type,fn){this.checker[type]=this.checker[type]||{};this.events[type]=this.events[type]||[];if(this.events[type].contains(fn))return false;else this.events[type].push(fn);this.instances.each(function(instance,i){instance.addEvent(type,this.check.bind(this,[type,instance,i]));},this);return this;},check:function(type,instance,i){this.checker[type][i]=true;var every=this.instances.every(function(current,j){return this.checker[type][j]||false;},this);if(!every)return;this.checker[type]={};this.events[type].each(function(event){event.call(this,this.instances,instance);},this);}});var Accordion=Fx.Elements.extend({options:{onActive:Class.empty,onBackground:Class.empty,display:0,show:false,height:true,width:false,opacity:true,fixedHeight:false,fixedWidth:false,wait:false,alwaysHide:false},initialize:function(){var options,togglers,elements,container;$each(arguments,function(argument,i){switch($type(argument)){case'object':options=argument;break;case'element':container=$(argument);break;default:var temp=$$(argument);if(!togglers)togglers=temp;else elements=temp;}});this.togglers=togglers||[];this.elements=elements||[];this.container=$(container);this.setOptions(options);this.previous=-1;if(this.options.alwaysHide)this.options.wait=true;if($chk(this.options.show)){this.options.display=false;this.previous=this.options.show;}\nif(this.options.start){this.options.display=false;this.options.show=false;}\nthis.effects={};if(this.options.opacity)this.effects.opacity='fullOpacity';if(this.options.width)this.effects.width=this.options.fixedWidth?'fullWidth':'offsetWidth';if(this.options.height)this.effects.height=this.options.fixedHeight?'fullHeight':'scrollHeight';for(var i=0,l=this.togglers.length;i<l;i++)this.addSection(this.togglers[i],this.elements[i]);this.elements.each(function(el,i){if(this.options.show===i){this.fireEvent('onActive',[this.togglers[i],el]);}else{for(var fx in this.effects)el.setStyle(fx,0);}},this);this.parent(this.elements);if($chk(this.options.display))this.display(this.options.display);},addSection:function(toggler,element,pos){toggler=$(toggler);element=$(element);var test=this.togglers.contains(toggler);var len=this.togglers.length;this.togglers.include(toggler);this.elements.include(element);if(len&&(!test||pos)){pos=$pick(pos,len-1);toggler.injectBefore(this.togglers[pos]);element.injectAfter(toggler);}else if(this.container&&!test){toggler.inject(this.container);element.inject(this.container);}\nvar idx=this.togglers.indexOf(toggler);toggler.addEvent('click',this.display.bind(this,idx));if(this.options.height)element.setStyles({'padding-top':0,'border-top':'none','padding-bottom':0,'border-bottom':'none'});if(this.options.width)element.setStyles({'padding-left':0,'border-left':'none','padding-right':0,'border-right':'none'});element.fullOpacity=1;if(this.options.fixedWidth)element.fullWidth=this.options.fixedWidth;if(this.options.fixedHeight)element.fullHeight=this.options.fixedHeight;element.setStyle('overflow','hidden');if(!test){for(var fx in this.effects)element.setStyle(fx,0);}\nreturn this;},display:function(index){index=($type(index)=='element')?this.elements.indexOf(index):index;if((this.timer&&this.options.wait)||(index===this.previous&&!this.options.alwaysHide))return this;this.previous=index;var obj={};this.elements.each(function(el,i){obj[i]={};var hide=(i!=index)||(this.options.alwaysHide&&(el.offsetHeight>0));this.fireEvent(hide?'onBackground':'onActive',[this.togglers[i],el]);for(var fx in this.effects)obj[i][fx]=hide?0:el[this.effects[fx]];},this);return this.start(obj);},showThisHideOpen:function(index){return this.display(index);}});Fx.Accordion=Accordion;"
          },
          "redirectURL": "",
          "headersSize": 356,
          "bodySize": 20348
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 6,
          "receive": 2
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 4,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_js/modal.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 273,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 07:16:58 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 10588,
            "text": "/**\n * SqueezeBox - Expandable Lightbox\n *\n * Allows to open various content as modal,\n * centered and animated box.\n *\n * Inspired by\n *  ... Lokesh Dhakar\t- The original Lightbox v2\n *  ... Cody Lindley\t- ThickBox\n *\n * @version\t\t1.0rc1\n *\n * @license\t\tMIT-style license\n * @author\t\tHarald Kirschner <mail [at] digitarald.de>\n * @copyright\tAuthor\n */\nvar SqueezeBox = {\n\n\tpresets: {\n\t\tsize: {x: 600, y: 450},\n\t\tsizeLoading: {x: 200, y: 150},\n\t\tmarginInner: {x: 20, y: 20},\n\t\tmarginImage: {x: 150, y: 200},\n\t\thandler: false,\n\t\tadopt: null,\n\t\tcloseWithOverlay: true,\n\t\tzIndex: 65555,\n\t\toverlayOpacity: 0.7,\n\t\tclassWindow: '',\n\t\tclassOverlay: '',\n\t\tdisableFx: false,\n\t\tonOpen: Class.empty,\n\t\tonClose: Class.empty,\n\t\tonUpdate: Class.empty,\n\t\tonResize: Class.empty,\n\t\tonMove: Class.empty,\n\t\tonShow: Class.empty,\n\t\tonHide: Class.empty,\n\t\tfxOverlayDuration: 250,\n\t\tfxResizeDuration: 750,\n\t\tfxContentDuration: 250,\n\t\tajaxOptions: {}\n\t},\n\n\tinitialize: function(options) {\n\t\tif (this.options) return this;\n\t\tthis.presets = $merge(this.presets, options)\n\t\tthis.setOptions(this.presets);\n\t\tthis.build();\n\t\tthis.listeners = {\n\t\t\twindow: this.reposition.bind(this, [null]),\n\t\t\tclose: this.close.bind(this),\n\t\t\tkey: this.onkeypress.bind(this)};\n\t\tthis.isOpen = this.isLoading = false;\n\t\tthis.window.close = this.listeners.close;\n\t\treturn this;\n\t},\n\n\tbuild: function() {\n\t\tthis.overlay = new Element('div', {\n\t\t\tid: 'sbox-overlay',\n\t\t\tstyles: {\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: this.options.zIndex\n\t\t\t}\n\t\t});\n\t\tthis.content = new Element('div', {\n\t\t\tid: 'sbox-content'\n\t\t});\n\t\tthis.btnClose = new Element('a', {\n\t\t\tid: 'sbox-btn-close',\n\t\t\thref: '#'\n\t\t});\n\t\tthis.window = new Element('div', {\n\t\t\tid: 'sbox-window',\n\t\t\tstyles: {\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: this.options.zIndex + 2\n\t\t\t}\n\t\t}).adopt(this.btnClose, this.content);\n\n\t\tif (!window.ie6) {\n\t\t\tthis.overlay.setStyles({\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t});\n\t\t\tthis.window.setStyles({\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: '50%',\n\t\t\t\tleft: '50%'\n\t\t\t});\n\t\t} else {\n\t\t\tthis.overlay.style.setExpression('marginTop', 'document.documentElement.scrollTop + \"px\"');\n\t\t\tthis.window.style.setExpression('marginTop', '0 - parseInt(this.offsetHeight / 2) + document.documentElement.scrollTop + \"px\"');\n\n\t\t\tthis.overlay.setStyles({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: '0%',\n\t\t\t\tleft: '0%'\n\t\t\t\t//,marginTop: \"expression(document.documentElement.scrollTop + 'px')\"\n\t\t\t});\n\n\t\t\tthis.window.setStyles({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: '0%',\n\t\t\t\tleft: '0%'\n\t\t\t\t//,marginTop: \"(expression(0 - parseInt(this.offsetHeight / 2) + document.documentElement.scrollTop + 'px')\"\n\t\t\t});\n\t\t}\n\n\t\t$(document.body).adopt(this.overlay, this.window);\n\n\t\tthis.fx = {\n\t\t\toverlay: this.overlay.effect('opacity', {\n\t\t\t\tduration: this.options.fxOverlayDuration,\n\t\t\t\twait: false}).set(0),\n\t\t\twindow: this.window.effects({\n\t\t\t\tduration: this.options.fxResizeDuration,\n\t\t\t\twait: false}),\n\t\t\tcontent: this.content.effect('opacity', {\n\t\t\t\tduration: this.options.fxContentDuration,\n\t\t\t\twait: false}).set(0)\n\t\t};\n\t},\n\n\taddClick: function(el) {\n\t\treturn el.addEvent('click', function() {\n\t\t\tif (this.fromElement(el)) return false;\n\t\t}.bind(this));\n\t},\n\n\tfromElement: function(el, options) {\n\t\tthis.initialize();\n\t\tthis.element = $(el);\n\t\tif (this.element && this.element.rel) options = $merge(options || {}, Json.evaluate(this.element.rel));\n\t\tthis.setOptions(this.presets, options);\n\t\tthis.assignOptions();\n\t\tthis.url = (this.element ? (this.options.url || this.element.href) : el) || '';\n\n\t\tif (this.options.handler) {\n\t\t\tvar handler = this.options.handler;\n\t\t\treturn this.setContent(handler, this.parsers[handler].call(this, true));\n\t\t}\n\t\tvar res = false;\n\t\tfor (var key in this.parsers) {\n\t\t\tif ((res = this.parsers[key].call(this))) return this.setContent(key, res);\n\t\t}\n\t\treturn this;\n\t},\n\n\tassignOptions: function() {\n\t\tthis.overlay.setProperty('class', this.options.classOverlay);\n\t\tthis.window.setProperty('class', this.options.classWindow);\n\t},\n\n\tclose: function(e) {\n\t\tif (e) new Event(e).stop();\n\t\tif (!this.isOpen) return this;\n\t\tthis.fx.overlay.start(0).chain(this.toggleOverlay.bind(this));\n\t\tthis.window.setStyle('display', 'none');\n\t\tthis.trashImage();\n\t\tthis.toggleListeners();\n\t\tthis.isOpen = null;\n\t\tthis.fireEvent('onClose', [this.content]).removeEvents();\n\t\tthis.options = {};\n\t\tthis.setOptions(this.presets).callChain();\n\t\treturn this;\n\t},\n\n\tonError: function() {\n\t\tif (this.image) this.trashImage();\n\t\tthis.setContent('Error during loading');\n\t},\n\n\ttrashImage: function() {\n\t\tif (this.image) this.image = this.image.onload = this.image.onerror = this.image.onabort = null;\n\t},\n\n\tsetContent: function(handler, content) {\n\t\tthis.content.setProperty('class', 'sbox-content-' + handler);\n\t\tthis.applyTimer = this.applyContent.delay(this.fx.overlay.options.duration, this, [this.handlers[handler].call(this, content)]);\n\t\tif (this.overlay.opacity) return this;\n\t\tthis.toggleOverlay(true);\n\t\tthis.fx.overlay.start(this.options.overlayOpacity);\n\t\tthis.reposition();\n\t\treturn this;\n\t},\n\n\tapplyContent: function(content, size) {\n\t\tthis.applyTimer = $clear(this.applyTimer);\n\t\tthis.hideContent();\n\t\tif (!content) this.toggleLoading(true);\n\t\telse {\n\t\t\tif (this.isLoading) this.toggleLoading(false);\n\t\t\tthis.fireEvent('onUpdate', [this.content], 20);\n\t\t}\n\t\tthis.content.empty()[['string', 'array', false].contains($type(content)) ? 'setHTML' : 'adopt'](content || '');\n\t\tthis.callChain();\n\t\tif (!this.isOpen) {\n\t\t\tthis.toggleListeners(true);\n\t\t\tthis.resize(size, true);\n\t\t\tthis.isOpen = true;\n\t\t\tthis.fireEvent('onOpen', [this.content]);\n\t\t} else this.resize(size);\n\t},\n\n\tresize: function(size, instantly) {\n\t\tvar sizes = window.getSize();\n\t\tthis.size = $merge(this.isLoading ? this.options.sizeLoading : this.options.size, size);\n\t\tvar to = {\n\t\t\twidth: this.size.x,\n\t\t\theight: this.size.y,\n\t\t\tmarginLeft: - this.size.x / 2,\n\t\t\tmarginTop: - this.size.y / 2\n\t\t\t//left: (sizes.scroll.x + (sizes.size.x - this.size.x - this.options.marginInner.x) / 2).toInt(),\n\t\t\t//top: (sizes.scroll.y + (sizes.size.y - this.size.y - this.options.marginInner.y) / 2).toInt()\n\t\t};\n\t\t$clear(this.showTimer || null);\n\t\tthis.hideContent();\n\t\tif (!instantly) this.fx.window.start(to).chain(this.showContent.bind(this));\n\t\telse {\n\t\t\tthis.window.setStyles(to).setStyle('display', '');\n\t\t\tthis.showTimer = this.showContent.delay(50, this);\n\t\t}\n\t\tthis.reposition(sizes);\n\t},\n\n\ttoggleListeners: function(state) {\n\t\tvar task = state ? 'addEvent' : 'removeEvent';\n\t\tthis.btnClose[task]('click', this.listeners.close);\n\t\tif (this.options.closeWithOverlay) this.overlay[task]('click', this.listeners.close);\n\t\tdocument[task]('keydown', this.listeners.key);\n\t\twindow[task]('resize', this.listeners.window);\n\t\twindow[task]('scroll', this.listeners.window);\n\t},\n\n\ttoggleLoading: function(state) {\n\t\tthis.isLoading = state;\n\t\tthis.window[state ? 'addClass' : 'removeClass']('sbox-loading');\n\t\tif (state) this.fireEvent('onLoading', [this.window]);\n\t},\n\n\ttoggleOverlay: function(state) {\n\t\tthis.overlay.setStyle('display', state ? '' : 'none');\n\t\t$(document.body)[state ? 'addClass' : 'removeClass']('body-overlayed');\n\t},\n\n\tshowContent: function() {\n\t\tif (this.content.opacity) this.fireEvent('onShow', [this.window]);\n\t\tthis.fx.content.start(1);\n\t},\n\n\thideContent: function() {\n\t\tif (!this.content.opacity) this.fireEvent('onHide', [this.window]);\n\t\tthis.fx.content.stop().set(0);\n\t},\n\n\tonkeypress: function(e) {\n\t\tswitch (e.key) {\n\t\t\tcase 'esc':\n\t\t\tcase 'x':\n\t\t\t\tthis.close();\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\treposition: function(sizes) {\n\t\tsizes = sizes || window.getSize();\n\t\tthis.overlay.setStyles({\n\t\t\t//'left': sizes.scroll.x, 'top': sizes.scroll.y,\n\t\t\twidth: sizes.size.x,\n\t\t\theight: sizes.size.y\n\t\t});\n\t\t/*\n\t\tthis.window.setStyles({\n\t\t\tleft: (sizes.scroll.x + (sizes.size.x - this.window.offsetWidth) / 2).toInt(),\n\t\t\ttop: (sizes.scroll.y + (sizes.size.y - this.window.offsetHeight) / 2).toInt()\n\t\t});\n\t\t*/\n\t\tthis.fireEvent('onMove', [this.overlay, this.window, sizes]);\n\t},\n\n\tremoveEvents: function(type){\n\t\tif (!this.$events) return this;\n\t\tif (!type) this.$events = null;\n\t\telse if (this.$events[type]) this.$events[type] = null;\n\t\treturn this;\n\t},\n\n\tparsers: {\n\t\t'image': function(preset) {\n\t\t\treturn (preset || this.url.test(/\\.(jpg|jpeg|png|gif|bmp)$/i)) ? this.url : false;\n\t\t},\n\t\t'adopt': function(preset) {\n\t\t\tif ($(this.options.adopt)) return $(this.options.adopt);\n\t\t\tif (preset || ($(this.element) && !this.element.parentNode)) return $(this.element);\n\t\t\tvar bits = this.url.match(/#([\\w-]+)$/);\n\t\t\treturn bits ? $(bits[1]) : false;\n\t\t},\n\t\t'url': function(preset) {\n\t\t\treturn (preset || (this.url && !this.url.test(/^javascript:/i))) ? this.url: false;\n\t\t},\n\t\t'iframe': function(preset) {\n\t\t\treturn (preset || this.url) ? this.url: false;\n\t\t},\n\t\t'string': function(preset) {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\thandlers: {\n\t\t'image': function(url) {\n\t\t\tthis.image = new Image();\n\t\t\tvar events = {\n\t\t\t\tloaded: function() {\n\t\t\t\t\tvar win = {x: window.getWidth() - this.options.marginImage.x, y: window.getHeight() - this.options.marginImage.y};\n\t\t\t\t\tvar size = {x: this.image.width, y: this.image.height};\n\t\t\t\t\tfor (var i = 0; i < 2; i++)\n\t\t\t\t\t\tif (size.x > win.x) {\n\t\t\t\t\t\t\tsize.y *= win.x / size.x;\n\t\t\t\t\t\t\tsize.x = win.x;\n\t\t\t\t\t\t} else if (size.y > win.y) {\n\t\t\t\t\t\t\tsize.x *= win.y / size.y;\n\t\t\t\t\t\t\tsize.y = win.y;\n\t\t\t\t\t\t}\n\t\t\t\t\tsize = {x: parseInt(size.x), y: parseInt(size.y)};\n\t\t\t\t\tif (window.webkit419) this.image = new Element('img', {'src': this.image.src});\n\t\t\t\t\telse $(this.image);\n\t\t\t\t\tthis.image.setProperties({\n\t\t\t\t\t\t'width': size.x,\n\t\t\t\t\t\t'height': size.y});\n\t\t\t\t\tthis.applyContent(this.image, size);\n\t\t\t\t}.bind(this),\n\t\t\t\tfailed: this.onError.bind(this)\n\t\t\t};\n\t\t\t(function() {\n\t\t\t\tthis.src = url;\n\t\t\t}).delay(10, this.image);\n\t\t\tthis.image.onload = events.loaded;\n\t\t\tthis.image.onerror = this.image.onabort = events.failed;\n\t\t},\n\t\t'adopt': function(el) {\n\t\t\treturn el.clone();\n\t\t},\n\t\t'url': function(url) {\n\t\t\tthis.ajax = new Ajax(url, this.options.ajaxOptions);\n\t\t\tthis.ajax.addEvent('onSuccess', function(resp) {\n\t\t\t\tthis.applyContent(resp);\n\t\t\t\tthis.ajax = null;\n\t\t\t}.bind(this));\n\t\t\tthis.ajax.addEvent('onFailure', this.onError.bind(this));\n\t\t\tthis.ajax.request.delay(10, this.ajax);\n\t\t},\n\t\t'iframe': function(url) {\n\t\t\treturn new Element('iframe', {\n\t\t\t\t'src': url,\n\t\t\t\t'frameBorder': 0,\n\t\t\t\t'width': this.options.size.x,\n\t\t\t\t'height': this.options.size.y\n\t\t\t});\n\t\t},\n\t\t'string': function(str) {\n\t\t\treturn str;\n\t\t}\n\t},\n\n\textend: $extend\n};\n\nSqueezeBox.extend(SqueezeBox, Events.prototype);\nSqueezeBox.extend(SqueezeBox, Options.prototype);\nSqueezeBox.extend(SqueezeBox, Chain.prototype);"
          },
          "redirectURL": "",
          "headersSize": 356,
          "bodySize": 3111
        },
        "cache": {},
        "timings": {
          "blocked": 3,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 1,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 25,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/components/com_k2/js/k2.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 287,
          "bodySize": -1
        },
        "response": {
          "status": 404,
          "statusText": "Not Found",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/html; charset=UTF-8"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Content-Length",
              "value": "19"
            }
          ],
          "content": {
            "mimeType": "text/html",
            "size": 19,
            "text": "Wrong request (404)"
          },
          "redirectURL": "",
          "headersSize": 218,
          "bodySize": 19
        },
        "cache": {},
        "timings": {
          "blocked": 3,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 22,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_js/caption.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 275,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 07:16:58 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 1963,
            "text": "/**\n* @version\t\t$Id: caption.js 5263 2006-10-02 01:25:24Z webImagery $\n* @copyright\tCopyright (C) 2005 - 2010 Open Source Matters. All rights reserved.\n* @license\t\tGNU/GPL, see LICENSE.php\n* Joomla! is free software. This version may have been modified pursuant\n* to the GNU General Public License, and as distributed it includes or\n* is derivative of works licensed under the GNU General Public License or\n* other free or open source software licenses.\n* See COPYRIGHT.php for copyright notices and details.\n*/\n\n/**\n* JCaption javascript behavior\n*\n* Used for displaying image captions\n*\n* @package\tJoomla\n* @since\t1.5\n* @version\t1.0\n*/\nvar JCaption = new Class({\n\tinitialize: function(selector)\n\t{\n\t\tthis.selector = selector;\n\n\t\tvar images = $$(selector);\n\t\timages.each(function(image){ this.createCaption(image); }, this);\n\t},\n\n\tcreateCaption: function(element)\n\t{\n\t\tvar caption   = document.createTextNode(element.title);\n\t\tvar container = document.createElement(\"div\");\n\t\tvar text      = document.createElement(\"p\");\n\t\tvar width     = element.getAttribute(\"width\");\n\t\tvar align     = element.getAttribute(\"align\");\n\n\t\tif(!width) {\n\t\t\twidth = element.width;\n\t\t}\n\n\t\t//Windows fix\n\t\tif (!align)\n\t\t\talign = element.getStyle(\"float\");  // Rest of the world fix\n\t\tif (!align) // IE DOM Fix\n\t\t\talign = element.style.styleFloat;\n\n\t\tif (align==\"\") {\n\t\t\talign=\"none\";\n\t\t}\n\n\t\ttext.appendChild(caption);\n\t\ttext.className = this.selector.replace('.', '_');\n\n\t\telement.parentNode.insertBefore(container, element);\n\t\tcontainer.appendChild(element);\n\t\tif ( element.title != \"\" ) {\n\t\t\tcontainer.appendChild(text);\n\t\t}\n\t\tcontainer.className   = this.selector.replace('.', '_');\n\t\tcontainer.className   = container.className + \" \" + align;\n\t\tcontainer.setAttribute(\"style\",\"float:\"+align);\n\n\t\tcontainer.style.width = width + \"px\";\n\n\t}\n});\n\ndocument.caption = null;\nwindow.addEvent('load', function() {\n\tvar caption = new JCaption('img.caption')\n\tdocument.caption = caption\n});\n"
          },
          "redirectURL": "",
          "headersSize": 356,
          "bodySize": 921
        },
        "cache": {},
        "timings": {
          "blocked": 4,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 1,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 7,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/_css/dropdown.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 304,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 07:47:34 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 938,
            "text": "ul.menu li.hover {\n\t\n}\nul.menu ul li {\n\tfloat:none;\n\tborder:none;\n\tdisplay:block;\n\tmargin: 0;\n}\nul.menu li.hover li {border:none;}\nul.menu li ul {\n\tposition:absolute;\n\ttop:26px;\n\tleft:-9999px;\n\twidth: 190px;\n\tmargin: 0px;\n\tpadding: 0px;\n\tpadding-top:4px;\n\tbackground:url('../ce_images/main/pltopbg.png') no-repeat 0 0;\n}\nul.menu li:hover ul {left:-6px;}\n\nul.menu li ul li{\n\tbackground:url('../ce_images/main/plbodybg.png') repeat-y ;\n\tposition:relative;\n\theight:auto;\n\tmin-height:21px;\n\twidth:190px;\n}\n\nul.menu li ul li a{\n\twidth:190px;\n\theight:21px;\n\tdisplay:block;\n\t-moz-border-radius: 3px;\n\t-webkit-border-radius: 3px;\n\t-khtml-border-radius: 3px;\n\t-opera-border-radius: 3px;\n\tborder-radius: 3px;\n\ttext-align:center;\n\tcolor:#00475b;\n\ttext-decoration:none;\n\tpadding-bottom:5px;\n\tbackground:url('../ce_images/main/plmark.png') no-repeat 0 100%;\n}\nul.menu li ul li:last-child a{\n\tbackground:none;\n}\nul.menu li ul li a:hover{\n\tcolor:#fff;\n}"
          },
          "redirectURL": "",
          "headersSize": 340,
          "bodySize": 404
        },
        "cache": {},
        "timings": {
          "blocked": 5,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 2,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 10,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_js/shadowbox.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 277,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 07:16:59 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 36522,
            "text": "/*\n * Shadowbox.js, version 3.0.3\n * http://shadowbox-js.com/\n *\n * Copyright 2007-2010, Michael J. I. Jackson\n * Date: 2010-10-21 22:11:14 +0000\n */\n(function(au,k){var Q={version:\"3.0.3\"};var J=navigator.userAgent.toLowerCase();if(J.indexOf(\"windows\")>-1||J.indexOf(\"win32\")>-1){Q.isWindows=true}else{if(J.indexOf(\"macintosh\")>-1||J.indexOf(\"mac os x\")>-1){Q.isMac=true}else{if(J.indexOf(\"linux\")>-1){Q.isLinux=true}}}Q.isIE=J.indexOf(\"msie\")>-1;Q.isIE6=J.indexOf(\"msie 6\")>-1;Q.isIE7=J.indexOf(\"msie 7\")>-1;Q.isGecko=J.indexOf(\"gecko\")>-1&&J.indexOf(\"safari\")==-1;Q.isWebKit=J.indexOf(\"applewebkit/\")>-1;var ab=/#(.+)$/,af=/^(light|shadow)box\\[(.*?)\\]/i,az=/\\s*([a-z_]*?)\\s*=\\s*(.+)\\s*/,f=/[0-9a-z]+$/i,aD=/(.+\\/)shadowbox\\.js/i;var A=false,a=false,l={},z=0,R,ap;Q.current=-1;Q.dimensions=null;Q.ease=function(K){return 1+Math.pow(K-1,3)};Q.errorInfo={fla:{name:\"Flash\",url:\"http://www.adobe.com/products/flashplayer/\"},qt:{name:\"QuickTime\",url:\"http://www.apple.com/quicktime/download/\"},wmp:{name:\"Windows Media Player\",url:\"http://www.microsoft.com/windows/windowsmedia/\"},f4m:{name:\"Flip4Mac\",url:\"http://www.flip4mac.com/wmv_download.htm\"}};Q.gallery=[];Q.onReady=aj;Q.path=null;Q.player=null;Q.playerId=\"sb-player\";Q.options={animate:true,animateFade:true,autoplayMovies:true,continuous:false,enableKeys:true,flashParams:{bgcolor:\"#000000\",allowfullscreen:true},flashVars:{},flashVersion:\"9.0.115\",handleOversize:\"resize\",handleUnsupported:\"link\",onChange:aj,onClose:aj,onFinish:aj,onOpen:aj,showMovieControls:true,skipSetup:false,slideshowDelay:0,viewportPadding:20};Q.getCurrent=function(){return Q.current>-1?Q.gallery[Q.current]:null};Q.hasNext=function(){return Q.gallery.length>1&&(Q.current!=Q.gallery.length-1||Q.options.continuous)};Q.isOpen=function(){return A};Q.isPaused=function(){return ap==\"pause\"};Q.applyOptions=function(K){l=aC({},Q.options);aC(Q.options,K)};Q.revertOptions=function(){aC(Q.options,l)};Q.init=function(aG,aJ){if(a){return}a=true;if(Q.skin.options){aC(Q.options,Q.skin.options)}if(aG){aC(Q.options,aG)}if(!Q.path){var aI,S=document.getElementsByTagName(\"script\");for(var aH=0,K=S.length;aH<K;++aH){aI=aD.exec(S[aH].src);if(aI){Q.path=aI[1];break}}}if(aJ){Q.onReady=aJ}P()};Q.open=function(S){if(A){return}var K=Q.makeGallery(S);Q.gallery=K[0];Q.current=K[1];S=Q.getCurrent();if(S==null){return}Q.applyOptions(S.options||{});G();if(Q.gallery.length){S=Q.getCurrent();if(Q.options.onOpen(S)===false){return}A=true;Q.skin.onOpen(S,c)}};Q.close=function(){if(!A){return}A=false;if(Q.player){Q.player.remove();Q.player=null}if(typeof ap==\"number\"){clearTimeout(ap);ap=null}z=0;aq(false);Q.options.onClose(Q.getCurrent());Q.skin.onClose();Q.revertOptions()};Q.play=function(){if(!Q.hasNext()){return}if(!z){z=Q.options.slideshowDelay*1000}if(z){R=aw();ap=setTimeout(function(){z=R=0;Q.next()},z);if(Q.skin.onPlay){Q.skin.onPlay()}}};Q.pause=function(){if(typeof ap!=\"number\"){return}z=Math.max(0,z-(aw()-R));if(z){clearTimeout(ap);ap=\"pause\";if(Q.skin.onPause){Q.skin.onPause()}}};Q.change=function(K){if(!(K in Q.gallery)){if(Q.options.continuous){K=(K<0?Q.gallery.length+K:0);if(!(K in Q.gallery)){return}}else{return}}Q.current=K;if(typeof ap==\"number\"){clearTimeout(ap);ap=null;z=R=0}Q.options.onChange(Q.getCurrent());c(true)};Q.next=function(){Q.change(Q.current+1)};Q.previous=function(){Q.change(Q.current-1)};Q.setDimensions=function(aS,aJ,aQ,aR,aI,K,aO,aL){var aN=aS,aH=aJ;var aM=2*aO+aI;if(aS+aM>aQ){aS=aQ-aM}var aG=2*aO+K;if(aJ+aG>aR){aJ=aR-aG}var S=(aN-aS)/aN,aP=(aH-aJ)/aH,aK=(S>0||aP>0);if(aL&&aK){if(S>aP){aJ=Math.round((aH/aN)*aS)}else{if(aP>S){aS=Math.round((aN/aH)*aJ)}}}Q.dimensions={height:aS+aI,width:aJ+K,innerHeight:aS,innerWidth:aJ,top:Math.floor((aQ-(aS+aM))/2+aO),left:Math.floor((aR-(aJ+aG))/2+aO),oversized:aK};return Q.dimensions};Q.makeGallery=function(aI){var K=[],aH=-1;if(typeof aI==\"string\"){aI=[aI]}if(typeof aI.length==\"number\"){aF(aI,function(aK,aL){if(aL.content){K[aK]=aL}else{K[aK]={content:aL}}});aH=0}else{if(aI.tagName){var S=Q.getCache(aI);aI=S?S:Q.makeObject(aI)}if(aI.gallery){K=[];var aJ;for(var aG in Q.cache){aJ=Q.cache[aG];if(aJ.gallery&&aJ.gallery==aI.gallery){if(aH==-1&&aJ.content==aI.content){aH=K.length}K.push(aJ)}}if(aH==-1){K.unshift(aI);aH=0}}else{K=[aI];aH=0}}aF(K,function(aK,aL){K[aK]=aC({},aL)});return[K,aH]};Q.makeObject=function(aH,aG){var aI={content:aH.href,title:aH.getAttribute(\"title\")||\"\",link:aH};if(aG){aG=aC({},aG);aF([\"player\",\"title\",\"height\",\"width\",\"gallery\"],function(aJ,aK){if(typeof aG[aK]!=\"undefined\"){aI[aK]=aG[aK];delete aG[aK]}});aI.options=aG}else{aI.options={}}if(!aI.player){aI.player=Q.getPlayer(aI.content)}var K=aH.getAttribute(\"rel\");if(K){var S=K.match(af);if(S){aI.gallery=escape(S[2])}aF(K.split(\";\"),function(aJ,aK){S=aK.match(az);if(S){aI[S[1]]=S[2]}})}return aI};Q.getPlayer=function(aG){if(aG.indexOf(\"#\")>-1&&aG.indexOf(document.location.href)==0){return\"inline\"}var aH=aG.indexOf(\"?\");if(aH>-1){aG=aG.substring(0,aH)}var S,K=aG.match(f);if(K){S=K[0].toLowerCase()}if(S){if(Q.img&&Q.img.ext.indexOf(S)>-1){return\"img\"}if(Q.swf&&Q.swf.ext.indexOf(S)>-1){return\"swf\"}if(Q.flv&&Q.flv.ext.indexOf(S)>-1){return\"flv\"}if(Q.qt&&Q.qt.ext.indexOf(S)>-1){if(Q.wmp&&Q.wmp.ext.indexOf(S)>-1){return\"qtwmp\"}else{return\"qt\"}}if(Q.wmp&&Q.wmp.ext.indexOf(S)>-1){return\"wmp\"}}return\"iframe\"};function G(){var aH=Q.errorInfo,aI=Q.plugins,aK,aL,aO,aG,aN,S,aM,K;for(var aJ=0;aJ<Q.gallery.length;++aJ){aK=Q.gallery[aJ];aL=false;aO=null;switch(aK.player){case\"flv\":case\"swf\":if(!aI.fla){aO=\"fla\"}break;case\"qt\":if(!aI.qt){aO=\"qt\"}break;case\"wmp\":if(Q.isMac){if(aI.qt&&aI.f4m){aK.player=\"qt\"}else{aO=\"qtf4m\"}}else{if(!aI.wmp){aO=\"wmp\"}}break;case\"qtwmp\":if(aI.qt){aK.player=\"qt\"}else{if(aI.wmp){aK.player=\"wmp\"}else{aO=\"qtwmp\"}}break}if(aO){if(Q.options.handleUnsupported==\"link\"){switch(aO){case\"qtf4m\":aN=\"shared\";S=[aH.qt.url,aH.qt.name,aH.f4m.url,aH.f4m.name];break;case\"qtwmp\":aN=\"either\";S=[aH.qt.url,aH.qt.name,aH.wmp.url,aH.wmp.name];break;default:aN=\"single\";S=[aH[aO].url,aH[aO].name]}aK.player=\"html\";aK.content='<div class=\"sb-message\">'+s(Q.lang.errors[aN],S)+\"</div>\"}else{aL=true}}else{if(aK.player==\"inline\"){aG=ab.exec(aK.content);if(aG){aM=ad(aG[1]);if(aM){aK.content=aM.innerHTML}else{aL=true}}else{aL=true}}else{if(aK.player==\"swf\"||aK.player==\"flv\"){K=(aK.options&&aK.options.flashVersion)||Q.options.flashVersion;if(Q.flash&&!Q.flash.hasFlashPlayerVersion(K)){aK.width=310;aK.height=177}}}}if(aL){Q.gallery.splice(aJ,1);if(aJ<Q.current){--Q.current}else{if(aJ==Q.current){Q.current=aJ>0?aJ-1:aJ}}--aJ}}}function aq(K){if(!Q.options.enableKeys){return}(K?F:M)(document,\"keydown\",an)}function an(aG){if(aG.metaKey||aG.shiftKey||aG.altKey||aG.ctrlKey){return}var S=v(aG),K;switch(S){case 81:case 88:case 27:K=Q.close;break;case 37:K=Q.previous;break;case 39:K=Q.next;break;case 32:K=typeof ap==\"number\"?Q.pause:Q.play;break}if(K){n(aG);K()}}function c(aK){aq(false);var aJ=Q.getCurrent();var aG=(aJ.player==\"inline\"?\"html\":aJ.player);if(typeof Q[aG]!=\"function\"){throw\"unknown player \"+aG}if(aK){Q.player.remove();Q.revertOptions();Q.applyOptions(aJ.options||{})}Q.player=new Q[aG](aJ,Q.playerId);if(Q.gallery.length>1){var aH=Q.gallery[Q.current+1]||Q.gallery[0];if(aH.player==\"img\"){var S=new Image();S.src=aH.content}var aI=Q.gallery[Q.current-1]||Q.gallery[Q.gallery.length-1];if(aI.player==\"img\"){var K=new Image();K.src=aI.content}}Q.skin.onLoad(aK,W)}function W(){if(!A){return}if(typeof Q.player.ready!=\"undefined\"){var K=setInterval(function(){if(A){if(Q.player.ready){clearInterval(K);K=null;Q.skin.onReady(e)}}else{clearInterval(K);K=null}},10)}else{Q.skin.onReady(e)}}function e(){if(!A){return}Q.player.append(Q.skin.body,Q.dimensions);Q.skin.onShow(I)}function I(){if(!A){return}if(Q.player.onLoad){Q.player.onLoad()}Q.options.onFinish(Q.getCurrent());if(!Q.isPaused()){Q.play()}aq(true)}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(S,aG){var K=this.length>>>0;aG=aG||0;if(aG<0){aG+=K}for(;aG<K;++aG){if(aG in this&&this[aG]===S){return aG}}return -1}}function aw(){return(new Date).getTime()}function aC(K,aG){for(var S in aG){K[S]=aG[S]}return K}function aF(aH,aI){var S=0,K=aH.length;for(var aG=aH[0];S<K&&aI.call(aG,S,aG)!==false;aG=aH[++S]){}}function s(S,K){return S.replace(/\\{(\\w+?)\\}/g,function(aG,aH){return K[aH]})}function aj(){}function ad(K){return document.getElementById(K)}function C(K){K.parentNode.removeChild(K)}var h=true,x=true;function d(){var K=document.body,S=document.createElement(\"div\");h=typeof S.style.opacity===\"string\";S.style.position=\"fixed\";S.style.margin=0;S.style.top=\"20px\";K.appendChild(S,K.firstChild);x=S.offsetTop==20;K.removeChild(S)}Q.getStyle=(function(){var K=/opacity=([^)]*)/,S=document.defaultView&&document.defaultView.getComputedStyle;return function(aJ,aI){var aH;if(!h&&aI==\"opacity\"&&aJ.currentStyle){aH=K.test(aJ.currentStyle.filter||\"\")?(parseFloat(RegExp.$1)/100)+\"\":\"\";return aH===\"\"?\"1\":aH}if(S){var aG=S(aJ,null);if(aG){aH=aG[aI]}if(aI==\"opacity\"&&aH==\"\"){aH=\"1\"}}else{aH=aJ.currentStyle[aI]}return aH}})();Q.appendHTML=function(aG,S){if(aG.insertAdjacentHTML){aG.insertAdjacentHTML(\"BeforeEnd\",S)}else{if(aG.lastChild){var K=aG.ownerDocument.createRange();K.setStartAfter(aG.lastChild);var aH=K.createContextualFragment(S);aG.appendChild(aH)}else{aG.innerHTML=S}}};Q.getWindowSize=function(K){if(document.compatMode===\"CSS1Compat\"){return document.documentElement[\"client\"+K]}return document.body[\"client\"+K]};Q.setOpacity=function(aG,K){var S=aG.style;if(h){S.opacity=(K==1?\"\":K)}else{S.zoom=1;if(K==1){if(typeof S.filter==\"string\"&&(/alpha/i).test(S.filter)){S.filter=S.filter.replace(/\\s*[\\w\\.]*alpha\\([^\\)]*\\);?/gi,\"\")}}else{S.filter=(S.filter||\"\").replace(/\\s*[\\w\\.]*alpha\\([^\\)]*\\)/gi,\"\")+\" alpha(opacity=\"+(K*100)+\")\"}}};Q.clearOpacity=function(K){Q.setOpacity(K,1)};function o(K){return K.target}function V(K){return[K.pageX,K.pageY]}function n(K){K.preventDefault()}function v(K){return K.keyCode}function F(aG,S,K){jQuery(aG).bind(S,K)}function M(aG,S,K){jQuery(aG).unbind(S,K)}jQuery.fn.shadowbox=function(K){return this.each(function(){var aG=jQuery(this);var aH=jQuery.extend({},K||{},jQuery.metadata?aG.metadata():jQuery.meta?aG.data():{});var S=this.className||\"\";aH.width=parseInt((S.match(/w:(\\d+)/)||[])[1])||aH.width;aH.height=parseInt((S.match(/h:(\\d+)/)||[])[1])||aH.height;Shadowbox.setup(aG,aH)})};var y=false,al;if(document.addEventListener){al=function(){document.removeEventListener(\"DOMContentLoaded\",al,false);Q.load()}}else{if(document.attachEvent){al=function(){if(document.readyState===\"complete\"){document.detachEvent(\"onreadystatechange\",al);Q.load()}}}}function g(){if(y){return}try{document.documentElement.doScroll(\"left\")}catch(K){setTimeout(g,1);return}Q.load()}function P(){if(document.readyState===\"complete\"){return Q.load()}if(document.addEventListener){document.addEventListener(\"DOMContentLoaded\",al,false);au.addEventListener(\"load\",Q.load,false)}else{if(document.attachEvent){document.attachEvent(\"onreadystatechange\",al);au.attachEvent(\"onload\",Q.load);var K=false;try{K=au.frameElement===null}catch(S){}if(document.documentElement.doScroll&&K){g()}}}}Q.load=function(){if(y){return}if(!document.body){return setTimeout(Q.load,13)}y=true;d();Q.onReady();if(!Q.options.skipSetup){Q.setup()}Q.skin.init()};Q.plugins={};if(navigator.plugins&&navigator.plugins.length){var w=[];aF(navigator.plugins,function(K,S){w.push(S.name)});w=w.join(\",\");var ai=w.indexOf(\"Flip4Mac\")>-1;Q.plugins={fla:w.indexOf(\"Shockwave Flash\")>-1,qt:w.indexOf(\"QuickTime\")>-1,wmp:!ai&&w.indexOf(\"Windows Media\")>-1,f4m:ai}}else{var p=function(K){var S;try{S=new ActiveXObject(K)}catch(aG){}return !!S};Q.plugins={fla:p(\"ShockwaveFlash.ShockwaveFlash\"),qt:p(\"QuickTime.QuickTime\"),wmp:p(\"wmplayer.ocx\"),f4m:false}}var X=/^(light|shadow)box/i,am=\"shadowboxCacheKey\",b=1;Q.cache={};Q.select=function(S){var aG=[];if(!S){var K;aF(document.getElementsByTagName(\"a\"),function(aJ,aK){K=aK.getAttribute(\"rel\");if(K&&X.test(K)){aG.push(aK)}})}else{var aI=S.length;if(aI){if(typeof S==\"string\"){if(Q.find){aG=Q.find(S)}}else{if(aI==2&&typeof S[0]==\"string\"&&S[1].nodeType){if(Q.find){aG=Q.find(S[0],S[1])}}else{for(var aH=0;aH<aI;++aH){aG[aH]=S[aH]}}}}else{aG.push(S)}}return aG};Q.setup=function(K,S){aF(Q.select(K),function(aG,aH){Q.addCache(aH,S)})};Q.teardown=function(K){aF(Q.select(K),function(S,aG){Q.removeCache(aG)})};Q.addCache=function(aG,K){var S=aG[am];if(S==k){S=b++;aG[am]=S;F(aG,\"click\",u)}Q.cache[S]=Q.makeObject(aG,K)};Q.removeCache=function(K){M(K,\"click\",u);delete Q.cache[K[am]];K[am]=null};Q.getCache=function(S){var K=S[am];return(K in Q.cache&&Q.cache[K])};Q.clearCache=function(){for(var K in Q.cache){Q.removeCache(Q.cache[K].link)}Q.cache={}};function u(K){Q.open(this);if(Q.gallery.length){n(K)}}\n/*\n * Sizzle CSS Selector Engine - v1.0\n *  Copyright 2009, The Dojo Foundation\n *  Released under the MIT, BSD, and GPL Licenses.\n *  More information: http://sizzlejs.com/\n *\n * Modified for inclusion in Shadowbox.js\n */\nQ.find=(function(){var aP=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^[\\]]*\\]|['\"][^'\"]*['\"]|[^[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,aQ=0,aS=Object.prototype.toString,aK=false,aJ=true;[0,0].sort(function(){aJ=false;return 0});var aG=function(a1,aW,a4,a5){a4=a4||[];var a7=aW=aW||document;if(aW.nodeType!==1&&aW.nodeType!==9){return[]}if(!a1||typeof a1!==\"string\"){return a4}var a2=[],aY,a9,bc,aX,a0=true,aZ=aH(aW),a6=a1;while((aP.exec(\"\"),aY=aP.exec(a6))!==null){a6=aY[3];a2.push(aY[1]);if(aY[2]){aX=aY[3];break}}if(a2.length>1&&aL.exec(a1)){if(a2.length===2&&aM.relative[a2[0]]){a9=aT(a2[0]+a2[1],aW)}else{a9=aM.relative[a2[0]]?[aW]:aG(a2.shift(),aW);while(a2.length){a1=a2.shift();if(aM.relative[a1]){a1+=a2.shift()}a9=aT(a1,a9)}}}else{if(!a5&&a2.length>1&&aW.nodeType===9&&!aZ&&aM.match.ID.test(a2[0])&&!aM.match.ID.test(a2[a2.length-1])){var a8=aG.find(a2.shift(),aW,aZ);aW=a8.expr?aG.filter(a8.expr,a8.set)[0]:a8.set[0]}if(aW){var a8=a5?{expr:a2.pop(),set:aO(a5)}:aG.find(a2.pop(),a2.length===1&&(a2[0]===\"~\"||a2[0]===\"+\")&&aW.parentNode?aW.parentNode:aW,aZ);a9=a8.expr?aG.filter(a8.expr,a8.set):a8.set;if(a2.length>0){bc=aO(a9)}else{a0=false}while(a2.length){var bb=a2.pop(),ba=bb;if(!aM.relative[bb]){bb=\"\"}else{ba=a2.pop()}if(ba==null){ba=aW}aM.relative[bb](bc,ba,aZ)}}else{bc=a2=[]}}if(!bc){bc=a9}if(!bc){throw\"Syntax error, unrecognized expression: \"+(bb||a1)}if(aS.call(bc)===\"[object Array]\"){if(!a0){a4.push.apply(a4,bc)}else{if(aW&&aW.nodeType===1){for(var a3=0;bc[a3]!=null;a3++){if(bc[a3]&&(bc[a3]===true||bc[a3].nodeType===1&&aN(aW,bc[a3]))){a4.push(a9[a3])}}}else{for(var a3=0;bc[a3]!=null;a3++){if(bc[a3]&&bc[a3].nodeType===1){a4.push(a9[a3])}}}}}else{aO(bc,a4)}if(aX){aG(aX,a7,a4,a5);aG.uniqueSort(a4)}return a4};aG.uniqueSort=function(aX){if(aR){aK=aJ;aX.sort(aR);if(aK){for(var aW=1;aW<aX.length;aW++){if(aX[aW]===aX[aW-1]){aX.splice(aW--,1)}}}}return aX};aG.matches=function(aW,aX){return aG(aW,null,null,aX)};aG.find=function(a3,aW,a4){var a2,a0;if(!a3){return[]}for(var aZ=0,aY=aM.order.length;aZ<aY;aZ++){var a1=aM.order[aZ],a0;if((a0=aM.leftMatch[a1].exec(a3))){var aX=a0[1];a0.splice(1,1);if(aX.substr(aX.length-1)!==\"\\\\\"){a0[1]=(a0[1]||\"\").replace(/\\\\/g,\"\");a2=aM.find[a1](a0,aW,a4);if(a2!=null){a3=a3.replace(aM.match[a1],\"\");break}}}}if(!a2){a2=aW.getElementsByTagName(\"*\")}return{set:a2,expr:a3}};aG.filter=function(a6,a5,a9,aZ){var aY=a6,bb=[],a3=a5,a1,aW,a2=a5&&a5[0]&&aH(a5[0]);while(a6&&a5.length){for(var a4 in aM.filter){if((a1=aM.match[a4].exec(a6))!=null){var aX=aM.filter[a4],ba,a8;aW=false;if(a3===bb){bb=[]}if(aM.preFilter[a4]){a1=aM.preFilter[a4](a1,a3,a9,bb,aZ,a2);if(!a1){aW=ba=true}else{if(a1===true){continue}}}if(a1){for(var a0=0;(a8=a3[a0])!=null;a0++){if(a8){ba=aX(a8,a1,a0,a3);var a7=aZ^!!ba;if(a9&&ba!=null){if(a7){aW=true}else{a3[a0]=false}}else{if(a7){bb.push(a8);aW=true}}}}}if(ba!==k){if(!a9){a3=bb}a6=a6.replace(aM.match[a4],\"\");if(!aW){return[]}break}}}if(a6===aY){if(aW==null){throw\"Syntax error, unrecognized expression: \"+a6}else{break}}aY=a6}return a3};var aM=aG.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(['\"]*)(.*?)\\3|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+-]*)\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)(?:\\((['\"]*)((?:\\([^\\)]+\\)|[^\\2\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function(aW){return aW.getAttribute(\"href\")}},relative:{\"+\":function(a2,aX){var aZ=typeof aX===\"string\",a1=aZ&&!/\\W/.test(aX),a3=aZ&&!a1;if(a1){aX=aX.toLowerCase()}for(var aY=0,aW=a2.length,a0;aY<aW;aY++){if((a0=a2[aY])){while((a0=a0.previousSibling)&&a0.nodeType!==1){}a2[aY]=a3||a0&&a0.nodeName.toLowerCase()===aX?a0||false:a0===aX}}if(a3){aG.filter(aX,a2,true)}},\">\":function(a2,aX){var a0=typeof aX===\"string\";if(a0&&!/\\W/.test(aX)){aX=aX.toLowerCase();for(var aY=0,aW=a2.length;aY<aW;aY++){var a1=a2[aY];if(a1){var aZ=a1.parentNode;a2[aY]=aZ.nodeName.toLowerCase()===aX?aZ:false}}}else{for(var aY=0,aW=a2.length;aY<aW;aY++){var a1=a2[aY];if(a1){a2[aY]=a0?a1.parentNode:a1.parentNode===aX}}if(a0){aG.filter(aX,a2,true)}}},\"\":function(aZ,aX,a1){var aY=aQ++,aW=aU;if(typeof aX===\"string\"&&!/\\W/.test(aX)){var a0=aX=aX.toLowerCase();aW=K}aW(\"parentNode\",aX,aY,aZ,a0,a1)},\"~\":function(aZ,aX,a1){var aY=aQ++,aW=aU;if(typeof aX===\"string\"&&!/\\W/.test(aX)){var a0=aX=aX.toLowerCase();aW=K}aW(\"previousSibling\",aX,aY,aZ,a0,a1)}},find:{ID:function(aX,aY,aZ){if(typeof aY.getElementById!==\"undefined\"&&!aZ){var aW=aY.getElementById(aX[1]);return aW?[aW]:[]}},NAME:function(aY,a1){if(typeof a1.getElementsByName!==\"undefined\"){var aX=[],a0=a1.getElementsByName(aY[1]);for(var aZ=0,aW=a0.length;aZ<aW;aZ++){if(a0[aZ].getAttribute(\"name\")===aY[1]){aX.push(a0[aZ])}}return aX.length===0?null:aX}},TAG:function(aW,aX){return aX.getElementsByTagName(aW[1])}},preFilter:{CLASS:function(aZ,aX,aY,aW,a2,a3){aZ=\" \"+aZ[1].replace(/\\\\/g,\"\")+\" \";if(a3){return aZ}for(var a0=0,a1;(a1=aX[a0])!=null;a0++){if(a1){if(a2^(a1.className&&(\" \"+a1.className+\" \").replace(/[\\t\\n]/g,\" \").indexOf(aZ)>=0)){if(!aY){aW.push(a1)}}else{if(aY){aX[a0]=false}}}}return false},ID:function(aW){return aW[1].replace(/\\\\/g,\"\")},TAG:function(aX,aW){return aX[1].toLowerCase()},CHILD:function(aW){if(aW[1]===\"nth\"){var aX=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec(aW[2]===\"even\"&&\"2n\"||aW[2]===\"odd\"&&\"2n+1\"||!/\\D/.test(aW[2])&&\"0n+\"+aW[2]||aW[2]);aW[2]=(aX[1]+(aX[2]||1))-0;aW[3]=aX[3]-0}aW[0]=aQ++;return aW},ATTR:function(a0,aX,aY,aW,a1,a2){var aZ=a0[1].replace(/\\\\/g,\"\");if(!a2&&aM.attrMap[aZ]){a0[1]=aM.attrMap[aZ]}if(a0[2]===\"~=\"){a0[4]=\" \"+a0[4]+\" \"}return a0},PSEUDO:function(a0,aX,aY,aW,a1){if(a0[1]===\"not\"){if((aP.exec(a0[3])||\"\").length>1||/^\\w/.test(a0[3])){a0[3]=aG(a0[3],null,null,aX)}else{var aZ=aG.filter(a0[3],aX,aY,true^a1);if(!aY){aW.push.apply(aW,aZ)}return false}}else{if(aM.match.POS.test(a0[0])||aM.match.CHILD.test(a0[0])){return true}}return a0},POS:function(aW){aW.unshift(true);return aW}},filters:{enabled:function(aW){return aW.disabled===false&&aW.type!==\"hidden\"},disabled:function(aW){return aW.disabled===true},checked:function(aW){return aW.checked===true},selected:function(aW){aW.parentNode.selectedIndex;return aW.selected===true},parent:function(aW){return !!aW.firstChild},empty:function(aW){return !aW.firstChild},has:function(aY,aX,aW){return !!aG(aW[3],aY).length},header:function(aW){return/h\\d/i.test(aW.nodeName)},text:function(aW){return\"text\"===aW.type},radio:function(aW){return\"radio\"===aW.type},checkbox:function(aW){return\"checkbox\"===aW.type},file:function(aW){return\"file\"===aW.type},password:function(aW){return\"password\"===aW.type},submit:function(aW){return\"submit\"===aW.type},image:function(aW){return\"image\"===aW.type},reset:function(aW){return\"reset\"===aW.type},button:function(aW){return\"button\"===aW.type||aW.nodeName.toLowerCase()===\"button\"},input:function(aW){return/input|select|textarea|button/i.test(aW.nodeName)}},setFilters:{first:function(aX,aW){return aW===0},last:function(aY,aX,aW,aZ){return aX===aZ.length-1},even:function(aX,aW){return aW%2===0},odd:function(aX,aW){return aW%2===1},lt:function(aY,aX,aW){return aX<aW[3]-0},gt:function(aY,aX,aW){return aX>aW[3]-0},nth:function(aY,aX,aW){return aW[3]-0===aX},eq:function(aY,aX,aW){return aW[3]-0===aX}},filter:{PSEUDO:function(a2,aY,aZ,a3){var aX=aY[1],a0=aM.filters[aX];if(a0){return a0(a2,aZ,aY,a3)}else{if(aX===\"contains\"){return(a2.textContent||a2.innerText||S([a2])||\"\").indexOf(aY[3])>=0}else{if(aX===\"not\"){var a1=aY[3];for(var aZ=0,aW=a1.length;aZ<aW;aZ++){if(a1[aZ]===a2){return false}}return true}else{throw\"Syntax error, unrecognized expression: \"+aX}}}},CHILD:function(aW,aZ){var a2=aZ[1],aX=aW;switch(a2){case\"only\":case\"first\":while((aX=aX.previousSibling)){if(aX.nodeType===1){return false}}if(a2===\"first\"){return true}aX=aW;case\"last\":while((aX=aX.nextSibling)){if(aX.nodeType===1){return false}}return true;case\"nth\":var aY=aZ[2],a5=aZ[3];if(aY===1&&a5===0){return true}var a1=aZ[0],a4=aW.parentNode;if(a4&&(a4.sizcache!==a1||!aW.nodeIndex)){var a0=0;for(aX=a4.firstChild;aX;aX=aX.nextSibling){if(aX.nodeType===1){aX.nodeIndex=++a0}}a4.sizcache=a1}var a3=aW.nodeIndex-a5;if(aY===0){return a3===0}else{return(a3%aY===0&&a3/aY>=0)}}},ID:function(aX,aW){return aX.nodeType===1&&aX.getAttribute(\"id\")===aW},TAG:function(aX,aW){return(aW===\"*\"&&aX.nodeType===1)||aX.nodeName.toLowerCase()===aW},CLASS:function(aX,aW){return(\" \"+(aX.className||aX.getAttribute(\"class\"))+\" \").indexOf(aW)>-1},ATTR:function(a1,aZ){var aY=aZ[1],aW=aM.attrHandle[aY]?aM.attrHandle[aY](a1):a1[aY]!=null?a1[aY]:a1.getAttribute(aY),a2=aW+\"\",a0=aZ[2],aX=aZ[4];return aW==null?a0===\"!=\":a0===\"=\"?a2===aX:a0===\"*=\"?a2.indexOf(aX)>=0:a0===\"~=\"?(\" \"+a2+\" \").indexOf(aX)>=0:!aX?a2&&aW!==false:a0===\"!=\"?a2!==aX:a0===\"^=\"?a2.indexOf(aX)===0:a0===\"$=\"?a2.substr(a2.length-aX.length)===aX:a0===\"|=\"?a2===aX||a2.substr(0,aX.length+1)===aX+\"-\":false},POS:function(a0,aX,aY,a1){var aW=aX[2],aZ=aM.setFilters[aW];if(aZ){return aZ(a0,aY,aX,a1)}}}};var aL=aM.match.POS;for(var aI in aM.match){aM.match[aI]=new RegExp(aM.match[aI].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source);aM.leftMatch[aI]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+aM.match[aI].source)}var aO=function(aX,aW){aX=Array.prototype.slice.call(aX,0);if(aW){aW.push.apply(aW,aX);return aW}return aX};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(aV){aO=function(a0,aZ){var aX=aZ||[];if(aS.call(a0)===\"[object Array]\"){Array.prototype.push.apply(aX,a0)}else{if(typeof a0.length===\"number\"){for(var aY=0,aW=a0.length;aY<aW;aY++){aX.push(a0[aY])}}else{for(var aY=0;a0[aY];aY++){aX.push(a0[aY])}}}return aX}}var aR;if(document.documentElement.compareDocumentPosition){aR=function(aX,aW){if(!aX.compareDocumentPosition||!aW.compareDocumentPosition){if(aX==aW){aK=true}return aX.compareDocumentPosition?-1:1}var aY=aX.compareDocumentPosition(aW)&4?-1:aX===aW?0:1;if(aY===0){aK=true}return aY}}else{if(\"sourceIndex\" in document.documentElement){aR=function(aX,aW){if(!aX.sourceIndex||!aW.sourceIndex){if(aX==aW){aK=true}return aX.sourceIndex?-1:1}var aY=aX.sourceIndex-aW.sourceIndex;if(aY===0){aK=true}return aY}}else{if(document.createRange){aR=function(aZ,aX){if(!aZ.ownerDocument||!aX.ownerDocument){if(aZ==aX){aK=true}return aZ.ownerDocument?-1:1}var aY=aZ.ownerDocument.createRange(),aW=aX.ownerDocument.createRange();aY.setStart(aZ,0);aY.setEnd(aZ,0);aW.setStart(aX,0);aW.setEnd(aX,0);var a0=aY.compareBoundaryPoints(Range.START_TO_END,aW);if(a0===0){aK=true}return a0}}}}function S(aW){var aX=\"\",aZ;for(var aY=0;aW[aY];aY++){aZ=aW[aY];if(aZ.nodeType===3||aZ.nodeType===4){aX+=aZ.nodeValue}else{if(aZ.nodeType!==8){aX+=S(aZ.childNodes)}}}return aX}(function(){var aX=document.createElement(\"div\"),aY=\"script\"+(new Date).getTime();aX.innerHTML=\"<a name='\"+aY+\"'/>\";var aW=document.documentElement;aW.insertBefore(aX,aW.firstChild);if(document.getElementById(aY)){aM.find.ID=function(a0,a1,a2){if(typeof a1.getElementById!==\"undefined\"&&!a2){var aZ=a1.getElementById(a0[1]);return aZ?aZ.id===a0[1]||typeof aZ.getAttributeNode!==\"undefined\"&&aZ.getAttributeNode(\"id\").nodeValue===a0[1]?[aZ]:k:[]}};aM.filter.ID=function(a1,aZ){var a0=typeof a1.getAttributeNode!==\"undefined\"&&a1.getAttributeNode(\"id\");return a1.nodeType===1&&a0&&a0.nodeValue===aZ}}aW.removeChild(aX);aW=aX=null})();(function(){var aW=document.createElement(\"div\");aW.appendChild(document.createComment(\"\"));if(aW.getElementsByTagName(\"*\").length>0){aM.find.TAG=function(aX,a1){var a0=a1.getElementsByTagName(aX[1]);if(aX[1]===\"*\"){var aZ=[];for(var aY=0;a0[aY];aY++){if(a0[aY].nodeType===1){aZ.push(a0[aY])}}a0=aZ}return a0}}aW.innerHTML=\"<a href='#'></a>\";if(aW.firstChild&&typeof aW.firstChild.getAttribute!==\"undefined\"&&aW.firstChild.getAttribute(\"href\")!==\"#\"){aM.attrHandle.href=function(aX){return aX.getAttribute(\"href\",2)}}aW=null})();if(document.querySelectorAll){(function(){var aW=aG,aY=document.createElement(\"div\");aY.innerHTML=\"<p class='TEST'></p>\";if(aY.querySelectorAll&&aY.querySelectorAll(\".TEST\").length===0){return}aG=function(a2,a1,aZ,a0){a1=a1||document;if(!a0&&a1.nodeType===9&&!aH(a1)){try{return aO(a1.querySelectorAll(a2),aZ)}catch(a3){}}return aW(a2,a1,aZ,a0)};for(var aX in aW){aG[aX]=aW[aX]}aY=null})()}(function(){var aW=document.createElement(\"div\");aW.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(!aW.getElementsByClassName||aW.getElementsByClassName(\"e\").length===0){return}aW.lastChild.className=\"e\";if(aW.getElementsByClassName(\"e\").length===1){return}aM.order.splice(1,0,\"CLASS\");aM.find.CLASS=function(aX,aY,aZ){if(typeof aY.getElementsByClassName!==\"undefined\"&&!aZ){return aY.getElementsByClassName(aX[1])}};aW=null})();function K(aX,a2,a1,a5,a3,a4){for(var aZ=0,aY=a5.length;aZ<aY;aZ++){var aW=a5[aZ];if(aW){aW=aW[aX];var a0=false;while(aW){if(aW.sizcache===a1){a0=a5[aW.sizset];break}if(aW.nodeType===1&&!a4){aW.sizcache=a1;aW.sizset=aZ}if(aW.nodeName.toLowerCase()===a2){a0=aW;break}aW=aW[aX]}a5[aZ]=a0}}}function aU(aX,a2,a1,a5,a3,a4){for(var aZ=0,aY=a5.length;aZ<aY;aZ++){var aW=a5[aZ];if(aW){aW=aW[aX];var a0=false;while(aW){if(aW.sizcache===a1){a0=a5[aW.sizset];break}if(aW.nodeType===1){if(!a4){aW.sizcache=a1;aW.sizset=aZ}if(typeof a2!==\"string\"){if(aW===a2){a0=true;break}}else{if(aG.filter(a2,[aW]).length>0){a0=aW;break}}}aW=aW[aX]}a5[aZ]=a0}}}var aN=document.compareDocumentPosition?function(aX,aW){return aX.compareDocumentPosition(aW)&16}:function(aX,aW){return aX!==aW&&(aX.contains?aX.contains(aW):true)};var aH=function(aW){var aX=(aW?aW.ownerDocument||aW:0).documentElement;return aX?aX.nodeName!==\"HTML\":false};var aT=function(aW,a3){var aZ=[],a0=\"\",a1,aY=a3.nodeType?[a3]:a3;while((a1=aM.match.PSEUDO.exec(aW))){a0+=a1[0];aW=aW.replace(aM.match.PSEUDO,\"\")}aW=aM.relative[aW]?aW+\"*\":aW;for(var a2=0,aX=aY.length;a2<aX;a2++){aG(aW,aY[a2],aZ)}return aG.filter(a0,aZ)};return aG})();Q.lang={code:\"ru\",of:\"из\",loading:\"загрузка\",cancel:\"Отмена\",next:\"Следующая\",previous:\"Предыдущая\",play:\"Пуск\",pause:\"Пауза\",close:\"Закрыть\",errors:{single:'Вы должны установить для браузера плагин <a href=\"{0}\">{1}</a>, чтобы просмотривать этот контент.',shared:'Чтобы просмотреть этот контент, вы должны установить и <a href=\"{0}\">{1}</a>, и <a href=\"{2}\">{3}</a>.',either:'Вы должны установить или <a href=\"{0}\">{1}</a> плагин, или <a href=\"{2}\">{3}</a>, чтобы просмотреть этот контент.'}};var D,at=\"sb-drag-proxy\",E,j,ag;function ax(){E={x:0,y:0,startX:null,startY:null}}function aA(){var K=Q.dimensions;aC(j.style,{height:K.innerHeight+\"px\",width:K.innerWidth+\"px\"})}function O(){ax();var K=[\"position:absolute\",\"cursor:\"+(Q.isGecko?\"-moz-grab\":\"move\"),\"background-color:\"+(Q.isIE?\"#fff;filter:alpha(opacity=0)\":\"transparent\")].join(\";\");Q.appendHTML(Q.skin.body,'<div id=\"'+at+'\" style=\"'+K+'\"></div>');j=ad(at);aA();F(j,\"mousedown\",L)}function B(){if(j){M(j,\"mousedown\",L);C(j);j=null}ag=null}function L(S){n(S);var K=V(S);E.startX=K[0];E.startY=K[1];ag=ad(Q.player.id);F(document,\"mousemove\",H);F(document,\"mouseup\",i);if(Q.isGecko){j.style.cursor=\"-moz-grabbing\"}}function H(aI){var K=Q.player,aJ=Q.dimensions,aH=V(aI);var aG=aH[0]-E.startX;E.startX+=aG;E.x=Math.max(Math.min(0,E.x+aG),aJ.innerWidth-K.width);var S=aH[1]-E.startY;E.startY+=S;E.y=Math.max(Math.min(0,E.y+S),aJ.innerHeight-K.height);aC(ag.style,{left:E.x+\"px\",top:E.y+\"px\"})}function i(){M(document,\"mousemove\",H);M(document,\"mouseup\",i);if(Q.isGecko){j.style.cursor=\"-moz-grab\"}}Q.img=function(S,aG){this.obj=S;this.id=aG;this.ready=false;var K=this;D=new Image();D.onload=function(){K.height=S.height?parseInt(S.height,10):D.height;K.width=S.width?parseInt(S.width,10):D.width;K.ready=true;D.onload=null;D=null};D.src=S.content};Q.img.ext=[\"bmp\",\"gif\",\"jpg\",\"jpeg\",\"png\"];Q.img.prototype={append:function(S,aI){var aG=document.createElement(\"img\");aG.id=this.id;aG.src=this.obj.content;aG.style.position=\"absolute\";var K,aH;if(aI.oversized&&Q.options.handleOversize==\"resize\"){K=aI.innerHeight;aH=aI.innerWidth}else{K=this.height;aH=this.width}aG.setAttribute(\"height\",K);aG.setAttribute(\"width\",aH);S.appendChild(aG)},remove:function(){var K=ad(this.id);if(K){C(K)}B();if(D){D.onload=null;D=null}},onLoad:function(){var K=Q.dimensions;if(K.oversized&&Q.options.handleOversize==\"drag\"){O()}},onWindowResize:function(){var aH=Q.dimensions;switch(Q.options.handleOversize){case\"resize\":var K=ad(this.id);K.height=aH.innerHeight;K.width=aH.innerWidth;break;case\"drag\":if(ag){var aG=parseInt(Q.getStyle(ag,\"top\")),S=parseInt(Q.getStyle(ag,\"left\"));if(aG+this.height<aH.innerHeight){ag.style.top=aH.innerHeight-this.height+\"px\"}if(S+this.width<aH.innerWidth){ag.style.left=aH.innerWidth-this.width+\"px\"}aA()}break}}};var ao=false,Y=[],q=[\"sb-nav-close\",\"sb-nav-next\",\"sb-nav-play\",\"sb-nav-pause\",\"sb-nav-previous\"],aa,ae,Z,m=true;function N(aG,aQ,aN,aL,aR){var K=(aQ==\"opacity\"),aM=K?Q.setOpacity:function(aS,aT){aS.style[aQ]=\"\"+aT+\"px\"};if(aL==0||(!K&&!Q.options.animate)||(K&&!Q.options.animateFade)){aM(aG,aN);if(aR){aR()}return}var aO=parseFloat(Q.getStyle(aG,aQ))||0;var aP=aN-aO;if(aP==0){if(aR){aR()}return}aL*=1000;var aH=aw(),aK=Q.ease,aJ=aH+aL,aI;var S=setInterval(function(){aI=aw();if(aI>=aJ){clearInterval(S);S=null;aM(aG,aN);if(aR){aR()}}else{aM(aG,aO+aK((aI-aH)/aL)*aP)}},10)}function aB(){aa.style.height=Q.getWindowSize(\"Height\")+\"px\";aa.style.width=Q.getWindowSize(\"Width\")+\"px\"}function aE(){aa.style.top=document.documentElement.scrollTop+\"px\";aa.style.left=document.documentElement.scrollLeft+\"px\"}function ay(K){if(K){aF(Y,function(S,aG){aG[0].style.visibility=aG[1]||\"\"})}else{Y=[];aF(Q.options.troubleElements,function(aG,S){aF(document.getElementsByTagName(S),function(aH,aI){Y.push([aI,aI.style.visibility]);aI.style.visibility=\"hidden\"})})}}function r(aG,K){var S=ad(\"sb-nav-\"+aG);if(S){S.style.display=K?\"\":\"none\"}}function ah(K,aJ){var aI=ad(\"sb-loading\"),aG=Q.getCurrent().player,aH=(aG==\"img\"||aG==\"html\");if(K){Q.setOpacity(aI,0);aI.style.display=\"block\";var S=function(){Q.clearOpacity(aI);if(aJ){aJ()}};if(aH){N(aI,\"opacity\",1,Q.options.fadeDuration,S)}else{S()}}else{var S=function(){aI.style.display=\"none\";Q.clearOpacity(aI);if(aJ){aJ()}};if(aH){N(aI,\"opacity\",0,Q.options.fadeDuration,S)}else{S()}}}function t(aO){var aJ=Q.getCurrent();ad(\"sb-title-inner\").innerHTML=aJ.title||\"\";var aP,aL,S,aQ,aM;if(Q.options.displayNav){aP=true;var aN=Q.gallery.length;if(aN>1){if(Q.options.continuous){aL=aM=true}else{aL=(aN-1)>Q.current;aM=Q.current>0}}if(Q.options.slideshowDelay>0&&Q.hasNext()){aQ=!Q.isPaused();S=!aQ}}else{aP=aL=S=aQ=aM=false}r(\"close\",aP);r(\"next\",aL);r(\"play\",S);r(\"pause\",aQ);r(\"previous\",aM);var K=\"\";if(Q.options.displayCounter&&Q.gallery.length>1){var aN=Q.gallery.length;if(Q.options.counterType==\"skip\"){var aI=0,aH=aN,aG=parseInt(Q.options.counterLimit)||0;if(aG<aN&&aG>2){var aK=Math.floor(aG/2);aI=Q.current-aK;if(aI<0){aI+=aN}aH=Q.current+(aG-aK);if(aH>aN){aH-=aN}}while(aI!=aH){if(aI==aN){aI=0}K+='<a onclick=\"Shadowbox.change('+aI+');\"';if(aI==Q.current){K+=' class=\"sb-counter-current\"'}K+=\">\"+(++aI)+\"</a>\"}}else{K=[Q.current+1,Q.lang.of,aN].join(\" \")}}ad(\"sb-counter\").innerHTML=K;aO()}function U(aH){var K=ad(\"sb-title-inner\"),aG=ad(\"sb-info-inner\"),S=0.35;K.style.visibility=aG.style.visibility=\"\";if(K.innerHTML!=\"\"){N(K,\"marginTop\",0,S)}N(aG,\"marginTop\",0,S,aH)}function av(aG,aM){var aK=ad(\"sb-title\"),K=ad(\"sb-info\"),aH=aK.offsetHeight,aI=K.offsetHeight,aJ=ad(\"sb-title-inner\"),aL=ad(\"sb-info-inner\"),S=(aG?0.35:0);N(aJ,\"marginTop\",aH,S);N(aL,\"marginTop\",aI*-1,S,function(){aJ.style.visibility=aL.style.visibility=\"hidden\";aM()})}function ac(K,aH,S,aJ){var aI=ad(\"sb-wrapper-inner\"),aG=(S?Q.options.resizeDuration:0);N(Z,\"top\",aH,aG);N(aI,\"height\",K,aG,aJ)}function ar(K,aH,S,aI){var aG=(S?Q.options.resizeDuration:0);N(Z,\"left\",aH,aG);N(Z,\"width\",K,aG,aI)}function ak(aM,aG){var aI=ad(\"sb-body-inner\"),aM=parseInt(aM),aG=parseInt(aG),S=Z.offsetHeight-aI.offsetHeight,K=Z.offsetWidth-aI.offsetWidth,aK=ae.offsetHeight,aL=ae.offsetWidth,aJ=parseInt(Q.options.viewportPadding)||20,aH=(Q.player&&Q.options.handleOversize!=\"drag\");return Q.setDimensions(aM,aG,aK,aL,S,K,aJ,aH)}var T={};T.markup='<div id=\"sb-container\"><div id=\"sb-overlay\"></div><div id=\"sb-wrapper\"><div id=\"sb-title\"><div id=\"sb-title-inner\"></div></div><div id=\"sb-wrapper-inner\"><div id=\"sb-body\"><div id=\"sb-body-inner\"></div><div id=\"sb-loading\"><div id=\"sb-loading-inner\"><span>{loading}</span></div></div></div></div><div id=\"sb-info\"><div id=\"sb-info-inner\"><div id=\"sb-counter\"></div><div id=\"sb-nav\"><a id=\"sb-nav-close\" title=\"{close}\" onclick=\"Shadowbox.close()\"></a><a id=\"sb-nav-next\" title=\"{next}\" onclick=\"Shadowbox.next()\"></a><a id=\"sb-nav-play\" title=\"{play}\" onclick=\"Shadowbox.play()\"></a><a id=\"sb-nav-pause\" title=\"{pause}\" onclick=\"Shadowbox.pause()\"></a><a id=\"sb-nav-previous\" title=\"{previous}\" onclick=\"Shadowbox.previous()\"></a></div></div></div></div></div>';T.options={animSequence:\"sync\",counterLimit:10,counterType:\"default\",displayCounter:true,displayNav:true,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:false,overlayColor:\"#000\",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:true,troubleElements:[\"select\",\"object\",\"embed\",\"canvas\"]};T.init=function(){Q.appendHTML(document.body,s(T.markup,Q.lang));T.body=ad(\"sb-body-inner\");aa=ad(\"sb-container\");ae=ad(\"sb-overlay\");Z=ad(\"sb-wrapper\");if(!x){aa.style.position=\"absolute\"}if(!h){var aG,K,S=/url\\(\"(.*\\.png)\"\\)/;aF(q,function(aI,aJ){aG=ad(aJ);if(aG){K=Q.getStyle(aG,\"backgroundImage\").match(S);if(K){aG.style.backgroundImage=\"none\";aG.style.filter=\"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src=\"+K[1]+\",sizingMethod=scale);\"}}})}var aH;F(au,\"resize\",function(){if(aH){clearTimeout(aH);aH=null}if(A){aH=setTimeout(T.onWindowResize,10)}})};T.onOpen=function(K,aG){m=false;aa.style.display=\"block\";aB();var S=ak(Q.options.initialHeight,Q.options.initialWidth);ac(S.innerHeight,S.top);ar(S.width,S.left);if(Q.options.showOverlay){ae.style.backgroundColor=Q.options.overlayColor;Q.setOpacity(ae,0);if(!Q.options.modal){F(ae,\"click\",Q.close)}ao=true}if(!x){aE();F(au,\"scroll\",aE)}ay();aa.style.visibility=\"visible\";if(ao){N(ae,\"opacity\",Q.options.overlayOpacity,Q.options.fadeDuration,aG)}else{aG()}};T.onLoad=function(S,K){ah(true);while(T.body.firstChild){C(T.body.firstChild)}av(S,function(){if(!A){return}if(!S){Z.style.visibility=\"visible\"}t(K)})};T.onReady=function(aH){if(!A){return}var S=Q.player,aG=ak(S.height,S.width);var K=function(){U(aH)};switch(Q.options.animSequence){case\"hw\":ac(aG.innerHeight,aG.top,true,function(){ar(aG.width,aG.left,true,K)});break;case\"wh\":ar(aG.width,aG.left,true,function(){ac(aG.innerHeight,aG.top,true,K)});break;default:ar(aG.width,aG.left,true);ac(aG.innerHeight,aG.top,true,K)}};T.onShow=function(K){ah(false,K);m=true};T.onClose=function(){if(!x){M(au,\"scroll\",aE)}M(ae,\"click\",Q.close);Z.style.visibility=\"hidden\";var K=function(){aa.style.visibility=\"hidden\";aa.style.display=\"none\";ay(true)};if(ao){N(ae,\"opacity\",0,Q.options.fadeDuration,K)}else{K()}};T.onPlay=function(){r(\"play\",false);r(\"pause\",true)};T.onPause=function(){r(\"pause\",false);r(\"play\",true)};T.onWindowResize=function(){if(!m){return}aB();var K=Q.player,S=ak(K.height,K.width);ar(S.width,S.left);ac(S.innerHeight,S.top);if(K.onWindowResize){K.onWindowResize()}};Q.skin=T;au.Shadowbox=Q})(window);"
          },
          "redirectURL": "",
          "headersSize": 356,
          "bodySize": 13179
        },
        "cache": {},
        "timings": {
          "blocked": 7,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 2,
          "receive": 1
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 8,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/_css/shadowbox.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 305,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:53:12 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 1999,
            "text": "#sb-title-inner,#sb-info-inner,#sb-loading-inner,div.sb-message{font-family:\"HelveticaNeue-Light\",\"Helvetica Neue\",Helvetica,Arial,sans-serif;font-weight:200;color:#fff;}\n#sb-container{position:fixed;margin:0;padding:0;top:0;left:0;z-index:999;text-align:left;visibility:hidden;display:none;}\n#sb-overlay{position:relative;height:100%;width:100%;}\n#sb-wrapper{position:absolute;visibility:hidden;width:100px;}\n#sb-wrapper-inner{position:relative;border:1px solid #303030;overflow:hidden;height:100px;}\n#sb-body{position:relative;height:100%;}\n#sb-body-inner{position:absolute;height:100%;width:100%;}\n#sb-player.html{height:100%;overflow:auto;}\n#sb-body img{border:none;}\n#sb-loading{position:relative;height:100%;}\n#sb-loading-inner{position:absolute;font-size:14px;line-height:24px;height:24px;top:50%;margin-top:-12px;width:100%;text-align:center;}\n#sb-loading-inner span{background:url(loading.gif) no-repeat;padding-left:34px;display:inline-block;}\n#sb-body,#sb-loading{background-color:#060606;}\n#sb-title,#sb-info{position:relative;margin:0;padding:0;overflow:hidden;}\n#sb-title,#sb-title-inner{height:26px;line-height:26px;}\n#sb-title-inner{font-size:16px;}\n#sb-info,#sb-info-inner{height:20px;line-height:20px;}\n#sb-info-inner{font-size:12px;}\n#sb-nav{float:right;height:16px;padding:2px 0;width:45%;}\n#sb-nav a{display:block;float:right;height:16px;width:16px;margin-left:3px;cursor:pointer;background-repeat:no-repeat;}\n#sb-nav-close{background-image:url(close.png);}\n#sb-nav-next{background-image:url(next.png);}\n#sb-nav-previous{background-image:url(previous.png);}\n#sb-nav-play{background-image:url(play.png);}\n#sb-nav-pause{background-image:url(pause.png);}\n#sb-counter{float:left;width:45%;}\n#sb-counter a{padding:0 4px 0 0;text-decoration:none;cursor:pointer;color:#fff;}\n#sb-counter a.sb-counter-current{text-decoration:underline;}\ndiv.sb-message{font-size:12px;padding:10px;text-align:center;}\ndiv.sb-message a:link,div.sb-message a:visited{color:#fff;text-decoration:underline;}\n"
          },
          "redirectURL": "",
          "headersSize": 340,
          "bodySize": 711
        },
        "cache": {},
        "timings": {
          "blocked": 7,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 1,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 11,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_js/swfobject.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 277,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 07:16:59 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 6758,
            "text": "/**\n * SWFObject v1.5.1: Flash Player detection and embed - http://blog.deconcept.com/swfobject/\n *\n * SWFObject is (c) 2007 Geoff Stearns and is released under the MIT License:\n * http://www.opensource.org/licenses/mit-license.php\n *\n */\nif(typeof deconcept==\"undefined\"){var deconcept={};}if(typeof deconcept.util==\"undefined\"){deconcept.util={};}if(typeof deconcept.SWFObjectUtil==\"undefined\"){deconcept.SWFObjectUtil={};}deconcept.SWFObject=function(_1,id,w,h,_5,c,_7,_8,_9,_a){if(!document.getElementById){return;}this.DETECT_KEY=_a?_a:\"detectflash\";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params={};this.variables={};this.attributes=[];if(_1){this.setAttribute(\"swf\",_1);}if(id){this.setAttribute(\"id\",id);}if(w){this.setAttribute(\"width\",w);}if(h){this.setAttribute(\"height\",h);}if(_5){this.setAttribute(\"version\",new deconcept.PlayerVersion(_5.toString().split(\".\")));}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent(\"onunload\",deconcept.SWFObjectUtil.cleanupSWFs);};window.attachEvent(\"onbeforeunload\",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true;}}if(c){this.addParam(\"bgcolor\",c);}var q=_7?_7:\"high\";this.addParam(\"quality\",q);this.setAttribute(\"useExpressInstall\",false);this.setAttribute(\"doExpressInstall\",false);var _c=(_8)?_8:window.location;this.setAttribute(\"xiRedirectUrl\",_c);this.setAttribute(\"redirectUrl\",\"\");if(_9){this.setAttribute(\"redirectUrl\",_9);}};deconcept.SWFObject.prototype={useExpressInstall:function(_d){this.xiSWFPath=!_d?\"expressinstall.swf\":_d;this.setAttribute(\"useExpressInstall\",true);},setAttribute:function(_e,_f){this.attributes[_e]=_f;},getAttribute:function(_10){return this.attributes[_10]||\"\";},addParam:function(_11,_12){this.params[_11]=_12;},getParams:function(){return this.params;},addVariable:function(_13,_14){this.variables[_13]=_14;},getVariable:function(_15){return this.variables[_15]||\"\";},getVariables:function(){return this.variables;},getVariablePairs:function(){var _16=[];var key;var _18=this.getVariables();for(key in _18){_16[_16.length]=key+\"=\"+_18[key];}return _16;},getSWFHTML:function(){var _19=\"\";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute(\"doExpressInstall\")){this.addVariable(\"MMplayerType\",\"PlugIn\");this.setAttribute(\"swf\",this.xiSWFPath);}_19=\"<embed type=\\\"application/x-shockwave-flash\\\" src=\\\"\"+this.getAttribute(\"swf\")+\"\\\" width=\\\"\"+this.getAttribute(\"width\")+\"\\\" height=\\\"\"+this.getAttribute(\"height\")+\"\\\" style=\\\"\"+(this.getAttribute(\"style\")||\"\")+\"\\\"\";_19+=\" id=\\\"\"+this.getAttribute(\"id\")+\"\\\" name=\\\"\"+this.getAttribute(\"id\")+\"\\\" \";var _1a=this.getParams();for(var key in _1a){_19+=[key]+\"=\\\"\"+_1a[key]+\"\\\" \";}var _1c=this.getVariablePairs().join(\"&\");if(_1c.length>0){_19+=\"flashvars=\\\"\"+_1c+\"\\\"\";}_19+=\"/>\";}else{if(this.getAttribute(\"doExpressInstall\")){this.addVariable(\"MMplayerType\",\"ActiveX\");this.setAttribute(\"swf\",this.xiSWFPath);}_19=\"<object id=\\\"\"+this.getAttribute(\"id\")+\"\\\" classid=\\\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\\\" width=\\\"\"+this.getAttribute(\"width\")+\"\\\" height=\\\"\"+this.getAttribute(\"height\")+\"\\\" style=\\\"\"+(this.getAttribute(\"style\")||\"\")+\"\\\">\";_19+=\"<param name=\\\"movie\\\" value=\\\"\"+this.getAttribute(\"swf\")+\"\\\" />\";var _1d=this.getParams();for(var key in _1d){_19+=\"<param name=\\\"\"+key+\"\\\" value=\\\"\"+_1d[key]+\"\\\" />\";}var _1f=this.getVariablePairs().join(\"&\");if(_1f.length>0){_19+=\"<param name=\\\"flashvars\\\" value=\\\"\"+_1f+\"\\\" />\";}_19+=\"</object>\";}return _19;},write:function(_20){if(this.getAttribute(\"useExpressInstall\")){var _21=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(_21)&&!this.installedVer.versionIsValid(this.getAttribute(\"version\"))){this.setAttribute(\"doExpressInstall\",true);this.addVariable(\"MMredirectURL\",escape(this.getAttribute(\"xiRedirectUrl\")));document.title=document.title.slice(0,47)+\" - Flash Player Installation\";this.addVariable(\"MMdoctitle\",document.title);}}if(this.skipDetect||this.getAttribute(\"doExpressInstall\")||this.installedVer.versionIsValid(this.getAttribute(\"version\"))){var n=(typeof _20==\"string\")?document.getElementById(_20):_20;n.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute(\"redirectUrl\")!=\"\"){document.location.replace(this.getAttribute(\"redirectUrl\"));}}return false;}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var _23=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var x=navigator.plugins[\"Shockwave Flash\"];if(x&&x.description){_23=new deconcept.PlayerVersion(x.description.replace(/([a-zA-Z]|\\s)+/,\"\").replace(/(\\s+r|\\s+b[0-9]+)/,\".\").split(\".\"));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf(\"Windows CE\")>=0){var axo=1;var _26=3;while(axo){try{_26++;axo=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.\"+_26);_23=new deconcept.PlayerVersion([_26,0,0]);}catch(e){axo=null;}}}else{try{var axo=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.7\");}catch(e){try{var axo=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.6\");_23=new deconcept.PlayerVersion([6,0,21]);axo.AllowScriptAccess=\"always\";}catch(e){if(_23.major==6){return _23;}}try{axo=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");}catch(e){}}if(axo!=null){_23=new deconcept.PlayerVersion(axo.GetVariable(\"$version\").split(\" \")[1].split(\",\"));}}}return _23;};deconcept.PlayerVersion=function(_29){this.major=_29[0]!=null?parseInt(_29[0]):0;this.minor=_29[1]!=null?parseInt(_29[1]):0;this.rev=_29[2]!=null?parseInt(_29[2]):0;};deconcept.PlayerVersion.prototype.versionIsValid=function(fv){if(this.major<fv.major){return false;}if(this.major>fv.major){return true;}if(this.minor<fv.minor){return false;}if(this.minor>fv.minor){return true;}if(this.rev<fv.rev){return false;}return true;};deconcept.util={getRequestParameter:function(_2b){var q=document.location.search||document.location.hash;if(_2b==null){return q;}if(q){var _2d=q.substring(1).split(\"&\");for(var i=0;i<_2d.length;i++){if(_2d[i].substring(0,_2d[i].indexOf(\"=\"))==_2b){return _2d[i].substring((_2d[i].indexOf(\"=\")+1));}}}return \"\";}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var _2f=document.getElementsByTagName(\"OBJECT\");for(var i=_2f.length-1;i>=0;i--){_2f[i].style.display=\"none\";for(var x in _2f[i]){if(typeof _2f[i][x]==\"function\"){_2f[i][x]=function(){};}}}};if(!document.getElementById&&document.all){document.getElementById=function(id){return document.all[id];};}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;"
          },
          "redirectURL": "",
          "headersSize": 356,
          "bodySize": 2242
        },
        "cache": {},
        "timings": {
          "blocked": 8,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 2,
          "receive": 1
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 9,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/_css/ddsmoothmenu.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 308,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 04 May 2012 06:22:55 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "text/css",
            "size": 1600,
            "text": ".ddsmoothmenu {\n\n}\n\n.ddsmoothmenu ul {\n\n}\n\n/*Top level list items*/\n.ddsmoothmenu ul li {\n\n}\n\n/*Top level menu link items style*/\n.ddsmoothmenu ul li a {\n    display: block;\n    text-decoration: none;\n}\n* html .ddsmoothmenu ul li a { /*IE6 hack to get sub menu links to behave correctly*/\n    display: inline-block;\n}\n\n.ddsmoothmenu ul li a:link, .ddsmoothmenu ul li a:visited {\n\n}\n\n.ddsmoothmenu ul li a.selected { /*CSS class that's dynamically added to the currently active menu items' LI A element*/\n\n}\n\n.ddsmoothmenu ul li a:hover {\n\n}\n\n.ddsmoothmenu ul li ul li a {\n\n}\n.ddsmoothmenu ul li ul li a:hover {\n\n}\n\n/*1st sub level menu*/\n.ddsmoothmenu ul li ul {\n    position: absolute;\n\tmargin-top:-18px;\n\tmargin-left:-6px;\n    display: none; /*collapse all sub menus to begin with*/\n    visibility: hidden;\n\tmargin-left:-30px;\n}\n\n/*Sub level menu list items (undo style from Top level List Items)*/\n.ddsmoothmenu ul li ul li {\n    display: list-item;\n    float: none;\n\n}\n\n/*All subsequent sub menu levels vertical offset after 1st level sub menu */\n.ddsmoothmenu ul li ul li ul {\n\n}\n\n/* Sub level menu links style */\n.ddsmoothmenu ul li ul li a {\n\n}\n\n/* Holly Hack for IE \\*/ * html .ddsmoothmenu {\n    height: 1%;\n}\n /*Holly Hack for IE7 and below*/\n/* ######### CSS classes applied to down and right arrow images  ######### */\n.downarrowclass {\n    position: absolute;\n\n}\n\n.rightarrowclass {\n    position: absolute;\n}\n\n/* ######### CSS for shadow added to sub menus  ######### */\n.ddshadow {\n    position: absolute;\n\n}\n\n.toplevelshadow { /*shadow opacity. Doesn't work in IE*/\n    opacity: 0.8;\n}"
          },
          "redirectURL": "",
          "headersSize": 340,
          "bodySize": 627
        },
        "cache": {},
        "timings": {
          "blocked": 8,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 1,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 19,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_js/jquery-1.4.4.min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 284,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 07:16:58 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 78601,
            "text": "/*!\n * jQuery JavaScript Library v1.4.4\n * http://jquery.com/\n *\n * Copyright 2010, John Resig\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n * Copyright 2010, The Dojo Foundation\n * Released under the MIT, BSD, and GPL Licenses.\n *\n * Date: Thu Nov 11 19:04:53 2010 -0500\n */\n(function(E,B){function ka(a,b,d){if(d===B&&a.nodeType===1){d=a.getAttribute(\"data-\"+b);if(typeof d===\"string\"){try{d=d===\"true\"?true:d===\"false\"?false:d===\"null\"?null:!c.isNaN(d)?parseFloat(d):Ja.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else d=B}return d}function U(){return false}function ca(){return true}function la(a,b,d){d[0].type=a;return c.event.handle.apply(b,d)}function Ka(a){var b,d,e,f,h,l,k,o,x,r,A,C=[];f=[];h=c.data(this,this.nodeType?\"events\":\"__events__\");if(typeof h===\"function\")h=\nh.events;if(!(a.liveFired===this||!h||!h.live||a.button&&a.type===\"click\")){if(a.namespace)A=RegExp(\"(^|\\\\.)\"+a.namespace.split(\".\").join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\");a.liveFired=this;var J=h.live.slice(0);for(k=0;k<J.length;k++){h=J[k];h.origType.replace(X,\"\")===a.type?f.push(h.selector):J.splice(k--,1)}f=c(a.target).closest(f,a.currentTarget);o=0;for(x=f.length;o<x;o++){r=f[o];for(k=0;k<J.length;k++){h=J[k];if(r.selector===h.selector&&(!A||A.test(h.namespace))){l=r.elem;e=null;if(h.preType===\"mouseenter\"||\nh.preType===\"mouseleave\"){a.type=h.preType;e=c(a.relatedTarget).closest(h.selector)[0]}if(!e||e!==l)C.push({elem:l,handleObj:h,level:r.level})}}}o=0;for(x=C.length;o<x;o++){f=C[o];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;A=f.handleObj.origHandler.apply(f.elem,arguments);if(A===false||a.isPropagationStopped()){d=f.level;if(A===false)b=false;if(a.isImmediatePropagationStopped())break}}return b}}function Y(a,b){return(a&&a!==\"*\"?a+\".\":\"\")+b.replace(La,\n\"`\").replace(Ma,\"&\")}function ma(a,b,d){if(c.isFunction(b))return c.grep(a,function(f,h){return!!b.call(f,h,f)===d});else if(b.nodeType)return c.grep(a,function(f){return f===b===d});else if(typeof b===\"string\"){var e=c.grep(a,function(f){return f.nodeType===1});if(Na.test(b))return c.filter(b,e,!d);else b=c.filter(b,e)}return c.grep(a,function(f){return c.inArray(f,b)>=0===d})}function na(a,b){var d=0;b.each(function(){if(this.nodeName===(a[d]&&a[d].nodeName)){var e=c.data(a[d++]),f=c.data(this,\ne);if(e=e&&e.events){delete f.handle;f.events={};for(var h in e)for(var l in e[h])c.event.add(this,h,e[h][l],e[h][l].data)}}})}function Oa(a,b){b.src?c.ajax({url:b.src,async:false,dataType:\"script\"}):c.globalEval(b.text||b.textContent||b.innerHTML||\"\");b.parentNode&&b.parentNode.removeChild(b)}function oa(a,b,d){var e=b===\"width\"?a.offsetWidth:a.offsetHeight;if(d===\"border\")return e;c.each(b===\"width\"?Pa:Qa,function(){d||(e-=parseFloat(c.css(a,\"padding\"+this))||0);if(d===\"margin\")e+=parseFloat(c.css(a,\n\"margin\"+this))||0;else e-=parseFloat(c.css(a,\"border\"+this+\"Width\"))||0});return e}function da(a,b,d,e){if(c.isArray(b)&&b.length)c.each(b,function(f,h){d||Ra.test(a)?e(a,h):da(a+\"[\"+(typeof h===\"object\"||c.isArray(h)?f:\"\")+\"]\",h,d,e)});else if(!d&&b!=null&&typeof b===\"object\")c.isEmptyObject(b)?e(a,\"\"):c.each(b,function(f,h){da(a+\"[\"+f+\"]\",h,d,e)});else e(a,b)}function S(a,b){var d={};c.each(pa.concat.apply([],pa.slice(0,b)),function(){d[this]=a});return d}function qa(a){if(!ea[a]){var b=c(\"<\"+\na+\">\").appendTo(\"body\"),d=b.css(\"display\");b.remove();if(d===\"none\"||d===\"\")d=\"block\";ea[a]=d}return ea[a]}function fa(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var t=E.document,c=function(){function a(){if(!b.isReady){try{t.documentElement.doScroll(\"left\")}catch(j){setTimeout(a,1);return}b.ready()}}var b=function(j,s){return new b.fn.init(j,s)},d=E.jQuery,e=E.$,f,h=/^(?:[^<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]+)$)/,l=/\\S/,k=/^\\s+/,o=/\\s+$/,x=/\\W/,r=/\\d/,A=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,\nC=/^[\\],:{}\\s]*$/,J=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,w=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,I=/(?:^|:|,)(?:\\s*\\[)+/g,L=/(webkit)[ \\/]([\\w.]+)/,g=/(opera)(?:.*version)?[ \\/]([\\w.]+)/,i=/(msie) ([\\w.]+)/,n=/(mozilla)(?:.*? rv:([\\w.]+))?/,m=navigator.userAgent,p=false,q=[],u,y=Object.prototype.toString,F=Object.prototype.hasOwnProperty,M=Array.prototype.push,N=Array.prototype.slice,O=String.prototype.trim,D=Array.prototype.indexOf,R={};b.fn=b.prototype={init:function(j,\ns){var v,z,H;if(!j)return this;if(j.nodeType){this.context=this[0]=j;this.length=1;return this}if(j===\"body\"&&!s&&t.body){this.context=t;this[0]=t.body;this.selector=\"body\";this.length=1;return this}if(typeof j===\"string\")if((v=h.exec(j))&&(v[1]||!s))if(v[1]){H=s?s.ownerDocument||s:t;if(z=A.exec(j))if(b.isPlainObject(s)){j=[t.createElement(z[1])];b.fn.attr.call(j,s,true)}else j=[H.createElement(z[1])];else{z=b.buildFragment([v[1]],[H]);j=(z.cacheable?z.fragment.cloneNode(true):z.fragment).childNodes}return b.merge(this,\nj)}else{if((z=t.getElementById(v[2]))&&z.parentNode){if(z.id!==v[2])return f.find(j);this.length=1;this[0]=z}this.context=t;this.selector=j;return this}else if(!s&&!x.test(j)){this.selector=j;this.context=t;j=t.getElementsByTagName(j);return b.merge(this,j)}else return!s||s.jquery?(s||f).find(j):b(s).find(j);else if(b.isFunction(j))return f.ready(j);if(j.selector!==B){this.selector=j.selector;this.context=j.context}return b.makeArray(j,this)},selector:\"\",jquery:\"1.4.4\",length:0,size:function(){return this.length},\ntoArray:function(){return N.call(this,0)},get:function(j){return j==null?this.toArray():j<0?this.slice(j)[0]:this[j]},pushStack:function(j,s,v){var z=b();b.isArray(j)?M.apply(z,j):b.merge(z,j);z.prevObject=this;z.context=this.context;if(s===\"find\")z.selector=this.selector+(this.selector?\" \":\"\")+v;else if(s)z.selector=this.selector+\".\"+s+\"(\"+v+\")\";return z},each:function(j,s){return b.each(this,j,s)},ready:function(j){b.bindReady();if(b.isReady)j.call(t,b);else q&&q.push(j);return this},eq:function(j){return j===\n-1?this.slice(j):this.slice(j,+j+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),\"slice\",N.call(arguments).join(\",\"))},map:function(j){return this.pushStack(b.map(this,function(s,v){return j.call(s,v,s)}))},end:function(){return this.prevObject||b(null)},push:M,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var j,s,v,z,H,G=arguments[0]||{},K=1,Q=arguments.length,ga=false;\nif(typeof G===\"boolean\"){ga=G;G=arguments[1]||{};K=2}if(typeof G!==\"object\"&&!b.isFunction(G))G={};if(Q===K){G=this;--K}for(;K<Q;K++)if((j=arguments[K])!=null)for(s in j){v=G[s];z=j[s];if(G!==z)if(ga&&z&&(b.isPlainObject(z)||(H=b.isArray(z)))){if(H){H=false;v=v&&b.isArray(v)?v:[]}else v=v&&b.isPlainObject(v)?v:{};G[s]=b.extend(ga,v,z)}else if(z!==B)G[s]=z}return G};b.extend({noConflict:function(j){E.$=e;if(j)E.jQuery=d;return b},isReady:false,readyWait:1,ready:function(j){j===true&&b.readyWait--;\nif(!b.readyWait||j!==true&&!b.isReady){if(!t.body)return setTimeout(b.ready,1);b.isReady=true;if(!(j!==true&&--b.readyWait>0))if(q){var s=0,v=q;for(q=null;j=v[s++];)j.call(t,b);b.fn.trigger&&b(t).trigger(\"ready\").unbind(\"ready\")}}},bindReady:function(){if(!p){p=true;if(t.readyState===\"complete\")return setTimeout(b.ready,1);if(t.addEventListener){t.addEventListener(\"DOMContentLoaded\",u,false);E.addEventListener(\"load\",b.ready,false)}else if(t.attachEvent){t.attachEvent(\"onreadystatechange\",u);E.attachEvent(\"onload\",\nb.ready);var j=false;try{j=E.frameElement==null}catch(s){}t.documentElement.doScroll&&j&&a()}}},isFunction:function(j){return b.type(j)===\"function\"},isArray:Array.isArray||function(j){return b.type(j)===\"array\"},isWindow:function(j){return j&&typeof j===\"object\"&&\"setInterval\"in j},isNaN:function(j){return j==null||!r.test(j)||isNaN(j)},type:function(j){return j==null?String(j):R[y.call(j)]||\"object\"},isPlainObject:function(j){if(!j||b.type(j)!==\"object\"||j.nodeType||b.isWindow(j))return false;if(j.constructor&&\n!F.call(j,\"constructor\")&&!F.call(j.constructor.prototype,\"isPrototypeOf\"))return false;for(var s in j);return s===B||F.call(j,s)},isEmptyObject:function(j){for(var s in j)return false;return true},error:function(j){throw j;},parseJSON:function(j){if(typeof j!==\"string\"||!j)return null;j=b.trim(j);if(C.test(j.replace(J,\"@\").replace(w,\"]\").replace(I,\"\")))return E.JSON&&E.JSON.parse?E.JSON.parse(j):(new Function(\"return \"+j))();else b.error(\"Invalid JSON: \"+j)},noop:function(){},globalEval:function(j){if(j&&\nl.test(j)){var s=t.getElementsByTagName(\"head\")[0]||t.documentElement,v=t.createElement(\"script\");v.type=\"text/javascript\";if(b.support.scriptEval)v.appendChild(t.createTextNode(j));else v.text=j;s.insertBefore(v,s.firstChild);s.removeChild(v)}},nodeName:function(j,s){return j.nodeName&&j.nodeName.toUpperCase()===s.toUpperCase()},each:function(j,s,v){var z,H=0,G=j.length,K=G===B||b.isFunction(j);if(v)if(K)for(z in j){if(s.apply(j[z],v)===false)break}else for(;H<G;){if(s.apply(j[H++],v)===false)break}else if(K)for(z in j){if(s.call(j[z],\nz,j[z])===false)break}else for(v=j[0];H<G&&s.call(v,H,v)!==false;v=j[++H]);return j},trim:O?function(j){return j==null?\"\":O.call(j)}:function(j){return j==null?\"\":j.toString().replace(k,\"\").replace(o,\"\")},makeArray:function(j,s){var v=s||[];if(j!=null){var z=b.type(j);j.length==null||z===\"string\"||z===\"function\"||z===\"regexp\"||b.isWindow(j)?M.call(v,j):b.merge(v,j)}return v},inArray:function(j,s){if(s.indexOf)return s.indexOf(j);for(var v=0,z=s.length;v<z;v++)if(s[v]===j)return v;return-1},merge:function(j,\ns){var v=j.length,z=0;if(typeof s.length===\"number\")for(var H=s.length;z<H;z++)j[v++]=s[z];else for(;s[z]!==B;)j[v++]=s[z++];j.length=v;return j},grep:function(j,s,v){var z=[],H;v=!!v;for(var G=0,K=j.length;G<K;G++){H=!!s(j[G],G);v!==H&&z.push(j[G])}return z},map:function(j,s,v){for(var z=[],H,G=0,K=j.length;G<K;G++){H=s(j[G],G,v);if(H!=null)z[z.length]=H}return z.concat.apply([],z)},guid:1,proxy:function(j,s,v){if(arguments.length===2)if(typeof s===\"string\"){v=j;j=v[s];s=B}else if(s&&!b.isFunction(s)){v=\ns;s=B}if(!s&&j)s=function(){return j.apply(v||this,arguments)};if(j)s.guid=j.guid=j.guid||s.guid||b.guid++;return s},access:function(j,s,v,z,H,G){var K=j.length;if(typeof s===\"object\"){for(var Q in s)b.access(j,Q,s[Q],z,H,v);return j}if(v!==B){z=!G&&z&&b.isFunction(v);for(Q=0;Q<K;Q++)H(j[Q],s,z?v.call(j[Q],Q,H(j[Q],s)):v,G);return j}return K?H(j[0],s):B},now:function(){return(new Date).getTime()},uaMatch:function(j){j=j.toLowerCase();j=L.exec(j)||g.exec(j)||i.exec(j)||j.indexOf(\"compatible\")<0&&n.exec(j)||\n[];return{browser:j[1]||\"\",version:j[2]||\"0\"}},browser:{}});b.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"),function(j,s){R[\"[object \"+s+\"]\"]=s.toLowerCase()});m=b.uaMatch(m);if(m.browser){b.browser[m.browser]=true;b.browser.version=m.version}if(b.browser.webkit)b.browser.safari=true;if(D)b.inArray=function(j,s){return D.call(s,j)};if(!/\\s/.test(\"\\u00a0\")){k=/^[\\s\\xA0]+/;o=/[\\s\\xA0]+$/}f=b(t);if(t.addEventListener)u=function(){t.removeEventListener(\"DOMContentLoaded\",u,\nfalse);b.ready()};else if(t.attachEvent)u=function(){if(t.readyState===\"complete\"){t.detachEvent(\"onreadystatechange\",u);b.ready()}};return E.jQuery=E.$=b}();(function(){c.support={};var a=t.documentElement,b=t.createElement(\"script\"),d=t.createElement(\"div\"),e=\"script\"+c.now();d.style.display=\"none\";d.innerHTML=\"   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>\";var f=d.getElementsByTagName(\"*\"),h=d.getElementsByTagName(\"a\")[0],l=t.createElement(\"select\"),\nk=l.appendChild(t.createElement(\"option\"));if(!(!f||!f.length||!h)){c.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName(\"tbody\").length,htmlSerialize:!!d.getElementsByTagName(\"link\").length,style:/red/.test(h.getAttribute(\"style\")),hrefNormalized:h.getAttribute(\"href\")===\"/a\",opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:d.getElementsByTagName(\"input\")[0].value===\"on\",optSelected:k.selected,deleteExpando:true,optDisabled:false,checkClone:false,\nscriptEval:false,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};l.disabled=true;c.support.optDisabled=!k.disabled;b.type=\"text/javascript\";try{b.appendChild(t.createTextNode(\"window.\"+e+\"=1;\"))}catch(o){}a.insertBefore(b,a.firstChild);if(E[e]){c.support.scriptEval=true;delete E[e]}try{delete b.test}catch(x){c.support.deleteExpando=false}a.removeChild(b);if(d.attachEvent&&d.fireEvent){d.attachEvent(\"onclick\",function r(){c.support.noCloneEvent=\nfalse;d.detachEvent(\"onclick\",r)});d.cloneNode(true).fireEvent(\"onclick\")}d=t.createElement(\"div\");d.innerHTML=\"<input type='radio' name='radiotest' checked='checked'/>\";a=t.createDocumentFragment();a.appendChild(d.firstChild);c.support.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var r=t.createElement(\"div\");r.style.width=r.style.paddingLeft=\"1px\";t.body.appendChild(r);c.boxModel=c.support.boxModel=r.offsetWidth===2;if(\"zoom\"in r.style){r.style.display=\"inline\";r.style.zoom=\n1;c.support.inlineBlockNeedsLayout=r.offsetWidth===2;r.style.display=\"\";r.innerHTML=\"<div style='width:4px;'></div>\";c.support.shrinkWrapBlocks=r.offsetWidth!==2}r.innerHTML=\"<table><tr><td style='padding:0;display:none'></td><td>t</td></tr></table>\";var A=r.getElementsByTagName(\"td\");c.support.reliableHiddenOffsets=A[0].offsetHeight===0;A[0].style.display=\"\";A[1].style.display=\"none\";c.support.reliableHiddenOffsets=c.support.reliableHiddenOffsets&&A[0].offsetHeight===0;r.innerHTML=\"\";t.body.removeChild(r).style.display=\n\"none\"});a=function(r){var A=t.createElement(\"div\");r=\"on\"+r;var C=r in A;if(!C){A.setAttribute(r,\"return;\");C=typeof A[r]===\"function\"}return C};c.support.submitBubbles=a(\"submit\");c.support.changeBubbles=a(\"change\");a=b=d=f=h=null}})();var ra={},Ja=/^(?:\\{.*\\}|\\[.*\\])$/;c.extend({cache:{},uuid:0,expando:\"jQuery\"+c.now(),noData:{embed:true,object:\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",applet:true},data:function(a,b,d){if(c.acceptData(a)){a=a==E?ra:a;var e=a.nodeType,f=e?a[c.expando]:null,h=\nc.cache;if(!(e&&!f&&typeof b===\"string\"&&d===B)){if(e)f||(a[c.expando]=f=++c.uuid);else h=a;if(typeof b===\"object\")if(e)h[f]=c.extend(h[f],b);else c.extend(h,b);else if(e&&!h[f])h[f]={};a=e?h[f]:h;if(d!==B)a[b]=d;return typeof b===\"string\"?a[b]:a}}},removeData:function(a,b){if(c.acceptData(a)){a=a==E?ra:a;var d=a.nodeType,e=d?a[c.expando]:a,f=c.cache,h=d?f[e]:e;if(b){if(h){delete h[b];d&&c.isEmptyObject(h)&&c.removeData(a)}}else if(d&&c.support.deleteExpando)delete a[c.expando];else if(a.removeAttribute)a.removeAttribute(c.expando);\nelse if(d)delete f[e];else for(var l in a)delete a[l]}},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute(\"classid\")!==b)}return true}});c.fn.extend({data:function(a,b){var d=null;if(typeof a===\"undefined\"){if(this.length){var e=this[0].attributes,f;d=c.data(this[0]);for(var h=0,l=e.length;h<l;h++){f=e[h].name;if(f.indexOf(\"data-\")===0){f=f.substr(5);ka(this[0],f,d[f])}}}return d}else if(typeof a===\"object\")return this.each(function(){c.data(this,\na)});var k=a.split(\".\");k[1]=k[1]?\".\"+k[1]:\"\";if(b===B){d=this.triggerHandler(\"getData\"+k[1]+\"!\",[k[0]]);if(d===B&&this.length){d=c.data(this[0],a);d=ka(this[0],a,d)}return d===B&&k[1]?this.data(k[0]):d}else return this.each(function(){var o=c(this),x=[k[0],b];o.triggerHandler(\"setData\"+k[1]+\"!\",x);c.data(this,a,b);o.triggerHandler(\"changeData\"+k[1]+\"!\",x)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||\"fx\")+\"queue\";var e=\nc.data(a,b);if(!d)return e||[];if(!e||c.isArray(d))e=c.data(a,b,c.makeArray(d));else e.push(d);return e}},dequeue:function(a,b){b=b||\"fx\";var d=c.queue(a,b),e=d.shift();if(e===\"inprogress\")e=d.shift();if(e){b===\"fx\"&&d.unshift(\"inprogress\");e.call(a,function(){c.dequeue(a,b)})}}});c.fn.extend({queue:function(a,b){if(typeof a!==\"string\"){b=a;a=\"fx\"}if(b===B)return c.queue(this[0],a);return this.each(function(){var d=c.queue(this,a,b);a===\"fx\"&&d[0]!==\"inprogress\"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,\na)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||\"fx\";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])}});var sa=/[\\n\\t]/g,ha=/\\s+/,Sa=/\\r/g,Ta=/^(?:href|src|style)$/,Ua=/^(?:button|input)$/i,Va=/^(?:button|input|object|select|textarea)$/i,Wa=/^a(?:rea)?$/i,ta=/^(?:radio|checkbox)$/i;c.props={\"for\":\"htmlFor\",\"class\":\"className\",readonly:\"readOnly\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",rowspan:\"rowSpan\",\ncolspan:\"colSpan\",tabindex:\"tabIndex\",usemap:\"useMap\",frameborder:\"frameBorder\"};c.fn.extend({attr:function(a,b){return c.access(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.attr(this,a,\"\");this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(c.isFunction(a))return this.each(function(x){var r=c(this);r.addClass(a.call(this,x,r.attr(\"class\")))});if(a&&typeof a===\"string\")for(var b=(a||\"\").split(ha),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===\n1)if(f.className){for(var h=\" \"+f.className+\" \",l=f.className,k=0,o=b.length;k<o;k++)if(h.indexOf(\" \"+b[k]+\" \")<0)l+=\" \"+b[k];f.className=c.trim(l)}else f.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(o){var x=c(this);x.removeClass(a.call(this,o,x.attr(\"class\")))});if(a&&typeof a===\"string\"||a===B)for(var b=(a||\"\").split(ha),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){for(var h=(\" \"+f.className+\" \").replace(sa,\" \"),\nl=0,k=b.length;l<k;l++)h=h.replace(\" \"+b[l]+\" \",\" \");f.className=c.trim(h)}else f.className=\"\"}return this},toggleClass:function(a,b){var d=typeof a,e=typeof b===\"boolean\";if(c.isFunction(a))return this.each(function(f){var h=c(this);h.toggleClass(a.call(this,f,h.attr(\"class\"),b),b)});return this.each(function(){if(d===\"string\")for(var f,h=0,l=c(this),k=b,o=a.split(ha);f=o[h++];){k=e?k:!l.hasClass(f);l[k?\"addClass\":\"removeClass\"](f)}else if(d===\"undefined\"||d===\"boolean\"){this.className&&c.data(this,\n\"__className__\",this.className);this.className=this.className||a===false?\"\":c.data(this,\"__className__\")||\"\"}})},hasClass:function(a){a=\" \"+a+\" \";for(var b=0,d=this.length;b<d;b++)if((\" \"+this[b].className+\" \").replace(sa,\" \").indexOf(a)>-1)return true;return false},val:function(a){if(!arguments.length){var b=this[0];if(b){if(c.nodeName(b,\"option\")){var d=b.attributes.value;return!d||d.specified?b.value:b.text}if(c.nodeName(b,\"select\")){var e=b.selectedIndex;d=[];var f=b.options;b=b.type===\"select-one\";\nif(e<0)return null;var h=b?e:0;for(e=b?e+1:f.length;h<e;h++){var l=f[h];if(l.selected&&(c.support.optDisabled?!l.disabled:l.getAttribute(\"disabled\")===null)&&(!l.parentNode.disabled||!c.nodeName(l.parentNode,\"optgroup\"))){a=c(l).val();if(b)return a;d.push(a)}}return d}if(ta.test(b.type)&&!c.support.checkOn)return b.getAttribute(\"value\")===null?\"on\":b.value;return(b.value||\"\").replace(Sa,\"\")}return B}var k=c.isFunction(a);return this.each(function(o){var x=c(this),r=a;if(this.nodeType===1){if(k)r=\na.call(this,o,x.val());if(r==null)r=\"\";else if(typeof r===\"number\")r+=\"\";else if(c.isArray(r))r=c.map(r,function(C){return C==null?\"\":C+\"\"});if(c.isArray(r)&&ta.test(this.type))this.checked=c.inArray(x.val(),r)>=0;else if(c.nodeName(this,\"select\")){var A=c.makeArray(r);c(\"option\",this).each(function(){this.selected=c.inArray(c(this).val(),A)>=0});if(!A.length)this.selectedIndex=-1}else this.value=r}})}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},\nattr:function(a,b,d,e){if(!a||a.nodeType===3||a.nodeType===8)return B;if(e&&b in c.attrFn)return c(a)[b](d);e=a.nodeType!==1||!c.isXMLDoc(a);var f=d!==B;b=e&&c.props[b]||b;var h=Ta.test(b);if((b in a||a[b]!==B)&&e&&!h){if(f){b===\"type\"&&Ua.test(a.nodeName)&&a.parentNode&&c.error(\"type property can't be changed\");if(d===null)a.nodeType===1&&a.removeAttribute(b);else a[b]=d}if(c.nodeName(a,\"form\")&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;if(b===\"tabIndex\")return(b=a.getAttributeNode(\"tabIndex\"))&&\nb.specified?b.value:Va.test(a.nodeName)||Wa.test(a.nodeName)&&a.href?0:B;return a[b]}if(!c.support.style&&e&&b===\"style\"){if(f)a.style.cssText=\"\"+d;return a.style.cssText}f&&a.setAttribute(b,\"\"+d);if(!a.attributes[b]&&a.hasAttribute&&!a.hasAttribute(b))return B;a=!c.support.hrefNormalized&&e&&h?a.getAttribute(b,2):a.getAttribute(b);return a===null?B:a}});var X=/\\.(.*)$/,ia=/^(?:textarea|input|select)$/i,La=/\\./g,Ma=/ /g,Xa=/[^\\w\\s.|`]/g,Ya=function(a){return a.replace(Xa,\"\\\\$&\")},ua={focusin:0,focusout:0};\nc.event={add:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(c.isWindow(a)&&a!==E&&!a.frameElement)a=E;if(d===false)d=U;else if(!d)return;var f,h;if(d.handler){f=d;d=f.handler}if(!d.guid)d.guid=c.guid++;if(h=c.data(a)){var l=a.nodeType?\"events\":\"__events__\",k=h[l],o=h.handle;if(typeof k===\"function\"){o=k.handle;k=k.events}else if(!k){a.nodeType||(h[l]=h=function(){});h.events=k={}}if(!o)h.handle=o=function(){return typeof c!==\"undefined\"&&!c.event.triggered?c.event.handle.apply(o.elem,\narguments):B};o.elem=a;b=b.split(\" \");for(var x=0,r;l=b[x++];){h=f?c.extend({},f):{handler:d,data:e};if(l.indexOf(\".\")>-1){r=l.split(\".\");l=r.shift();h.namespace=r.slice(0).sort().join(\".\")}else{r=[];h.namespace=\"\"}h.type=l;if(!h.guid)h.guid=d.guid;var A=k[l],C=c.event.special[l]||{};if(!A){A=k[l]=[];if(!C.setup||C.setup.call(a,e,r,o)===false)if(a.addEventListener)a.addEventListener(l,o,false);else a.attachEvent&&a.attachEvent(\"on\"+l,o)}if(C.add){C.add.call(a,h);if(!h.handler.guid)h.handler.guid=\nd.guid}A.push(h);c.event.global[l]=true}a=null}}},global:{},remove:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(d===false)d=U;var f,h,l=0,k,o,x,r,A,C,J=a.nodeType?\"events\":\"__events__\",w=c.data(a),I=w&&w[J];if(w&&I){if(typeof I===\"function\"){w=I;I=I.events}if(b&&b.type){d=b.handler;b=b.type}if(!b||typeof b===\"string\"&&b.charAt(0)===\".\"){b=b||\"\";for(f in I)c.event.remove(a,f+b)}else{for(b=b.split(\" \");f=b[l++];){r=f;k=f.indexOf(\".\")<0;o=[];if(!k){o=f.split(\".\");f=o.shift();x=RegExp(\"(^|\\\\.)\"+\nc.map(o.slice(0).sort(),Ya).join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\")}if(A=I[f])if(d){r=c.event.special[f]||{};for(h=e||0;h<A.length;h++){C=A[h];if(d.guid===C.guid){if(k||x.test(C.namespace)){e==null&&A.splice(h--,1);r.remove&&r.remove.call(a,C)}if(e!=null)break}}if(A.length===0||e!=null&&A.length===1){if(!r.teardown||r.teardown.call(a,o)===false)c.removeEvent(a,f,w.handle);delete I[f]}}else for(h=0;h<A.length;h++){C=A[h];if(k||x.test(C.namespace)){c.event.remove(a,r,C.handler,h);A.splice(h--,1)}}}if(c.isEmptyObject(I)){if(b=\nw.handle)b.elem=null;delete w.events;delete w.handle;if(typeof w===\"function\")c.removeData(a,J);else c.isEmptyObject(w)&&c.removeData(a)}}}}},trigger:function(a,b,d,e){var f=a.type||a;if(!e){a=typeof a===\"object\"?a[c.expando]?a:c.extend(c.Event(f),a):c.Event(f);if(f.indexOf(\"!\")>=0){a.type=f=f.slice(0,-1);a.exclusive=true}if(!d){a.stopPropagation();c.event.global[f]&&c.each(c.cache,function(){this.events&&this.events[f]&&c.event.trigger(a,b,this.handle.elem)})}if(!d||d.nodeType===3||d.nodeType===\n8)return B;a.result=B;a.target=d;b=c.makeArray(b);b.unshift(a)}a.currentTarget=d;(e=d.nodeType?c.data(d,\"handle\"):(c.data(d,\"__events__\")||{}).handle)&&e.apply(d,b);e=d.parentNode||d.ownerDocument;try{if(!(d&&d.nodeName&&c.noData[d.nodeName.toLowerCase()]))if(d[\"on\"+f]&&d[\"on\"+f].apply(d,b)===false){a.result=false;a.preventDefault()}}catch(h){}if(!a.isPropagationStopped()&&e)c.event.trigger(a,b,e,true);else if(!a.isDefaultPrevented()){var l;e=a.target;var k=f.replace(X,\"\"),o=c.nodeName(e,\"a\")&&k===\n\"click\",x=c.event.special[k]||{};if((!x._default||x._default.call(d,a)===false)&&!o&&!(e&&e.nodeName&&c.noData[e.nodeName.toLowerCase()])){try{if(e[k]){if(l=e[\"on\"+k])e[\"on\"+k]=null;c.event.triggered=true;e[k]()}}catch(r){}if(l)e[\"on\"+k]=l;c.event.triggered=false}}},handle:function(a){var b,d,e,f;d=[];var h=c.makeArray(arguments);a=h[0]=c.event.fix(a||E.event);a.currentTarget=this;b=a.type.indexOf(\".\")<0&&!a.exclusive;if(!b){e=a.type.split(\".\");a.type=e.shift();d=e.slice(0).sort();e=RegExp(\"(^|\\\\.)\"+\nd.join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\")}a.namespace=a.namespace||d.join(\".\");f=c.data(this,this.nodeType?\"events\":\"__events__\");if(typeof f===\"function\")f=f.events;d=(f||{})[a.type];if(f&&d){d=d.slice(0);f=0;for(var l=d.length;f<l;f++){var k=d[f];if(b||e.test(k.namespace)){a.handler=k.handler;a.data=k.data;a.handleObj=k;k=k.handler.apply(this,h);if(k!==B){a.result=k;if(k===false){a.preventDefault();a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}}return a.result},props:\"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which\".split(\" \"),\nfix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var d=this.props.length,e;d;){e=this.props[--d];a[e]=b[e]}if(!a.target)a.target=a.srcElement||t;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){b=t.documentElement;d=t.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||\nd&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0)}if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==B)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,Y(a.origType,a.selector),c.extend({},a,{handler:Ka,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,\nY(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,d){if(c.isWindow(this))this.onbeforeunload=d},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};c.removeEvent=t.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent(\"on\"+b,d)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);if(a&&a.type){this.originalEvent=a;this.type=a.type}else this.type=a;this.timeStamp=\nc.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ca;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=ca;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ca;this.stopPropagation()},isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U};\nvar va=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;if(b!==this){a.type=a.data;c.event.handle.apply(this,arguments)}}catch(d){}},wa=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?wa:va,a)},teardown:function(d){c.event.remove(this,b,d&&d.selector?wa:va)}}});if(!c.support.submitBubbles)c.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!==\n\"form\"){c.event.add(this,\"click.specialSubmit\",function(a){var b=a.target,d=b.type;if((d===\"submit\"||d===\"image\")&&c(b).closest(\"form\").length){a.liveFired=B;return la(\"submit\",this,arguments)}});c.event.add(this,\"keypress.specialSubmit\",function(a){var b=a.target,d=b.type;if((d===\"text\"||d===\"password\")&&c(b).closest(\"form\").length&&a.keyCode===13){a.liveFired=B;return la(\"submit\",this,arguments)}})}else return false},teardown:function(){c.event.remove(this,\".specialSubmit\")}};if(!c.support.changeBubbles){var V,\nxa=function(a){var b=a.type,d=a.value;if(b===\"radio\"||b===\"checkbox\")d=a.checked;else if(b===\"select-multiple\")d=a.selectedIndex>-1?c.map(a.options,function(e){return e.selected}).join(\"-\"):\"\";else if(a.nodeName.toLowerCase()===\"select\")d=a.selectedIndex;return d},Z=function(a,b){var d=a.target,e,f;if(!(!ia.test(d.nodeName)||d.readOnly)){e=c.data(d,\"_change_data\");f=xa(d);if(a.type!==\"focusout\"||d.type!==\"radio\")c.data(d,\"_change_data\",f);if(!(e===B||f===e))if(e!=null||f){a.type=\"change\";a.liveFired=\nB;return c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:Z,beforedeactivate:Z,click:function(a){var b=a.target,d=b.type;if(d===\"radio\"||d===\"checkbox\"||b.nodeName.toLowerCase()===\"select\")return Z.call(this,a)},keydown:function(a){var b=a.target,d=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!==\"textarea\"||a.keyCode===32&&(d===\"checkbox\"||d===\"radio\")||d===\"select-multiple\")return Z.call(this,a)},beforeactivate:function(a){a=a.target;c.data(a,\"_change_data\",xa(a))}},setup:function(){if(this.type===\n\"file\")return false;for(var a in V)c.event.add(this,a+\".specialChange\",V[a]);return ia.test(this.nodeName)},teardown:function(){c.event.remove(this,\".specialChange\");return ia.test(this.nodeName)}};V=c.event.special.change.filters;V.focus=V.beforeactivate}t.addEventListener&&c.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.trigger(e,null,e.target)}c.event.special[b]={setup:function(){ua[b]++===0&&t.addEventListener(a,d,true)},teardown:function(){--ua[b]===\n0&&t.removeEventListener(a,d,true)}}});c.each([\"bind\",\"one\"],function(a,b){c.fn[b]=function(d,e,f){if(typeof d===\"object\"){for(var h in d)this[b](h,e,d[h],f);return this}if(c.isFunction(e)||e===false){f=e;e=B}var l=b===\"one\"?c.proxy(f,function(o){c(this).unbind(o,l);return f.apply(this,arguments)}):f;if(d===\"unload\"&&b!==\"one\")this.one(d,e,f);else{h=0;for(var k=this.length;h<k;h++)c.event.add(this[h],d,l,e)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a===\"object\"&&!a.preventDefault)for(var d in a)this.unbind(d,\na[d]);else{d=0;for(var e=this.length;d<e;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,e){return this.live(b,d,e,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind(\"live\"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var d=c.Event(a);d.preventDefault();d.stopPropagation();c.event.trigger(d,b,this[0]);return d.result}},toggle:function(a){for(var b=arguments,d=\n1;d<b.length;)c.proxy(a,b[d++]);return this.click(c.proxy(a,function(e){var f=(c.data(this,\"lastToggle\"+a.guid)||0)%d;c.data(this,\"lastToggle\"+a.guid,f+1);e.preventDefault();return b[f].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var ya={focus:\"focusin\",blur:\"focusout\",mouseenter:\"mouseover\",mouseleave:\"mouseout\"};c.each([\"live\",\"die\"],function(a,b){c.fn[b]=function(d,e,f,h){var l,k=0,o,x,r=h||this.selector;h=h?this:c(this.context);if(typeof d===\n\"object\"&&!d.preventDefault){for(l in d)h[b](l,e,d[l],r);return this}if(c.isFunction(e)){f=e;e=B}for(d=(d||\"\").split(\" \");(l=d[k++])!=null;){o=X.exec(l);x=\"\";if(o){x=o[0];l=l.replace(X,\"\")}if(l===\"hover\")d.push(\"mouseenter\"+x,\"mouseleave\"+x);else{o=l;if(l===\"focus\"||l===\"blur\"){d.push(ya[l]+x);l+=x}else l=(ya[l]||l)+x;if(b===\"live\"){x=0;for(var A=h.length;x<A;x++)c.event.add(h[x],\"live.\"+Y(l,r),{data:e,selector:r,handler:f,origType:l,origHandler:f,preType:o})}else h.unbind(\"live.\"+Y(l,r),f)}}return this}});\nc.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error\".split(\" \"),function(a,b){c.fn[b]=function(d,e){if(e==null){e=d;d=null}return arguments.length>0?this.bind(b,d,e):this.trigger(b)};if(c.attrFn)c.attrFn[b]=true});E.attachEvent&&!E.addEventListener&&c(E).bind(\"unload\",function(){for(var a in c.cache)if(c.cache[a].handle)try{c.event.remove(c.cache[a].handle.elem)}catch(b){}});\n(function(){function a(g,i,n,m,p,q){p=0;for(var u=m.length;p<u;p++){var y=m[p];if(y){var F=false;for(y=y[g];y;){if(y.sizcache===n){F=m[y.sizset];break}if(y.nodeType===1&&!q){y.sizcache=n;y.sizset=p}if(y.nodeName.toLowerCase()===i){F=y;break}y=y[g]}m[p]=F}}}function b(g,i,n,m,p,q){p=0;for(var u=m.length;p<u;p++){var y=m[p];if(y){var F=false;for(y=y[g];y;){if(y.sizcache===n){F=m[y.sizset];break}if(y.nodeType===1){if(!q){y.sizcache=n;y.sizset=p}if(typeof i!==\"string\"){if(y===i){F=true;break}}else if(k.filter(i,\n[y]).length>0){F=y;break}}y=y[g]}m[p]=F}}}var d=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,e=0,f=Object.prototype.toString,h=false,l=true;[0,0].sort(function(){l=false;return 0});var k=function(g,i,n,m){n=n||[];var p=i=i||t;if(i.nodeType!==1&&i.nodeType!==9)return[];if(!g||typeof g!==\"string\")return n;var q,u,y,F,M,N=true,O=k.isXML(i),D=[],R=g;do{d.exec(\"\");if(q=d.exec(R)){R=q[3];D.push(q[1]);if(q[2]){F=q[3];\nbreak}}}while(q);if(D.length>1&&x.exec(g))if(D.length===2&&o.relative[D[0]])u=L(D[0]+D[1],i);else for(u=o.relative[D[0]]?[i]:k(D.shift(),i);D.length;){g=D.shift();if(o.relative[g])g+=D.shift();u=L(g,u)}else{if(!m&&D.length>1&&i.nodeType===9&&!O&&o.match.ID.test(D[0])&&!o.match.ID.test(D[D.length-1])){q=k.find(D.shift(),i,O);i=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]}if(i){q=m?{expr:D.pop(),set:C(m)}:k.find(D.pop(),D.length===1&&(D[0]===\"~\"||D[0]===\"+\")&&i.parentNode?i.parentNode:i,O);u=q.expr?k.filter(q.expr,\nq.set):q.set;if(D.length>0)y=C(u);else N=false;for(;D.length;){q=M=D.pop();if(o.relative[M])q=D.pop();else M=\"\";if(q==null)q=i;o.relative[M](y,q,O)}}else y=[]}y||(y=u);y||k.error(M||g);if(f.call(y)===\"[object Array]\")if(N)if(i&&i.nodeType===1)for(g=0;y[g]!=null;g++){if(y[g]&&(y[g]===true||y[g].nodeType===1&&k.contains(i,y[g])))n.push(u[g])}else for(g=0;y[g]!=null;g++)y[g]&&y[g].nodeType===1&&n.push(u[g]);else n.push.apply(n,y);else C(y,n);if(F){k(F,p,n,m);k.uniqueSort(n)}return n};k.uniqueSort=function(g){if(w){h=\nl;g.sort(w);if(h)for(var i=1;i<g.length;i++)g[i]===g[i-1]&&g.splice(i--,1)}return g};k.matches=function(g,i){return k(g,null,null,i)};k.matchesSelector=function(g,i){return k(i,null,null,[g]).length>0};k.find=function(g,i,n){var m;if(!g)return[];for(var p=0,q=o.order.length;p<q;p++){var u,y=o.order[p];if(u=o.leftMatch[y].exec(g)){var F=u[1];u.splice(1,1);if(F.substr(F.length-1)!==\"\\\\\"){u[1]=(u[1]||\"\").replace(/\\\\/g,\"\");m=o.find[y](u,i,n);if(m!=null){g=g.replace(o.match[y],\"\");break}}}}m||(m=i.getElementsByTagName(\"*\"));\nreturn{set:m,expr:g}};k.filter=function(g,i,n,m){for(var p,q,u=g,y=[],F=i,M=i&&i[0]&&k.isXML(i[0]);g&&i.length;){for(var N in o.filter)if((p=o.leftMatch[N].exec(g))!=null&&p[2]){var O,D,R=o.filter[N];D=p[1];q=false;p.splice(1,1);if(D.substr(D.length-1)!==\"\\\\\"){if(F===y)y=[];if(o.preFilter[N])if(p=o.preFilter[N](p,F,n,y,m,M)){if(p===true)continue}else q=O=true;if(p)for(var j=0;(D=F[j])!=null;j++)if(D){O=R(D,p,j,F);var s=m^!!O;if(n&&O!=null)if(s)q=true;else F[j]=false;else if(s){y.push(D);q=true}}if(O!==\nB){n||(F=y);g=g.replace(o.match[N],\"\");if(!q)return[];break}}}if(g===u)if(q==null)k.error(g);else break;u=g}return F};k.error=function(g){throw\"Syntax error, unrecognized expression: \"+g;};var o=k.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(['\"]*)(.*?)\\3|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+\\-]*)\\))?/,\nPOS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function(g){return g.getAttribute(\"href\")}},relative:{\"+\":function(g,i){var n=typeof i===\"string\",m=n&&!/\\W/.test(i);n=n&&!m;if(m)i=i.toLowerCase();m=0;for(var p=g.length,q;m<p;m++)if(q=g[m]){for(;(q=q.previousSibling)&&q.nodeType!==1;);g[m]=n||q&&q.nodeName.toLowerCase()===\ni?q||false:q===i}n&&k.filter(i,g,true)},\">\":function(g,i){var n,m=typeof i===\"string\",p=0,q=g.length;if(m&&!/\\W/.test(i))for(i=i.toLowerCase();p<q;p++){if(n=g[p]){n=n.parentNode;g[p]=n.nodeName.toLowerCase()===i?n:false}}else{for(;p<q;p++)if(n=g[p])g[p]=m?n.parentNode:n.parentNode===i;m&&k.filter(i,g,true)}},\"\":function(g,i,n){var m,p=e++,q=b;if(typeof i===\"string\"&&!/\\W/.test(i)){m=i=i.toLowerCase();q=a}q(\"parentNode\",i,p,g,m,n)},\"~\":function(g,i,n){var m,p=e++,q=b;if(typeof i===\"string\"&&!/\\W/.test(i)){m=\ni=i.toLowerCase();q=a}q(\"previousSibling\",i,p,g,m,n)}},find:{ID:function(g,i,n){if(typeof i.getElementById!==\"undefined\"&&!n)return(g=i.getElementById(g[1]))&&g.parentNode?[g]:[]},NAME:function(g,i){if(typeof i.getElementsByName!==\"undefined\"){for(var n=[],m=i.getElementsByName(g[1]),p=0,q=m.length;p<q;p++)m[p].getAttribute(\"name\")===g[1]&&n.push(m[p]);return n.length===0?null:n}},TAG:function(g,i){return i.getElementsByTagName(g[1])}},preFilter:{CLASS:function(g,i,n,m,p,q){g=\" \"+g[1].replace(/\\\\/g,\n\"\")+\" \";if(q)return g;q=0;for(var u;(u=i[q])!=null;q++)if(u)if(p^(u.className&&(\" \"+u.className+\" \").replace(/[\\t\\n]/g,\" \").indexOf(g)>=0))n||m.push(u);else if(n)i[q]=false;return false},ID:function(g){return g[1].replace(/\\\\/g,\"\")},TAG:function(g){return g[1].toLowerCase()},CHILD:function(g){if(g[1]===\"nth\"){var i=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec(g[2]===\"even\"&&\"2n\"||g[2]===\"odd\"&&\"2n+1\"||!/\\D/.test(g[2])&&\"0n+\"+g[2]||g[2]);g[2]=i[1]+(i[2]||1)-0;g[3]=i[3]-0}g[0]=e++;return g},ATTR:function(g,i,n,\nm,p,q){i=g[1].replace(/\\\\/g,\"\");if(!q&&o.attrMap[i])g[1]=o.attrMap[i];if(g[2]===\"~=\")g[4]=\" \"+g[4]+\" \";return g},PSEUDO:function(g,i,n,m,p){if(g[1]===\"not\")if((d.exec(g[3])||\"\").length>1||/^\\w/.test(g[3]))g[3]=k(g[3],null,null,i);else{g=k.filter(g[3],i,n,true^p);n||m.push.apply(m,g);return false}else if(o.match.POS.test(g[0])||o.match.CHILD.test(g[0]))return true;return g},POS:function(g){g.unshift(true);return g}},filters:{enabled:function(g){return g.disabled===false&&g.type!==\"hidden\"},disabled:function(g){return g.disabled===\ntrue},checked:function(g){return g.checked===true},selected:function(g){return g.selected===true},parent:function(g){return!!g.firstChild},empty:function(g){return!g.firstChild},has:function(g,i,n){return!!k(n[3],g).length},header:function(g){return/h\\d/i.test(g.nodeName)},text:function(g){return\"text\"===g.type},radio:function(g){return\"radio\"===g.type},checkbox:function(g){return\"checkbox\"===g.type},file:function(g){return\"file\"===g.type},password:function(g){return\"password\"===g.type},submit:function(g){return\"submit\"===\ng.type},image:function(g){return\"image\"===g.type},reset:function(g){return\"reset\"===g.type},button:function(g){return\"button\"===g.type||g.nodeName.toLowerCase()===\"button\"},input:function(g){return/input|select|textarea|button/i.test(g.nodeName)}},setFilters:{first:function(g,i){return i===0},last:function(g,i,n,m){return i===m.length-1},even:function(g,i){return i%2===0},odd:function(g,i){return i%2===1},lt:function(g,i,n){return i<n[3]-0},gt:function(g,i,n){return i>n[3]-0},nth:function(g,i,n){return n[3]-\n0===i},eq:function(g,i,n){return n[3]-0===i}},filter:{PSEUDO:function(g,i,n,m){var p=i[1],q=o.filters[p];if(q)return q(g,n,i,m);else if(p===\"contains\")return(g.textContent||g.innerText||k.getText([g])||\"\").indexOf(i[3])>=0;else if(p===\"not\"){i=i[3];n=0;for(m=i.length;n<m;n++)if(i[n]===g)return false;return true}else k.error(\"Syntax error, unrecognized expression: \"+p)},CHILD:function(g,i){var n=i[1],m=g;switch(n){case \"only\":case \"first\":for(;m=m.previousSibling;)if(m.nodeType===1)return false;if(n===\n\"first\")return true;m=g;case \"last\":for(;m=m.nextSibling;)if(m.nodeType===1)return false;return true;case \"nth\":n=i[2];var p=i[3];if(n===1&&p===0)return true;var q=i[0],u=g.parentNode;if(u&&(u.sizcache!==q||!g.nodeIndex)){var y=0;for(m=u.firstChild;m;m=m.nextSibling)if(m.nodeType===1)m.nodeIndex=++y;u.sizcache=q}m=g.nodeIndex-p;return n===0?m===0:m%n===0&&m/n>=0}},ID:function(g,i){return g.nodeType===1&&g.getAttribute(\"id\")===i},TAG:function(g,i){return i===\"*\"&&g.nodeType===1||g.nodeName.toLowerCase()===\ni},CLASS:function(g,i){return(\" \"+(g.className||g.getAttribute(\"class\"))+\" \").indexOf(i)>-1},ATTR:function(g,i){var n=i[1];n=o.attrHandle[n]?o.attrHandle[n](g):g[n]!=null?g[n]:g.getAttribute(n);var m=n+\"\",p=i[2],q=i[4];return n==null?p===\"!=\":p===\"=\"?m===q:p===\"*=\"?m.indexOf(q)>=0:p===\"~=\"?(\" \"+m+\" \").indexOf(q)>=0:!q?m&&n!==false:p===\"!=\"?m!==q:p===\"^=\"?m.indexOf(q)===0:p===\"$=\"?m.substr(m.length-q.length)===q:p===\"|=\"?m===q||m.substr(0,q.length+1)===q+\"-\":false},POS:function(g,i,n,m){var p=o.setFilters[i[2]];\nif(p)return p(g,n,i,m)}}},x=o.match.POS,r=function(g,i){return\"\\\\\"+(i-0+1)},A;for(A in o.match){o.match[A]=RegExp(o.match[A].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source);o.leftMatch[A]=RegExp(/(^(?:.|\\r|\\n)*?)/.source+o.match[A].source.replace(/\\\\(\\d+)/g,r))}var C=function(g,i){g=Array.prototype.slice.call(g,0);if(i){i.push.apply(i,g);return i}return g};try{Array.prototype.slice.call(t.documentElement.childNodes,0)}catch(J){C=function(g,i){var n=0,m=i||[];if(f.call(g)===\"[object Array]\")Array.prototype.push.apply(m,\ng);else if(typeof g.length===\"number\")for(var p=g.length;n<p;n++)m.push(g[n]);else for(;g[n];n++)m.push(g[n]);return m}}var w,I;if(t.documentElement.compareDocumentPosition)w=function(g,i){if(g===i){h=true;return 0}if(!g.compareDocumentPosition||!i.compareDocumentPosition)return g.compareDocumentPosition?-1:1;return g.compareDocumentPosition(i)&4?-1:1};else{w=function(g,i){var n,m,p=[],q=[];n=g.parentNode;m=i.parentNode;var u=n;if(g===i){h=true;return 0}else if(n===m)return I(g,i);else if(n){if(!m)return 1}else return-1;\nfor(;u;){p.unshift(u);u=u.parentNode}for(u=m;u;){q.unshift(u);u=u.parentNode}n=p.length;m=q.length;for(u=0;u<n&&u<m;u++)if(p[u]!==q[u])return I(p[u],q[u]);return u===n?I(g,q[u],-1):I(p[u],i,1)};I=function(g,i,n){if(g===i)return n;for(g=g.nextSibling;g;){if(g===i)return-1;g=g.nextSibling}return 1}}k.getText=function(g){for(var i=\"\",n,m=0;g[m];m++){n=g[m];if(n.nodeType===3||n.nodeType===4)i+=n.nodeValue;else if(n.nodeType!==8)i+=k.getText(n.childNodes)}return i};(function(){var g=t.createElement(\"div\"),\ni=\"script\"+(new Date).getTime(),n=t.documentElement;g.innerHTML=\"<a name='\"+i+\"'/>\";n.insertBefore(g,n.firstChild);if(t.getElementById(i)){o.find.ID=function(m,p,q){if(typeof p.getElementById!==\"undefined\"&&!q)return(p=p.getElementById(m[1]))?p.id===m[1]||typeof p.getAttributeNode!==\"undefined\"&&p.getAttributeNode(\"id\").nodeValue===m[1]?[p]:B:[]};o.filter.ID=function(m,p){var q=typeof m.getAttributeNode!==\"undefined\"&&m.getAttributeNode(\"id\");return m.nodeType===1&&q&&q.nodeValue===p}}n.removeChild(g);\nn=g=null})();(function(){var g=t.createElement(\"div\");g.appendChild(t.createComment(\"\"));if(g.getElementsByTagName(\"*\").length>0)o.find.TAG=function(i,n){var m=n.getElementsByTagName(i[1]);if(i[1]===\"*\"){for(var p=[],q=0;m[q];q++)m[q].nodeType===1&&p.push(m[q]);m=p}return m};g.innerHTML=\"<a href='#'></a>\";if(g.firstChild&&typeof g.firstChild.getAttribute!==\"undefined\"&&g.firstChild.getAttribute(\"href\")!==\"#\")o.attrHandle.href=function(i){return i.getAttribute(\"href\",2)};g=null})();t.querySelectorAll&&\nfunction(){var g=k,i=t.createElement(\"div\");i.innerHTML=\"<p class='TEST'></p>\";if(!(i.querySelectorAll&&i.querySelectorAll(\".TEST\").length===0)){k=function(m,p,q,u){p=p||t;m=m.replace(/\\=\\s*([^'\"\\]]*)\\s*\\]/g,\"='$1']\");if(!u&&!k.isXML(p))if(p.nodeType===9)try{return C(p.querySelectorAll(m),q)}catch(y){}else if(p.nodeType===1&&p.nodeName.toLowerCase()!==\"object\"){var F=p.getAttribute(\"id\"),M=F||\"__sizzle__\";F||p.setAttribute(\"id\",M);try{return C(p.querySelectorAll(\"#\"+M+\" \"+m),q)}catch(N){}finally{F||\np.removeAttribute(\"id\")}}return g(m,p,q,u)};for(var n in g)k[n]=g[n];i=null}}();(function(){var g=t.documentElement,i=g.matchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||g.msMatchesSelector,n=false;try{i.call(t.documentElement,\"[test!='']:sizzle\")}catch(m){n=true}if(i)k.matchesSelector=function(p,q){q=q.replace(/\\=\\s*([^'\"\\]]*)\\s*\\]/g,\"='$1']\");if(!k.isXML(p))try{if(n||!o.match.PSEUDO.test(q)&&!/!=/.test(q))return i.call(p,q)}catch(u){}return k(q,null,null,[p]).length>0}})();(function(){var g=\nt.createElement(\"div\");g.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(!(!g.getElementsByClassName||g.getElementsByClassName(\"e\").length===0)){g.lastChild.className=\"e\";if(g.getElementsByClassName(\"e\").length!==1){o.order.splice(1,0,\"CLASS\");o.find.CLASS=function(i,n,m){if(typeof n.getElementsByClassName!==\"undefined\"&&!m)return n.getElementsByClassName(i[1])};g=null}}})();k.contains=t.documentElement.contains?function(g,i){return g!==i&&(g.contains?g.contains(i):true)}:t.documentElement.compareDocumentPosition?\nfunction(g,i){return!!(g.compareDocumentPosition(i)&16)}:function(){return false};k.isXML=function(g){return(g=(g?g.ownerDocument||g:0).documentElement)?g.nodeName!==\"HTML\":false};var L=function(g,i){for(var n,m=[],p=\"\",q=i.nodeType?[i]:i;n=o.match.PSEUDO.exec(g);){p+=n[0];g=g.replace(o.match.PSEUDO,\"\")}g=o.relative[g]?g+\"*\":g;n=0;for(var u=q.length;n<u;n++)k(g,q[n],m);return k.filter(p,m)};c.find=k;c.expr=k.selectors;c.expr[\":\"]=c.expr.filters;c.unique=k.uniqueSort;c.text=k.getText;c.isXMLDoc=k.isXML;\nc.contains=k.contains})();var Za=/Until$/,$a=/^(?:parents|prevUntil|prevAll)/,ab=/,/,Na=/^.[^:#\\[\\.,]*$/,bb=Array.prototype.slice,cb=c.expr.match.POS;c.fn.extend({find:function(a){for(var b=this.pushStack(\"\",\"find\",a),d=0,e=0,f=this.length;e<f;e++){d=b.length;c.find(a,this[e],b);if(e>0)for(var h=d;h<b.length;h++)for(var l=0;l<d;l++)if(b[l]===b[h]){b.splice(h--,1);break}}return b},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,e=b.length;d<e;d++)if(c.contains(this,b[d]))return true})},\nnot:function(a){return this.pushStack(ma(this,a,false),\"not\",a)},filter:function(a){return this.pushStack(ma(this,a,true),\"filter\",a)},is:function(a){return!!a&&c.filter(a,this).length>0},closest:function(a,b){var d=[],e,f,h=this[0];if(c.isArray(a)){var l,k={},o=1;if(h&&a.length){e=0;for(f=a.length;e<f;e++){l=a[e];k[l]||(k[l]=c.expr.match.POS.test(l)?c(l,b||this.context):l)}for(;h&&h.ownerDocument&&h!==b;){for(l in k){e=k[l];if(e.jquery?e.index(h)>-1:c(h).is(e))d.push({selector:l,elem:h,level:o})}h=\nh.parentNode;o++}}return d}l=cb.test(a)?c(a,b||this.context):null;e=0;for(f=this.length;e<f;e++)for(h=this[e];h;)if(l?l.index(h)>-1:c.find.matchesSelector(h,a)){d.push(h);break}else{h=h.parentNode;if(!h||!h.ownerDocument||h===b)break}d=d.length>1?c.unique(d):d;return this.pushStack(d,\"closest\",a)},index:function(a){if(!a||typeof a===\"string\")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d=typeof a===\"string\"?c(a,b||this.context):\nc.makeArray(a),e=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,\"parentNode\")},parentsUntil:function(a,b,d){return c.dir(a,\"parentNode\",d)},next:function(a){return c.nth(a,2,\"nextSibling\")},prev:function(a){return c.nth(a,\n2,\"previousSibling\")},nextAll:function(a){return c.dir(a,\"nextSibling\")},prevAll:function(a){return c.dir(a,\"previousSibling\")},nextUntil:function(a,b,d){return c.dir(a,\"nextSibling\",d)},prevUntil:function(a,b,d){return c.dir(a,\"previousSibling\",d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,\"iframe\")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,\nb){c.fn[a]=function(d,e){var f=c.map(this,b,d);Za.test(a)||(e=d);if(e&&typeof e===\"string\")f=c.filter(e,f);f=this.length>1?c.unique(f):f;if((this.length>1||ab.test(e))&&$a.test(a))f=f.reverse();return this.pushStack(f,a,bb.call(arguments).join(\",\"))}});c.extend({filter:function(a,b,d){if(d)a=\":not(\"+a+\")\";return b.length===1?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){var e=[];for(a=a[b];a&&a.nodeType!==9&&(d===B||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&\ne.push(a);a=a[b]}return e},nth:function(a,b,d){b=b||1;for(var e=0;a;a=a[d])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var za=/ jQuery\\d+=\"(?:\\d+|null)\"/g,$=/^\\s+/,Aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,Ba=/<([\\w:]+)/,db=/<tbody/i,eb=/<|&#?\\w+;/,Ca=/<(?:script|object|embed|option|style)/i,Da=/checked\\s*(?:[^=]|=\\s*.checked.)/i,fb=/\\=([^=\"'>\\s]+\\/)>/g,P={option:[1,\n\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],area:[1,\"<map>\",\"</map>\"],_default:[0,\"\",\"\"]};P.optgroup=P.option;P.tbody=P.tfoot=P.colgroup=P.caption=P.thead;P.th=P.td;if(!c.support.htmlSerialize)P._default=[1,\"div<div>\",\"</div>\"];c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=\nc(this);d.text(a.call(this,b,d.text()))});if(typeof a!==\"object\"&&a!==B)return this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,d))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},\nwrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,\"body\")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},\nprepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,\"before\",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,\nthis.nextSibling)});else if(arguments.length){var a=this.pushStack(this,\"after\",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;(e=this[d])!=null;d++)if(!a||c.filter(a,[e]).length){if(!b&&e.nodeType===1){c.cleanData(e.getElementsByTagName(\"*\"));c.cleanData([e])}e.parentNode&&e.parentNode.removeChild(e)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName(\"*\"));b.firstChild;)b.removeChild(b.firstChild);\nreturn this},clone:function(a){var b=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var d=this.outerHTML,e=this.ownerDocument;if(!d){d=e.createElement(\"div\");d.appendChild(this.cloneNode(true));d=d.innerHTML}return c.clean([d.replace(za,\"\").replace(fb,'=\"$1\">').replace($,\"\")],e)[0]}else return this.cloneNode(true)});if(a===true){na(this,b);na(this.find(\"*\"),b.find(\"*\"))}return b},html:function(a){if(a===B)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(za,\"\"):null;\nelse if(typeof a===\"string\"&&!Ca.test(a)&&(c.support.leadingWhitespace||!$.test(a))&&!P[(Ba.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=a.replace(Aa,\"<$1></$2>\");try{for(var b=0,d=this.length;b<d;b++)if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName(\"*\"));this[b].innerHTML=a}}catch(e){this.empty().append(a)}}else c.isFunction(a)?this.each(function(f){var h=c(this);h.html(a.call(this,f,h.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=\nc(this),e=d.html();d.replaceWith(a.call(this,b,e))});if(typeof a!==\"string\")a=c(a).detach();return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}else return this.pushStack(c(c.isFunction(a)?a():a),\"replaceWith\",a)},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){var e,f,h,l=a[0],k=[];if(!c.support.checkClone&&arguments.length===3&&typeof l===\"string\"&&Da.test(l))return this.each(function(){c(this).domManip(a,\nb,d,true)});if(c.isFunction(l))return this.each(function(x){var r=c(this);a[0]=l.call(this,x,b?r.html():B);r.domManip(a,b,d)});if(this[0]){e=l&&l.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,k);h=e.fragment;if(f=h.childNodes.length===1?h=h.firstChild:h.firstChild){b=b&&c.nodeName(f,\"tr\");f=0;for(var o=this.length;f<o;f++)d.call(b?c.nodeName(this[f],\"table\")?this[f].getElementsByTagName(\"tbody\")[0]||this[f].appendChild(this[f].ownerDocument.createElement(\"tbody\")):\nthis[f]:this[f],f>0||e.cacheable||this.length>1?h.cloneNode(true):h)}k.length&&c.each(k,Oa)}return this}});c.buildFragment=function(a,b,d){var e,f,h;b=b&&b[0]?b[0].ownerDocument||b[0]:t;if(a.length===1&&typeof a[0]===\"string\"&&a[0].length<512&&b===t&&!Ca.test(a[0])&&(c.support.checkClone||!Da.test(a[0]))){f=true;if(h=c.fragments[a[0]])if(h!==1)e=h}if(!e){e=b.createDocumentFragment();c.clean(a,b,e,d)}if(f)c.fragments[a[0]]=h?e:1;return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:\"append\",\nprependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){c.fn[a]=function(d){var e=[];d=c(d);var f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1){d[b](this[0]);return this}else{f=0;for(var h=d.length;f<h;f++){var l=(f>0?this.clone(true):this).get();c(d[f])[b](l);e=e.concat(l)}return this.pushStack(e,a,d.selector)}}});c.extend({clean:function(a,b,d,e){b=b||t;if(typeof b.createElement===\"undefined\")b=b.ownerDocument||\nb[0]&&b[0].ownerDocument||t;for(var f=[],h=0,l;(l=a[h])!=null;h++){if(typeof l===\"number\")l+=\"\";if(l){if(typeof l===\"string\"&&!eb.test(l))l=b.createTextNode(l);else if(typeof l===\"string\"){l=l.replace(Aa,\"<$1></$2>\");var k=(Ba.exec(l)||[\"\",\"\"])[1].toLowerCase(),o=P[k]||P._default,x=o[0],r=b.createElement(\"div\");for(r.innerHTML=o[1]+l+o[2];x--;)r=r.lastChild;if(!c.support.tbody){x=db.test(l);k=k===\"table\"&&!x?r.firstChild&&r.firstChild.childNodes:o[1]===\"<table>\"&&!x?r.childNodes:[];for(o=k.length-\n1;o>=0;--o)c.nodeName(k[o],\"tbody\")&&!k[o].childNodes.length&&k[o].parentNode.removeChild(k[o])}!c.support.leadingWhitespace&&$.test(l)&&r.insertBefore(b.createTextNode($.exec(l)[0]),r.firstChild);l=r.childNodes}if(l.nodeType)f.push(l);else f=c.merge(f,l)}}if(d)for(h=0;f[h];h++)if(e&&c.nodeName(f[h],\"script\")&&(!f[h].type||f[h].type.toLowerCase()===\"text/javascript\"))e.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{f[h].nodeType===1&&f.splice.apply(f,[h+1,0].concat(c.makeArray(f[h].getElementsByTagName(\"script\"))));\nd.appendChild(f[h])}return f},cleanData:function(a){for(var b,d,e=c.cache,f=c.event.special,h=c.support.deleteExpando,l=0,k;(k=a[l])!=null;l++)if(!(k.nodeName&&c.noData[k.nodeName.toLowerCase()]))if(d=k[c.expando]){if((b=e[d])&&b.events)for(var o in b.events)f[o]?c.event.remove(k,o):c.removeEvent(k,o,b.handle);if(h)delete k[c.expando];else k.removeAttribute&&k.removeAttribute(c.expando);delete e[d]}}});var Ea=/alpha\\([^)]*\\)/i,gb=/opacity=([^)]*)/,hb=/-([a-z])/ig,ib=/([A-Z])/g,Fa=/^-?\\d+(?:px)?$/i,\njb=/^-?\\d/,kb={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Pa=[\"Left\",\"Right\"],Qa=[\"Top\",\"Bottom\"],W,Ga,aa,lb=function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){if(arguments.length===2&&b===B)return this;return c.access(this,a,b,true,function(d,e,f){return f!==B?c.style(d,e,f):c.css(d,e)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=W(a,\"opacity\",\"opacity\");return d===\"\"?\"1\":d}else return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,\nzoom:true,lineHeight:true},cssProps:{\"float\":c.support.cssFloat?\"cssFloat\":\"styleFloat\"},style:function(a,b,d,e){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var f,h=c.camelCase(b),l=a.style,k=c.cssHooks[h];b=c.cssProps[h]||h;if(d!==B){if(!(typeof d===\"number\"&&isNaN(d)||d==null)){if(typeof d===\"number\"&&!c.cssNumber[h])d+=\"px\";if(!k||!(\"set\"in k)||(d=k.set(a,d))!==B)try{l[b]=d}catch(o){}}}else{if(k&&\"get\"in k&&(f=k.get(a,false,e))!==B)return f;return l[b]}}},css:function(a,b,d){var e,f=c.camelCase(b),\nh=c.cssHooks[f];b=c.cssProps[f]||f;if(h&&\"get\"in h&&(e=h.get(a,true,d))!==B)return e;else if(W)return W(a,b,f)},swap:function(a,b,d){var e={},f;for(f in b){e[f]=a.style[f];a.style[f]=b[f]}d.call(a);for(f in b)a.style[f]=e[f]},camelCase:function(a){return a.replace(hb,lb)}});c.curCSS=c.css;c.each([\"height\",\"width\"],function(a,b){c.cssHooks[b]={get:function(d,e,f){var h;if(e){if(d.offsetWidth!==0)h=oa(d,b,f);else c.swap(d,kb,function(){h=oa(d,b,f)});if(h<=0){h=W(d,b,b);if(h===\"0px\"&&aa)h=aa(d,b,b);\nif(h!=null)return h===\"\"||h===\"auto\"?\"0px\":h}if(h<0||h==null){h=d.style[b];return h===\"\"||h===\"auto\"?\"0px\":h}return typeof h===\"string\"?h:h+\"px\"}},set:function(d,e){if(Fa.test(e)){e=parseFloat(e);if(e>=0)return e+\"px\"}else return e}}});if(!c.support.opacity)c.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||\"\")?parseFloat(RegExp.$1)/100+\"\":b?\"1\":\"\"},set:function(a,b){var d=a.style;d.zoom=1;var e=c.isNaN(b)?\"\":\"alpha(opacity=\"+b*100+\")\",f=\nd.filter||\"\";d.filter=Ea.test(f)?f.replace(Ea,e):d.filter+\" \"+e}};if(t.defaultView&&t.defaultView.getComputedStyle)Ga=function(a,b,d){var e;d=d.replace(ib,\"-$1\").toLowerCase();if(!(b=a.ownerDocument.defaultView))return B;if(b=b.getComputedStyle(a,null)){e=b.getPropertyValue(d);if(e===\"\"&&!c.contains(a.ownerDocument.documentElement,a))e=c.style(a,d)}return e};if(t.documentElement.currentStyle)aa=function(a,b){var d,e,f=a.currentStyle&&a.currentStyle[b],h=a.style;if(!Fa.test(f)&&jb.test(f)){d=h.left;\ne=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;h.left=b===\"fontSize\"?\"1em\":f||0;f=h.pixelLeft+\"px\";h.left=d;a.runtimeStyle.left=e}return f===\"\"?\"auto\":f};W=Ga||aa;if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&(a.style.display||c.css(a,\"display\"))===\"none\"};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)}}var mb=c.now(),nb=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\nob=/^(?:select|textarea)/i,pb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qb=/^(?:GET|HEAD)$/,Ra=/\\[\\]$/,T=/\\=\\?(&|$)/,ja=/\\?/,rb=/([?&])_=[^&]*/,sb=/^(\\w+:)?\\/\\/([^\\/?#]+)/,tb=/%20/g,ub=/#.*$/,Ha=c.fn.load;c.fn.extend({load:function(a,b,d){if(typeof a!==\"string\"&&Ha)return Ha.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(\" \");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e=\"GET\";if(b)if(c.isFunction(b)){d=b;b=null}else if(typeof b===\n\"object\"){b=c.param(b,c.ajaxSettings.traditional);e=\"POST\"}var h=this;c.ajax({url:a,type:e,dataType:\"html\",data:b,complete:function(l,k){if(k===\"success\"||k===\"notmodified\")h.html(f?c(\"<div>\").append(l.responseText.replace(nb,\"\")).find(f):l.responseText);d&&h.each(d,[l.responseText,k,l])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&\n!this.disabled&&(this.checked||ob.test(this.nodeName)||pb.test(this.type))}).map(function(a,b){var d=c(this).val();return d==null?null:c.isArray(d)?c.map(d,function(e){return{name:b.name,value:e}}):{name:b.name,value:d}}).get()}});c.each(\"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split(\" \"),function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.extend({get:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b=null}return c.ajax({type:\"GET\",url:a,data:b,success:d,dataType:e})},\ngetScript:function(a,b){return c.get(a,null,b,\"script\")},getJSON:function(a,b,d){return c.get(a,b,d,\"json\")},post:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b={}}return c.ajax({type:\"POST\",url:a,data:b,success:d,dataType:e})},ajaxSetup:function(a){c.extend(c.ajaxSettings,a)},ajaxSettings:{url:location.href,global:true,type:\"GET\",contentType:\"application/x-www-form-urlencoded\",processData:true,async:true,xhr:function(){return new E.XMLHttpRequest},accepts:{xml:\"application/xml, text/xml\",html:\"text/html\",\nscript:\"text/javascript, application/javascript\",json:\"application/json, text/javascript\",text:\"text/plain\",_default:\"*/*\"}},ajax:function(a){var b=c.extend(true,{},c.ajaxSettings,a),d,e,f,h=b.type.toUpperCase(),l=qb.test(h);b.url=b.url.replace(ub,\"\");b.context=a&&a.context!=null?a.context:b;if(b.data&&b.processData&&typeof b.data!==\"string\")b.data=c.param(b.data,b.traditional);if(b.dataType===\"jsonp\"){if(h===\"GET\")T.test(b.url)||(b.url+=(ja.test(b.url)?\"&\":\"?\")+(b.jsonp||\"callback\")+\"=?\");else if(!b.data||\n!T.test(b.data))b.data=(b.data?b.data+\"&\":\"\")+(b.jsonp||\"callback\")+\"=?\";b.dataType=\"json\"}if(b.dataType===\"json\"&&(b.data&&T.test(b.data)||T.test(b.url))){d=b.jsonpCallback||\"jsonp\"+mb++;if(b.data)b.data=(b.data+\"\").replace(T,\"=\"+d+\"$1\");b.url=b.url.replace(T,\"=\"+d+\"$1\");b.dataType=\"script\";var k=E[d];E[d]=function(m){if(c.isFunction(k))k(m);else{E[d]=B;try{delete E[d]}catch(p){}}f=m;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);r&&r.removeChild(A)}}if(b.dataType===\"script\"&&b.cache===null)b.cache=\nfalse;if(b.cache===false&&l){var o=c.now(),x=b.url.replace(rb,\"$1_=\"+o);b.url=x+(x===b.url?(ja.test(b.url)?\"&\":\"?\")+\"_=\"+o:\"\")}if(b.data&&l)b.url+=(ja.test(b.url)?\"&\":\"?\")+b.data;b.global&&c.active++===0&&c.event.trigger(\"ajaxStart\");o=(o=sb.exec(b.url))&&(o[1]&&o[1].toLowerCase()!==location.protocol||o[2].toLowerCase()!==location.host);if(b.dataType===\"script\"&&h===\"GET\"&&o){var r=t.getElementsByTagName(\"head\")[0]||t.documentElement,A=t.createElement(\"script\");if(b.scriptCharset)A.charset=b.scriptCharset;\nA.src=b.url;if(!d){var C=false;A.onload=A.onreadystatechange=function(){if(!C&&(!this.readyState||this.readyState===\"loaded\"||this.readyState===\"complete\")){C=true;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);A.onload=A.onreadystatechange=null;r&&A.parentNode&&r.removeChild(A)}}}r.insertBefore(A,r.firstChild);return B}var J=false,w=b.xhr();if(w){b.username?w.open(h,b.url,b.async,b.username,b.password):w.open(h,b.url,b.async);try{if(b.data!=null&&!l||a&&a.contentType)w.setRequestHeader(\"Content-Type\",\nb.contentType);if(b.ifModified){c.lastModified[b.url]&&w.setRequestHeader(\"If-Modified-Since\",c.lastModified[b.url]);c.etag[b.url]&&w.setRequestHeader(\"If-None-Match\",c.etag[b.url])}o||w.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");w.setRequestHeader(\"Accept\",b.dataType&&b.accepts[b.dataType]?b.accepts[b.dataType]+\", */*; q=0.01\":b.accepts._default)}catch(I){}if(b.beforeSend&&b.beforeSend.call(b.context,w,b)===false){b.global&&c.active--===1&&c.event.trigger(\"ajaxStop\");w.abort();return false}b.global&&\nc.triggerGlobal(b,\"ajaxSend\",[w,b]);var L=w.onreadystatechange=function(m){if(!w||w.readyState===0||m===\"abort\"){J||c.handleComplete(b,w,e,f);J=true;if(w)w.onreadystatechange=c.noop}else if(!J&&w&&(w.readyState===4||m===\"timeout\")){J=true;w.onreadystatechange=c.noop;e=m===\"timeout\"?\"timeout\":!c.httpSuccess(w)?\"error\":b.ifModified&&c.httpNotModified(w,b.url)?\"notmodified\":\"success\";var p;if(e===\"success\")try{f=c.httpData(w,b.dataType,b)}catch(q){e=\"parsererror\";p=q}if(e===\"success\"||e===\"notmodified\")d||\nc.handleSuccess(b,w,e,f);else c.handleError(b,w,e,p);d||c.handleComplete(b,w,e,f);m===\"timeout\"&&w.abort();if(b.async)w=null}};try{var g=w.abort;w.abort=function(){w&&Function.prototype.call.call(g,w);L(\"abort\")}}catch(i){}b.async&&b.timeout>0&&setTimeout(function(){w&&!J&&L(\"timeout\")},b.timeout);try{w.send(l||b.data==null?null:b.data)}catch(n){c.handleError(b,w,null,n);c.handleComplete(b,w,e,f)}b.async||L();return w}},param:function(a,b){var d=[],e=function(h,l){l=c.isFunction(l)?l():l;d[d.length]=\nencodeURIComponent(h)+\"=\"+encodeURIComponent(l)};if(b===B)b=c.ajaxSettings.traditional;if(c.isArray(a)||a.jquery)c.each(a,function(){e(this.name,this.value)});else for(var f in a)da(f,a[f],b,e);return d.join(\"&\").replace(tb,\"+\")}});c.extend({active:0,lastModified:{},etag:{},handleError:function(a,b,d,e){a.error&&a.error.call(a.context,b,d,e);a.global&&c.triggerGlobal(a,\"ajaxError\",[b,a,e])},handleSuccess:function(a,b,d,e){a.success&&a.success.call(a.context,e,d,b);a.global&&c.triggerGlobal(a,\"ajaxSuccess\",\n[b,a])},handleComplete:function(a,b,d){a.complete&&a.complete.call(a.context,b,d);a.global&&c.triggerGlobal(a,\"ajaxComplete\",[b,a]);a.global&&c.active--===1&&c.event.trigger(\"ajaxStop\")},triggerGlobal:function(a,b,d){(a.context&&a.context.url==null?c(a.context):c.event).trigger(b,d)},httpSuccess:function(a){try{return!a.status&&location.protocol===\"file:\"||a.status>=200&&a.status<300||a.status===304||a.status===1223}catch(b){}return false},httpNotModified:function(a,b){var d=a.getResponseHeader(\"Last-Modified\"),\ne=a.getResponseHeader(\"Etag\");if(d)c.lastModified[b]=d;if(e)c.etag[b]=e;return a.status===304},httpData:function(a,b,d){var e=a.getResponseHeader(\"content-type\")||\"\",f=b===\"xml\"||!b&&e.indexOf(\"xml\")>=0;a=f?a.responseXML:a.responseText;f&&a.documentElement.nodeName===\"parsererror\"&&c.error(\"parsererror\");if(d&&d.dataFilter)a=d.dataFilter(a,b);if(typeof a===\"string\")if(b===\"json\"||!b&&e.indexOf(\"json\")>=0)a=c.parseJSON(a);else if(b===\"script\"||!b&&e.indexOf(\"javascript\")>=0)c.globalEval(a);return a}});\nif(E.ActiveXObject)c.ajaxSettings.xhr=function(){if(E.location.protocol!==\"file:\")try{return new E.XMLHttpRequest}catch(a){}try{return new E.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(b){}};c.support.ajax=!!c.ajaxSettings.xhr();var ea={},vb=/^(?:toggle|show|hide)$/,wb=/^([+\\-]=)?([\\d+.\\-]+)(.*)$/,ba,pa=[[\"height\",\"marginTop\",\"marginBottom\",\"paddingTop\",\"paddingBottom\"],[\"width\",\"marginLeft\",\"marginRight\",\"paddingLeft\",\"paddingRight\"],[\"opacity\"]];c.fn.extend({show:function(a,b,d){if(a||a===0)return this.animate(S(\"show\",\n3),a,b,d);else{d=0;for(var e=this.length;d<e;d++){a=this[d];b=a.style.display;if(!c.data(a,\"olddisplay\")&&b===\"none\")b=a.style.display=\"\";b===\"\"&&c.css(a,\"display\")===\"none\"&&c.data(a,\"olddisplay\",qa(a.nodeName))}for(d=0;d<e;d++){a=this[d];b=a.style.display;if(b===\"\"||b===\"none\")a.style.display=c.data(a,\"olddisplay\")||\"\"}return this}},hide:function(a,b,d){if(a||a===0)return this.animate(S(\"hide\",3),a,b,d);else{a=0;for(b=this.length;a<b;a++){d=c.css(this[a],\"display\");d!==\"none\"&&c.data(this[a],\"olddisplay\",\nd)}for(a=0;a<b;a++)this[a].style.display=\"none\";return this}},_toggle:c.fn.toggle,toggle:function(a,b,d){var e=typeof a===\"boolean\";if(c.isFunction(a)&&c.isFunction(b))this._toggle.apply(this,arguments);else a==null||e?this.each(function(){var f=e?a:c(this).is(\":hidden\");c(this)[f?\"show\":\"hide\"]()}):this.animate(S(\"toggle\",3),a,b,d);return this},fadeTo:function(a,b,d,e){return this.filter(\":hidden\").css(\"opacity\",0).show().end().animate({opacity:b},a,d,e)},animate:function(a,b,d,e){var f=c.speed(b,\nd,e);if(c.isEmptyObject(a))return this.each(f.complete);return this[f.queue===false?\"each\":\"queue\"](function(){var h=c.extend({},f),l,k=this.nodeType===1,o=k&&c(this).is(\":hidden\"),x=this;for(l in a){var r=c.camelCase(l);if(l!==r){a[r]=a[l];delete a[l];l=r}if(a[l]===\"hide\"&&o||a[l]===\"show\"&&!o)return h.complete.call(this);if(k&&(l===\"height\"||l===\"width\")){h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,\"display\")===\"inline\"&&c.css(this,\"float\")===\"none\")if(c.support.inlineBlockNeedsLayout)if(qa(this.nodeName)===\n\"inline\")this.style.display=\"inline-block\";else{this.style.display=\"inline\";this.style.zoom=1}else this.style.display=\"inline-block\"}if(c.isArray(a[l])){(h.specialEasing=h.specialEasing||{})[l]=a[l][1];a[l]=a[l][0]}}if(h.overflow!=null)this.style.overflow=\"hidden\";h.curAnim=c.extend({},a);c.each(a,function(A,C){var J=new c.fx(x,h,A);if(vb.test(C))J[C===\"toggle\"?o?\"show\":\"hide\":C](a);else{var w=wb.exec(C),I=J.cur()||0;if(w){var L=parseFloat(w[2]),g=w[3]||\"px\";if(g!==\"px\"){c.style(x,A,(L||1)+g);I=(L||\n1)/J.cur()*I;c.style(x,A,I+g)}if(w[1])L=(w[1]===\"-=\"?-1:1)*L+I;J.custom(I,L,g)}else J.custom(I,C,\"\")}});return true})},stop:function(a,b){var d=c.timers;a&&this.queue([]);this.each(function(){for(var e=d.length-1;e>=0;e--)if(d[e].elem===this){b&&d[e](true);d.splice(e,1)}});b||this.dequeue();return this}});c.each({slideDown:S(\"show\",1),slideUp:S(\"hide\",1),slideToggle:S(\"toggle\",1),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){c.fn[a]=function(d,e,f){return this.animate(b,\nd,e,f)}});c.extend({speed:function(a,b,d){var e=a&&typeof a===\"object\"?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:typeof e.duration===\"number\"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(){e.queue!==false&&c(this).dequeue();c.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,d,e){return d+e*a},swing:function(a,b,d,e){return(-Math.cos(a*\nMath.PI)/2+0.5)*e+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;if(!b.orig)b.orig={}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a=parseFloat(c.css(this.elem,this.prop));return a&&a>-1E4?a:0},custom:function(a,b,d){function e(l){return f.step(l)}\nvar f=this,h=c.fx;this.startTime=c.now();this.start=a;this.end=b;this.unit=d||this.unit||\"px\";this.now=this.start;this.pos=this.state=0;e.elem=this.elem;if(e()&&c.timers.push(e)&&!ba)ba=setInterval(h.tick,h.interval)},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop===\"width\"||this.prop===\"height\"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;\nthis.custom(this.cur(),0)},step:function(a){var b=c.now(),d=true;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var e in this.options.curAnim)if(this.options.curAnim[e]!==true)d=false;if(d){if(this.options.overflow!=null&&!c.support.shrinkWrapBlocks){var f=this.elem,h=this.options;c.each([\"\",\"X\",\"Y\"],function(k,o){f.style[\"overflow\"+o]=h.overflow[k]})}this.options.hide&&c(this.elem).hide();if(this.options.hide||\nthis.options.show)for(var l in this.options.curAnim)c.style(this.elem,l,this.options.orig[l]);this.options.complete.call(this.elem)}return false}else{a=b-this.startTime;this.state=a/this.options.duration;b=this.options.easing||(c.easing.swing?\"swing\":\"linear\");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};c.extend(c.fx,{tick:function(){for(var a=\nc.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(ba);ba=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,\"opacity\",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=(a.prop===\"width\"||a.prop===\"height\"?Math.max(0,a.now):a.now)+a.unit;else a.elem[a.prop]=a.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===\nb.elem}).length};var xb=/^t(?:able|d|h)$/i,Ia=/^(?:body|html)$/i;c.fn.offset=\"getBoundingClientRect\"in t.documentElement?function(a){var b=this[0],d;if(a)return this.each(function(l){c.offset.setOffset(this,a,l)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,h=f.documentElement;if(!d||!c.contains(h,b))return d||{top:0,left:0};b=f.body;f=fa(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&\nh.scrollTop||b.scrollTop)-(h.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&h.scrollLeft||b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(x){c.offset.setOffset(this,a,x)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d,e=b.offsetParent,f=b.ownerDocument,h=f.documentElement,l=f.body;d=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;\nfor(var k=b.offsetTop,o=b.offsetLeft;(b=b.parentNode)&&b!==l&&b!==h;){if(c.offset.supportsFixedPosition&&d.position===\"fixed\")break;d=f?f.getComputedStyle(b,null):b.currentStyle;k-=b.scrollTop;o-=b.scrollLeft;if(b===e){k+=b.offsetTop;o+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&xb.test(b.nodeName))){k+=parseFloat(d.borderTopWidth)||0;o+=parseFloat(d.borderLeftWidth)||0}e=b.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&d.overflow!==\"visible\"){k+=\nparseFloat(d.borderTopWidth)||0;o+=parseFloat(d.borderLeftWidth)||0}d=d}if(d.position===\"relative\"||d.position===\"static\"){k+=l.offsetTop;o+=l.offsetLeft}if(c.offset.supportsFixedPosition&&d.position===\"fixed\"){k+=Math.max(h.scrollTop,l.scrollTop);o+=Math.max(h.scrollLeft,l.scrollLeft)}return{top:k,left:o}};c.offset={initialize:function(){var a=t.body,b=t.createElement(\"div\"),d,e,f,h=parseFloat(c.css(a,\"marginTop\"))||0;c.extend(b.style,{position:\"absolute\",top:0,left:0,margin:0,border:0,width:\"1px\",\nheight:\"1px\",visibility:\"hidden\"});b.innerHTML=\"<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>\";a.insertBefore(b,a.firstChild);d=b.firstChild;e=d.firstChild;f=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=\nf.offsetTop===5;e.style.position=\"fixed\";e.style.top=\"20px\";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top=\"\";d.style.overflow=\"hidden\";d.style.position=\"relative\";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.css(a,\n\"marginTop\"))||0;d+=parseFloat(c.css(a,\"marginLeft\"))||0}return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,\"position\");if(e===\"static\")a.style.position=\"relative\";var f=c(a),h=f.offset(),l=c.css(a,\"top\"),k=c.css(a,\"left\"),o=e===\"absolute\"&&c.inArray(\"auto\",[l,k])>-1;e={};var x={};if(o)x=f.position();l=o?x.top:parseInt(l,10)||0;k=o?x.left:parseInt(k,10)||0;if(c.isFunction(b))b=b.call(a,d,h);if(b.top!=null)e.top=b.top-h.top+l;if(b.left!=null)e.left=b.left-h.left+k;\"using\"in b?b.using.call(a,\ne):f.css(e)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=Ia.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.css(a,\"marginTop\"))||0;d.left-=parseFloat(c.css(a,\"marginLeft\"))||0;e.top+=parseFloat(c.css(b[0],\"borderTopWidth\"))||0;e.left+=parseFloat(c.css(b[0],\"borderLeftWidth\"))||0;return{top:d.top-e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||t.body;a&&!Ia.test(a.nodeName)&&\nc.css(a,\"position\")===\"static\";)a=a.offsetParent;return a})}});c.each([\"Left\",\"Top\"],function(a,b){var d=\"scroll\"+b;c.fn[d]=function(e){var f=this[0],h;if(!f)return null;if(e!==B)return this.each(function(){if(h=fa(this))h.scrollTo(!a?e:c(h).scrollLeft(),a?e:c(h).scrollTop());else this[d]=e});else return(h=fa(f))?\"pageXOffset\"in h?h[a?\"pageYOffset\":\"pageXOffset\"]:c.support.boxModel&&h.document.documentElement[d]||h.document.body[d]:f[d]}});c.each([\"Height\",\"Width\"],function(a,b){var d=b.toLowerCase();\nc.fn[\"inner\"+b]=function(){return this[0]?parseFloat(c.css(this[0],d,\"padding\")):null};c.fn[\"outer\"+b]=function(e){return this[0]?parseFloat(c.css(this[0],d,e?\"margin\":\"border\")):null};c.fn[d]=function(e){var f=this[0];if(!f)return e==null?null:this;if(c.isFunction(e))return this.each(function(l){var k=c(this);k[d](e.call(this,l,k[d]()))});if(c.isWindow(f))return f.document.compatMode===\"CSS1Compat\"&&f.document.documentElement[\"client\"+b]||f.document.body[\"client\"+b];else if(f.nodeType===9)return Math.max(f.documentElement[\"client\"+\nb],f.body[\"scroll\"+b],f.documentElement[\"scroll\"+b],f.body[\"offset\"+b],f.documentElement[\"offset\"+b]);else if(e===B){f=c.css(f,d);var h=parseFloat(f);return c.isNaN(h)?f:h}else return this.css(d,typeof e===\"string\"?e:e+\"px\")}})})(window);\n"
          },
          "redirectURL": "",
          "headersSize": 356,
          "bodySize": 27106
        },
        "cache": {},
        "timings": {
          "blocked": 9,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 6,
          "receive": 4
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 13,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_js/ddsmoothmenu.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 280,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 07:16:58 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Expires",
              "value": "Fri, 25 May 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=86400"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 7614,
            "text": "//** Smooth Navigational Menu- By Dynamic Drive DHTML code library: http://www.dynamicdrive.com\n//** Script Download/ instructions page: http://www.dynamicdrive.com/dynamicindex1/ddlevelsmenu/\n//** Menu created: Nov 12, 2008\n\n//** Dec 12th, 08\" (v1.01): Fixed Shadow issue when multiple LIs within the same UL (level) contain sub menus: http://www.dynamicdrive.com/forums/showthread.php?t=39177&highlight=smooth\n\n//** Feb 11th, 09\" (v1.02): The currently active main menu item (LI A) now gets a CSS class of \".selected\", including sub menu items.\n\n//** May 1st, 09\" (v1.3):\n//** 1) Now supports vertical (side bar) menu mode- set \"orientation\" to 'v'\n//** 2) In IE6, shadows are now always disabled\n\n//** July 27th, 09\" (v1.31): Fixed bug so shadows can be disabled if desired.\n//** Feb 2nd, 10\" (v1.4): Adds ability to specify delay before sub menus appear and disappear, respectively. See showhidedelay variable below\n\nvar ddsmoothmenu={\n\n//Specify full URL to down and right arrow images (23 is padding-right added to top level LIs with drop downs):\narrowimages: {down:['downarrowclass', 'down.gif', 23], right:['rightarrowclass', 'right.gif']},\ntransition: {overtime:300, outtime:300}, //duration of slide in/ out animation, in milliseconds\nshadow: {enable:true, offsetx:5, offsety:5}, //enable shadow?\nshowhidedelay: {showdelay: 100, hidedelay: 200}, //set delay in milliseconds before sub menus appear and disappear, respectively\n\n///////Stop configuring beyond here///////////////////////////\n\ndetectwebkit: navigator.userAgent.toLowerCase().indexOf(\"applewebkit\")!=-1, //detect WebKit browsers (Safari, Chrome etc)\ndetectie6: document.all && !window.XMLHttpRequest,\n\ngetajaxmenu:function($, setting){ //function to fetch external page containing the panel DIVs\n\tvar $menucontainer=$('#'+setting.contentsource[0]) //reference empty div on page that will hold menu\n\t$menucontainer.html(\"Loading Menu...\")\n\t$.ajax({\n\t\turl: setting.contentsource[1], //path to external menu file\n\t\tasync: true,\n\t\terror:function(ajaxrequest){\n\t\t\t$menucontainer.html('Error fetching content. Server Response: '+ajaxrequest.responseText)\n\t\t},\n\t\tsuccess:function(content){\n\t\t\t$menucontainer.html(content)\n\t\t\tddsmoothmenu.buildmenu($, setting)\n\t\t}\n\t})\n},\n\n\nbuildmenu:function($, setting){\n\tvar smoothmenu=ddsmoothmenu\n\tvar $mainmenu=$(\"#\"+setting.mainmenuid+\">ul\") //reference main menu UL\n\t$mainmenu.parent().get(0).className=setting.classname || \"ddsmoothmenu\"\n\tvar $headers=$mainmenu.find(\"ul\").parent()\n\t$headers.hover(\n\t\tfunction(e){\n\t\t\t$(this).children('a:eq(0)').addClass('selected')\n\t\t},\n\t\tfunction(e){\n\t\t\t$(this).children('a:eq(0)').removeClass('selected')\n\t\t}\n\t)\n\t$headers.each(function(i){ //loop through each LI header\n\t\tvar $curobj=$(this).css({zIndex: 100-i}) //reference current LI header\n\t\tvar $subul=$(this).find('ul:eq(0)').css({display:'block'})\n\t\t$subul.data('timers', {})\n\t\tthis._dimensions={w:this.offsetWidth, h:this.offsetHeight, subulw:$subul.outerWidth(), subulh:$subul.outerHeight()}\n\t\tthis.istopheader=$curobj.parents(\"ul\").length==1? true : false //is top level header?\n\t\t$subul.css({top:this.istopheader && setting.orientation!='v'? this._dimensions.h+\"px\" : 0})\n\t\t/*$curobj.children(\"a:eq(0)\").css(this.istopheader? {paddingRight: smoothmenu.arrowimages.down[2]} : {}).append( //add arrow images\n\t\t\t'<img src=\"'+ (this.istopheader && setting.orientation!='v'? smoothmenu.arrowimages.down[1] : smoothmenu.arrowimages.right[1])\n\t\t\t+'\" class=\"' + (this.istopheader && setting.orientation!='v'? smoothmenu.arrowimages.down[0] : smoothmenu.arrowimages.right[0])\n\t\t\t+ '\" style=\"border:0;\" />'\n\t\t)*/\n\t\tif (smoothmenu.shadow.enable){\n\t\t\tthis._shadowoffset={x:(this.istopheader?$subul.offset().left+smoothmenu.shadow.offsetx : this._dimensions.w), y:(this.istopheader? $subul.offset().top+smoothmenu.shadow.offsety : $curobj.position().top)} //store this shadow's offsets\n\t\t\tif (this.istopheader)\n\t\t\t\t$parentshadow=$(document.body)\n\t\t\telse{\n\t\t\t\tvar $parentLi=$curobj.parents(\"li:eq(0)\")\n\t\t\t\t$parentshadow=$parentLi.get(0).$shadow\n\t\t\t}\n\t\t\tthis.$shadow=$('<div class=\"ddshadow'+(this.istopheader? ' toplevelshadow' : '')+'\"></div>').prependTo($parentshadow).css({left:this._shadowoffset.x+'px', top:this._shadowoffset.y+'px'})  //insert shadow DIV and set it to parent node for the next shadow div\n\t\t}\n\t\t$curobj.hover(\n\t\t\tfunction(e){\n\t\t\t\tvar $targetul=$subul //reference UL to reveal\n\t\t\t\tvar header=$curobj.get(0) //reference header LI as DOM object\n\t\t\t\tclearTimeout($targetul.data('timers').hidetimer)\n\t\t\t\t$targetul.data('timers').showtimer=setTimeout(function(){\n\t\t\t\t\theader._offsets={left:$curobj.offset().left, top:$curobj.offset().top}\n\t\t\t\t\tvar menuleft=header.istopheader && setting.orientation!='v'? 0 : header._dimensions.w\n\t\t\t\t\tmenuleft=(header._offsets.left+menuleft+header._dimensions.subulw>$(window).width())? (header.istopheader && setting.orientation!='v'? -header._dimensions.subulw+header._dimensions.w : -header._dimensions.w) : menuleft //calculate this sub menu's offsets from its parent\n\t\t\t\t\tif ($targetul.queue().length<=1){ //if 1 or less queued animations\n\t\t\t\t\t\t$targetul.css({left:menuleft+\"px\", width:header._dimensions.subulw+'px'}).animate({height:'show',opacity:'show'}, ddsmoothmenu.transition.overtime)\n\t\t\t\t\t\tif (smoothmenu.shadow.enable){\n\t\t\t\t\t\t\tvar shadowleft=header.istopheader? $targetul.offset().left+ddsmoothmenu.shadow.offsetx : menuleft\n\t\t\t\t\t\t\tvar shadowtop=header.istopheader?$targetul.offset().top+smoothmenu.shadow.offsety : header._shadowoffset.y\n\t\t\t\t\t\t\tif (!header.istopheader && ddsmoothmenu.detectwebkit){ //in WebKit browsers, restore shadow's opacity to full\n\t\t\t\t\t\t\t\theader.$shadow.css({opacity:1})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\theader.$shadow.css({overflow:'', width:header._dimensions.subulw+'px', left:shadowleft+'px', top:shadowtop+'px'}).animate({height:header._dimensions.subulh+'px'}, ddsmoothmenu.transition.overtime)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, ddsmoothmenu.showhidedelay.showdelay)\n\t\t\t},\n\t\t\tfunction(e){\n\t\t\t\tvar $targetul=$subul\n\t\t\t\tvar header=$curobj.get(0)\n\t\t\t\tclearTimeout($targetul.data('timers').showtimer)\n\t\t\t\t$targetul.data('timers').hidetimer=setTimeout(function(){\n\t\t\t\t\t$targetul.animate({height:'hide', opacity:'hide'}, ddsmoothmenu.transition.outtime)\n\t\t\t\t\tif (smoothmenu.shadow.enable){\n\t\t\t\t\t\tif (ddsmoothmenu.detectwebkit){ //in WebKit browsers, set first child shadow's opacity to 0, as \"overflow:hidden\" doesn't work in them\n\t\t\t\t\t\t\theader.$shadow.children('div:eq(0)').css({opacity:0})\n\t\t\t\t\t\t}\n\t\t\t\t\t\theader.$shadow.css({overflow:'hidden'}).animate({height:0}, ddsmoothmenu.transition.outtime)\n\t\t\t\t\t}\n\t\t\t\t}, ddsmoothmenu.showhidedelay.hidedelay)\n\t\t\t}\n\t\t) //end hover\n\t}) //end $headers.each()\n\t$mainmenu.find(\"ul\").css({display:'none', visibility:'visible'})\n},\n\ninit:function(setting){\n\tif (typeof setting.customtheme==\"object\" && setting.customtheme.length==2){ //override default menu colors (default/hover) with custom set?\n\t\tvar mainmenuid='#'+setting.mainmenuid\n\t\tvar mainselector=(setting.orientation==\"v\")? mainmenuid : mainmenuid+', '+mainmenuid\n\t\tdocument.write('<style type=\"text/css\">\\n'\n\t\t\t+mainselector+' ul li a {background:'+setting.customtheme[0]+';}\\n'\n\t\t\t+mainmenuid+' ul li a:hover {background:'+setting.customtheme[1]+';}\\n'\n\t\t+'</style>')\n\t}\n\tthis.shadow.enable=(document.all && !window.XMLHttpRequest)? false : this.shadow.enable //in IE6, always disable shadow\n\tjQuery(document).ready(function($){ //ajax menu?\n\t\tif (typeof setting.contentsource==\"object\"){ //if external ajax menu\n\t\t\tddsmoothmenu.getajaxmenu($, setting)\n\t\t}\n\t\telse{ //else if markup menu\n\t\t\tddsmoothmenu.buildmenu($, setting)\n\t\t}\n\t})\n}\n\n} //end ddsmoothmenu variable\n"
          },
          "redirectURL": "",
          "headersSize": 356,
          "bodySize": 2840
        },
        "cache": {},
        "timings": {
          "blocked": 10,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 21,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/logo.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 325,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "34065"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:20 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 34065
          },
          "redirectURL": "",
          "headersSize": 313,
          "bodySize": 34065
        },
        "cache": {},
        "timings": {
          "blocked": 13,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 5
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 22,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/1.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 322,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "1563"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:17 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 1563
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 1563
        },
        "cache": {},
        "timings": {
          "blocked": 19,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 23,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/2.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 322,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "1359"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:17 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 1359
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 1359
        },
        "cache": {},
        "timings": {
          "blocked": 21,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 2,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 23,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/3.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 322,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "1565"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:17 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 1565
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 1565
        },
        "cache": {},
        "timings": {
          "blocked": 23,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 0,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 24,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/4.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [],
          "headersSize": 322,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "1036"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:17 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 1036
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 1036
        },
        "cache": {},
        "timings": {
          "blocked": 23,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 1,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.113+04:00",
        "time": 37,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/system_js.php?script=imgclear&hash=q163o3286n7rp4p4nr937sr67o0s8n47&_cv=5.14.2.11",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            }
          ],
          "queryString": [
            {
              "name": "_cv",
              "value": "5.14.2.11"
            },
            {
              "name": "hash",
              "value": "q163o3286n7rp4p4nr937sr67o0s8n47"
            },
            {
              "name": "script",
              "value": "imgclear"
            }
          ],
          "headersSize": 342,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 3566,
            "text": "/*\r\n * ATTENTION! This file is automatically created from several JavaScript files.\r\n * Find file path and name in the comments in the beginning of the each code block\r\n */\r\n\r\nfunction csf111(){this.csfI11=function(a){var c=[0,0,0];if(aParts=a.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/i)){c[0]=aParts[1];c[1]=aParts[2];c[2]=aParts[3]}else{if(aParts=a.match(/#([a-f0-9]{3,6})/i)){a=aParts[1];if(a.length==3){var d=\"\"+a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2);a=d}if(a.length==6){var b=parseInt(a,16);c[0]=b>>16&255;c[1]=b>>8&255;c[2]=b&255}}}return c};this.csf1I1=function(b){var a=0;b[0]=b[0]/255;b[1]=b[1]/255;b[2]=b[2]/255;if(b.length==3){for(i=0;i<3;i++){b[i]=b[i]<=0.03928?b[i]/12.92:Math.pow((b[i]+0.055)/1.055,2.4)}a=0.2126*b[0]+0.7152*b[1]+0.0722*b[2]}return a};this.csfII1=function(d,a){var c=\"\";if(window.getComputedStyle){var e=window.getComputedStyle(d,a);c=e.getPropertyValue(a)}else{if(d.currentStyle){var b;while((b=a.indexOf(\"-\"))!=-1){a=a.substr(0,b)+a.substr(b+1,1).toUpperCase()+a.substr(b+2)}if(d.currentStyle[a]){c=d.currentStyle[a]}}}return c};this.csfIII=function(){var k=document.swapNode!=undefined?true:false;var q=document.getElementById(\"signb76e823b\");var l=\"#fff\";var c=\"#000\";if(q!=null){q=document.body.appendChild(q);q.style.zIndex=1000;var w=q.getElementsByTagName(\"A\");if(w.length>0){var o=w[0];var y=this.csfII1(o,\"font-size\");var u=y.match(/^([0-9\\.]+) *(em|pt|px|\\%)$/i);if(u!=null&&u.length==3){u[1]=parseFloat(u[1]);u[2]=u[2].toLowerCase();if(u[2]==\"em\"&&u[1]<0.8||u[2]==\"pt\"&&u[1]<7||u[2]==\"px\"&&u[1]<8||u[2]==\"%\"&&u[1]<80){o.style.fontSize=\"12px\"}}var j=true;var v=true;var h=true;do{if(j){if(o.tagName){if(o.offsetWidth<100||o.offsetHeight<8){if(this.csfII1(o,\"display\")==\"none\"){if(o.tagName==\"TABLE\"){if(o.id&&o.id==\"sign\"){o.id=\"sign\"+Math.floor(Math.random()*1000)}o.style.display=k?\"block\":\"table\"}else{if(o.tagName==\"TR\"){o.style.display=k?\"block\":\"table-row\"}else{if(o.tagName==\"TD\"){o.style.display=k?\"block\":\"table-cell\"}else{o.style.display=\"block\"}}}}if(this.csfII1(o,\"visibility\")==\"hidden\"){o.style.visibility=\"visible\"}var r=this.csfII1(o,\"width\");var e=parseInt(r);if(r!=\"auto\"&&e!=isNaN&&(r.indexOf(\"%\")>0&&e<20||e<100)){o.style.width=\"auto\"}var p=this.csfII1(o,\"height\");var x=parseInt(p);if(p!=\"auto\"&&x!=isNaN&&(p.indexOf(\"%\")>0&&x<5||x<8)){o.style.height=\"auto\"}}var n=this.csfII1(o,\"position\");if(n!=\"static\"){o.style.position=\"static\"}var f=this.csfII1(o,\"background-image\");if(f!=\"none\"){o.style.backgroundImage=\"none\"}}if(o==q){j=false}}if(v){var d=this.csfII1(o,\"background-color\");if(d.match(/^(rgb\\(|#)/i)){l=d;v=false}}if(h){var m=this.csfII1(o,\"color\");if(m.match(/^(rgb\\(|#)/i)){c=m;h=false}}if(o.tagName&&o.tagName==\"BODY\"){break}}while(o=o.parentNode);q.style.backgroundColor=l;var b=this.csfI11(l);var a=[parseInt(b[0]),parseInt(b[1]),parseInt(b[2])];var t=this.csf1I1(b);var s=this.csf1I1(this.csfI11(c));var g=(Math.max(t,s)+0.05)/(Math.min(t,s)+0.05);if(g<2.5){for(i=0;i<3;i++){a[i]=a[i]-125<0?a[i]+125:a[i]-125}for(i=0;i<w.length;i++){w[i].style.color=\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\"}}}}}}var func3133=new csf111();setTimeout(function(a){return function(){a.csfIII()}}(func3133),500);AMI.Template.Locale.merge({mediaBoxZommed : \"Изображение уменьшено, <a href=\\\"\\\">показать в оригинальном размере __width__х__height__</a>\", mediaBoxNotZommed : \"Изображение увеличено, <a href=\\\"\\\">уменьшить до размеров окна</a>\", mediaBoxCounter : \"Изображение __current__ из __total__\", mediaBoxPrevious : \"Предыдущее изображение\", mediaBoxNext : \"Следующее изображение\"});"
          },
          "redirectURL": "",
          "headersSize": 298,
          "bodySize": 1778
        },
        "cache": {},
        "timings": {
          "blocked": 11,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 26,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.416+04:00",
        "time": 18,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/components/com_k2/js/k2.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 417,
          "bodySize": -1
        },
        "response": {
          "status": 404,
          "statusText": "Not Found",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/html; charset=UTF-8"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "X-Powered-By",
              "value": "PHP/5.2.17"
            },
            {
              "name": "Content-Length",
              "value": "19"
            }
          ],
          "content": {
            "mimeType": "text/html",
            "size": 19,
            "text": "Wrong request (404)"
          },
          "redirectURL": "",
          "headersSize": 218,
          "bodySize": 19
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 18,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.571+04:00",
        "time": 42,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/clouds_logo.swf",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 492,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-shockwave-flash"
            },
            {
              "name": "Content-Length",
              "value": "304573"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:23 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "application/x-shockwave-flash",
            "size": 304573
          },
          "redirectURL": "",
          "headersSize": 334,
          "bodySize": 304573
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 1,
          "receive": 41
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.572+04:00",
        "time": 12,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/girl.swf",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 485,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/x-shockwave-flash"
            },
            {
              "name": "Content-Length",
              "value": "23816"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:23 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "application/x-shockwave-flash",
            "size": 23816
          },
          "redirectURL": "",
          "headersSize": 333,
          "bodySize": 23816
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 9
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.724+04:00",
        "time": 2,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/bg_02.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 503,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "1575"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:16 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": 1575
          },
          "redirectURL": "",
          "headersSize": 313,
          "bodySize": 1575
        },
        "cache": {},
        "timings": {
          "blocked": 1,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 0,
          "receive": 1
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.725+04:00",
        "time": 115,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/bg_01.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 503,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "175215"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:16 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": -1
          },
          "redirectURL": "",
          "headersSize": 315,
          "bodySize": -1
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 1,
          "receive": 114
        }
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.725+04:00",
        "time": 3,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/buble_text.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 508,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "2948"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:18 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 2948
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 2948
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.725+04:00",
        "time": 3,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/buble_small.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 509,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "3470"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:18 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 3470
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 3470
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.725+04:00",
        "time": 3,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/pltopbg.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/_mod_files/_css/dropdown.css"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 486,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "337"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:21 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 337
          },
          "redirectURL": "",
          "headersSize": 311,
          "bodySize": 337
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.726+04:00",
        "time": 3,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/plbodybg.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/_mod_files/_css/dropdown.css"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 487,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "215"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:21 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 215
          },
          "redirectURL": "",
          "headersSize": 311,
          "bodySize": 215
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.728+04:00",
        "time": 5,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/plmark.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/_mod_files/_css/dropdown.css"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 485,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "4210"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:21 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 4210
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 4210
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 4,
          "receive": 1
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.730+04:00",
        "time": 94,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/elka.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 502,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "330088"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:19 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 330088
          },
          "redirectURL": "",
          "headersSize": 314,
          "bodySize": 330088
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 91
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.731+04:00",
        "time": 31,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/qa.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 500,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "18671"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:22 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 18671
          },
          "redirectURL": "",
          "headersSize": 313,
          "bodySize": 18671
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 8,
          "receive": 23
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.733+04:00",
        "time": 22,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/introtext.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 507,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "48768"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:20 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 48768
          },
          "redirectURL": "",
          "headersSize": 313,
          "bodySize": 48768
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 3,
          "receive": 19
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.734+04:00",
        "time": 103,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/mountain.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 506,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "199294"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:21 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": -1
          },
          "redirectURL": "",
          "headersSize": 314,
          "bodySize": -1
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 9,
          "receive": 94
        }
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.735+04:00",
        "time": 35,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/bg_03.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 503,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "33719"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:17 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": 33719
          },
          "redirectURL": "",
          "headersSize": 314,
          "bodySize": 33719
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 13,
          "receive": 22
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.795+04:00",
        "time": 26,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/news_bg_1.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 507,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "84221"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:21 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 84221
          },
          "redirectURL": "",
          "headersSize": 313,
          "bodySize": 84221
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 4,
          "receive": 22
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.796+04:00",
        "time": 19,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/bg_left.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 505,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "2796"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:18 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 2796
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 2796
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 19,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.797+04:00",
        "time": 7,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/bg.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 500,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "2800"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:18 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 2800
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 2800
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 2
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.799+04:00",
        "time": 15,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/bg_right.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 506,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "2792"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:18 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 2792
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 2792
        },
        "cache": {},
        "timings": {
          "blocked": 5,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 8,
          "receive": 2
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.799+04:00",
        "time": 20,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/readmore.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 506,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "1380"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:22 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/png",
            "size": 1380
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 1380
        },
        "cache": {},
        "timings": {
          "blocked": 15,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIPAddress": "85.249.230.108",
        "connection": "80"
      },
      {
        "pageref": "page_2908",
        "startedDateTime": "2012-05-24T16:55:35.799+04:00",
        "time": 39,
        "request": {
          "method": "GET",
          "url": "http://ski-kazan.ru/_mod_files/ce_images/main/bg_04.jpg",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "uh_prev_mod",
              "value": "pages"
            },
            {
              "name": "uh_prev_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            },
            {
              "name": "uh_curr_mod",
              "value": "pages"
            },
            {
              "name": "uh_curr_url",
              "value": "http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "headers": [
            {
              "name": "Host",
              "value": "ski-kazan.ru"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:11.0) Gecko/20100101 Firefox/11.0"
            },
            {
              "name": "Accept",
              "value": "image/png,image/*;q=0.8,*/*;q=0.5"
            },
            {
              "name": "Accept-Language",
              "value": "en-us,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "http://ski-kazan.ru/system_css.php?styles=common|home&_cv=5.14.2.11"
            },
            {
              "name": "Cookie",
              "value": "uh_prev_mod=pages; uh_prev_url=http%3A%2F%2Fski-kazan.ru%2F; uh_curr_mod=pages; uh_curr_url=http%3A%2F%2Fski-kazan.ru%2F"
            }
          ],
          "queryString": [],
          "headersSize": 503,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Server",
              "value": "nginx/1.1.0"
            },
            {
              "name": "Date",
              "value": "Thu, 24 May 2012 12:55:35 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/jpeg"
            },
            {
              "name": "Content-Length",
              "value": "19616"
            },
            {
              "name": "Last-Modified",
              "value": "Fri, 27 Apr 2012 06:51:17 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Keep-Alive",
              "value": "timeout=30"
            },
            {
              "name": "Expires",
              "value": "Sat, 23 Jun 2012 12:55:35 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            }
          ],
          "content": {
            "mimeType": "image/jpeg",
            "size": -1
          },
          "redirectURL": "",
          "headersSize": 314,
          "bodySize": -1
        },
        "cache": {},
        "timings": {
          "blocked": 16,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 22,
          "receive": 1
        }
      }
    ]
  }
}